# Validate commit message format using commitlint
echo "ğŸ” Checking commit message format..."

npx --no -- commitlint --edit "$1"

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Commit message validation failed!"
  echo ""
  echo "ğŸ“ Commit message must follow Conventional Commits format:"
  echo "   <type>(<scope>): <subject>"
  echo ""
  echo "ğŸ“‹ Valid types:"
  echo "   docs:     Documentation changes"
  echo "   feat:     New features"
  echo "   fix:      Bug fixes"
  echo "   chore:    Maintenance tasks"
  echo "   style:    Formatting changes"
  echo "   refactor: Code restructuring"
  echo ""
  echo "âœ… Examples:"
  echo "   docs: add deployment guide"
  echo "   feat(api): add new endpoint for user management"
  echo "   fix: correct broken links in README"
  echo ""
  exit 1
fi

echo "âœ… Commit message format is valid"

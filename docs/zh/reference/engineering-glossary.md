# 工程术语表

> 嵌入式系统、传感器工程、信号处理相关术语

---

## 术语索引

| # | 术语 | 英文 | 简要说明 |
|---|------|------|----------|
| 1 | [IMU](#1-imu-惯性测量单元) | Inertial Measurement Unit | 惯性测量单元，包含加速度计和陀螺仪 |
| 2 | [EMG](#2-emg-肌电传感器) | Electromyography | 肌电传感器，测量肌肉电活动 |
| 3 | [采样率](#3-采样率-sampling-rate) | Sampling Rate | 传感器每秒采集数据的次数，单位 Hz |
| 4 | [漂移](#4-漂移-drift) | Drift | 传感器随时间累积的测量误差 |
| 5 | [边缘 AI](#5-边缘-ai-edge-ai) | Edge AI | 在设备端直接运行 AI 推理 |
| 6 | [I2C / SPI](#6-i2c--spi-通信协议) | Communication Protocols | 芯片间的通信协议 |
| 7 | [MCU](#7-mcu-微控制器) | Microcontroller Unit | 微控制器，嵌入式系统的"大脑" |

---

## 1. IMU (惯性测量单元)

**定义：** IMU (Inertial Measurement Unit) 是一种传感器模块，用于测量物体的运动状态。

---

### 组成

| 传感器 | 测量内容 | 单位 | 轴数 |
|--------|----------|------|------|
| **加速度计** | 线性加速度（往哪个方向移动、多快） | g 或 m/s² | 3 轴 (X, Y, Z) |
| **陀螺仪** | 角速度（转动的快慢） | °/s 或 rad/s | 3 轴 (X, Y, Z) |

### 常见 IMU 规格

| 规格 | 说明 |
|------|------|
| **6 轴 IMU** | 3 轴加速度计 + 3 轴陀螺仪 |
| **9 轴 IMU** | 6 轴 + 3 轴磁力计（指南针） |

### Movement Chain AI 选用

我们选用 **STMicroelectronics LSM6DSV16X**（6 轴 IMU）：

| 参数 | 规格 |
|------|------|
| 加速度计量程 | ±2/±4/±8/±16g |
| 陀螺仪量程 | ±125 ~ ±2000 dps |
| 最大采样率 | 7680 Hz |
| 推荐采样率 | 100-200 Hz（运动分析） |
| 工作电流 | 0.55mA @ 104Hz |
| 特色功能 | 内置 MLC（机器学习核心） |

> 详见：[ADR-0002 LSM6DSV16X IMU 选型](../design/decisions/0002-lsm6dsv16x-imu.md)

---

## 2. EMG (肌电传感器)

**定义：** EMG (Electromyography，肌电图) 是一种测量肌肉电活动的传感器技术，用于分析肌肉激活模式。

---

### 工作原理

肌肉收缩时，神经信号触发肌纤维产生**电位变化**（约 0.1-5 mV），EMG 传感器检测并放大这些微弱的电信号。

```text
神经信号 → 肌纤维激活 → 电位变化 → EMG 电极检测 → 信号放大 → 数字化
```

### EMG 信号特性

| 特性 | 数值 |
|------|------|
| 信号幅度 | 0.1 - 5 mV |
| 频率范围 | 20 - 500 Hz |
| 推荐采样率 | 1000 - 2000 Hz |
| 典型信噪比 | 需要滤波处理 |

### 电极类型

| 类型 | 特点 | 适用场景 |
|------|------|----------|
| **湿电极** | 导电凝胶，信号质量最佳 | 医疗级、实验室 |
| **干电极** | 无凝胶，可重复使用 | 消费级可穿戴 |
| **针电极** | 插入肌肉，最精确 | 临床诊断（侵入式） |

Movement Chain AI 选用**干电极**，平衡信号质量与用户体验。

### 在高尔夫中的应用

EMG 是我们的**核心差异化**——市场上 0 家竞品有此功能。

| 应用场景 | EMG 提供的洞察 |
|----------|---------------|
| **肌肉代偿检测** | 核心弱 → 手臂代偿 |
| **发力时序分析** | 髋 → 核心 → 肩 → 臂 顺序 |
| **疲劳预警** | 在受伤前提醒休息 |
| **左右不平衡** | 识别弱侧肌群 |

```text
场景: 用户挥杆"感觉不对"

❌ 无 EMG:  视觉显示"转肩不足" → 用户不知道为什么
✅ 有 EMG:  检测到"核心激活弱 → 肩部代偿" → 给出针对性训练
```

### Movement Chain AI EMG 配置

| 参数 | 规格 |
|------|------|
| EMG 通道数 | 2 通道（左右前臂） |
| 模拟前端芯片 | ADS1292 |
| 采样率 | 1000 Hz |
| 电极类型 | 可重复使用干电极 |

> 详见：[EMG 硬件](../components/emg/hardware.md)

---

## 3. 采样率 (Sampling Rate)

**定义：** 采样率是指传感器每秒采集数据的次数，单位为赫兹 (Hz)。

---

### 公式

$$
f_s = \frac{n}{\Delta t}
$$

| 符号 | 含义 | 单位 |
|------|------|------|
| f_s | 采样率 | Hz |
| n | 采样次数 | 次 |
| Δt | 时间间隔 | s |

### 常见采样率

| 采样率 | 每次采样间隔 | 说明 |
|--------|-------------|------|
| 30 Hz | 33.3 ms | 普通视频帧率 |
| 60 Hz | 16.7 ms | 高帧率视频 |
| 100 Hz | 10 ms | 基础运动捕捉 |
| 500 Hz | 2 ms | IMU 标准采样 |
| 1000 Hz | 1 ms | 高精度 IMU / EMG |

### 奈奎斯特定理

采样率必须**至少是信号最高频率的 2 倍**，才能准确重建信号：

$$
f_s \geq 2 \times f_{max}
$$

### 在高尔夫中的应用

高尔夫下杆仅约 **250ms**，需要高采样率才能捕捉细节：

| 传感器类型 | 典型采样率 | 适用场景 |
|-----------|-----------|----------|
| **Vision (视觉)** | 30-60 Hz | 姿态估计，慢动作分析 |
| **IMU (惯性)** | 500-1000+ Hz | 挥杆速度、加速度、角度 |
| **EMG (肌电)** | 1000+ Hz | 肌肉激活时序分析 |

#### 为什么 EMG 需要高采样率？

肌电信号的频率范围约 **20-500 Hz**，根据奈奎斯特定理：

$$
f_s \geq 2 \times 500 = 1000 \text{ Hz}
$$

因此 EMG 采样率通常为 **1000-2000 Hz**。

#### 采样率 vs 精度

| 采样率 | 下杆期间采样点数 | 能捕捉的细节 |
|--------|-----------------|-------------|
| 30 Hz | ~8 点 | ❌ 太少，丢失关键瞬间 |
| 100 Hz | ~25 点 | ⚠️ 基础分析 |
| 500 Hz | ~125 点 | ✅ 详细运动轨迹 |
| 1000 Hz | ~250 点 | ✅✅ 肌肉激活时序 |

---

## 4. 漂移 (Drift)

**定义：** 漂移是指传感器的测量值随时间逐渐偏离真实值的现象，是 IMU 的固有问题。

---

### 漂移的来源

| 来源 | 说明 |
|------|------|
| **陀螺仪偏置** | 静止时输出不为零，误差随时间累积 |
| **温度变化** | 温度影响传感器精度 |
| **噪声积分** | 对角速度积分求角度时，噪声也被积分 |

### 漂移的影响

```text
开始时：传感器认为"正前方"是 0°
10分钟后：传感器认为"正前方"是 2°（实际没变）
30分钟后：传感器认为"正前方"是 6°（误差越来越大）
```

### 不同 IMU 的漂移性能

| IMU | 稳定窗口 | 评价 |
|-----|----------|------|
| MPU6050 | 10-15 分钟 | ❌ 过时技术 |
| BNO055 | 15-20 分钟 | ⚠️ 已停产 |
| ICM-42688-P | 25-30 分钟 | ⚠️ 中档 |
| **LSM6DSV16X** | **45+ 分钟** | ✅ 专业级 |

### 漂移补偿方法

| 方法 | 说明 |
|------|------|
| **传感器融合** | 结合加速度计、磁力计校正陀螺仪 |
| **卡尔曼滤波** | 用数学算法估计和修正误差 |
| **定期校准** | 用户手动重置参考方向 |
| **视觉辅助** | 用摄像头数据校正 IMU 漂移 |

---

## 5. 边缘 AI (Edge AI)

**定义：** 边缘 AI 是指在终端设备（如传感器、手机）上直接运行 AI 推理，而不依赖云端服务器。

---

### 传统方式 vs 边缘 AI

| 方式 | 流程 | 延迟 | 功耗 | 隐私 |
|------|------|------|------|------|
| **云端 AI** | 设备 → 云服务器 → AI 处理 → 返回结果 | 高 | 高 | 差 |
| **边缘 AI** | 设备内部 AI 处理 → 直接输出结果 | 低 | 低 | 好 |

### LSM6DSV16X 的 MLC（机器学习核心）

LSM6DSV16X 内置 MLC，可以在芯片内部直接进行运动分类：

| 能力 | 说明 |
|------|------|
| 算法类型 | 决策树分类器 |
| 程序内存 | 256 字节/树，最多 8 棵树 |
| 分类延迟 | <1ms |
| 功耗优势 | 比连续 MCU 处理减少 90% |
| 用例 | 运动识别、跌倒检测、手势分类 |

### 边缘 AI 的优势

| 优势 | 说明 |
|------|------|
| **低延迟** | 实时反馈，无需等待网络 |
| **低功耗** | 不需要不停发送数据 |
| **隐私保护** | 原始数据不离开设备 |
| **离线可用** | 无需网络连接 |

---

## 6. I2C / SPI (通信协议)

**定义：** I2C 和 SPI 是两种常用的芯片间串行通信协议，用于 MCU 与传感器之间的数据传输。

---

### I2C (Inter-Integrated Circuit)

| 特性 | 说明 |
|------|------|
| **线数** | 2 线（SDA 数据 + SCL 时钟） |
| **速度** | 标准 100kHz，快速 400kHz，高速 1MHz |
| **拓扑** | 总线型，可挂多个设备 |
| **优势** | 接线简单，节省引脚 |
| **劣势** | 速度较慢 |

### SPI (Serial Peripheral Interface)

| 特性 | 说明 |
|------|------|
| **线数** | 4 线（MOSI, MISO, SCK, CS） |
| **速度** | 可达 10MHz+ |
| **拓扑** | 主从型，每个从设备需独立 CS |
| **优势** | 速度快，全双工 |
| **劣势** | 引脚多 |

### 选择建议

| 场景 | 推荐协议 | 原因 |
|------|----------|------|
| 原型开发 | I2C | 接线简单，调试方便 |
| 生产产品 | SPI | 高速传输，适合 100Hz+ 采样 |
| 多传感器 | I2C | 总线共享，节省引脚 |
| 高速采样 | SPI | 带宽足够 |

### Movement Chain AI 配置

| 阶段 | 协议 | 配置 |
|------|------|------|
| MVP 原型 | I2C | 400kHz，简化接线 |
| 生产版本 | SPI | 8MHz，配合 DMA |

---

## 7. MCU (微控制器)

**定义：** MCU (Microcontroller Unit) 是嵌入式系统的核心处理器，集成了 CPU、内存、外设接口于一体。

---

### MCU vs CPU

| 特性 | MCU | CPU (电脑处理器) |
|------|-----|------------------|
| 集成度 | 高（CPU + RAM + Flash + 外设） | 低（需外部芯片） |
| 功耗 | 极低（mA 级） | 高（W 级） |
| 性能 | 适中 | 极高 |
| 成本 | 低（$1-10） | 高（$100+） |
| 用途 | 嵌入式设备、IoT | 电脑、服务器 |

### Movement Chain AI 选用

我们选用 **ESP32-S3**：

| 参数 | 规格 |
|------|------|
| CPU | 双核 Xtensa LX7 @ 240MHz |
| RAM | 512KB SRAM + 8MB PSRAM |
| Flash | 16MB |
| 无线 | WiFi + Bluetooth 5 (BLE) |
| 特色 | AI 加速器，支持 TensorFlow Lite |
| 成本 | ~$4/片 |

> 详见：[ADR-0005 ESP32-S3 微控制器选型](../design/decisions/0005-esp32-s3-microcontroller.md)

### 为什么选 ESP32-S3？

| 对比项 | ESP32-C3 | ESP32-S3 | 结论 |
|--------|----------|----------|------|
| CPU 核心 | 单核 RISC-V | 双核 Xtensa | S3 更强 |
| AI 加速 | 无 | 有向量指令 | S3 适合 ML |
| BLE | BLE 5.0 | BLE 5.0 | 相同 |
| 成本 | $2.5 | $4 | C3 更便宜 |
| **选择** | 简单应用 | **ML + 多传感器** | ✅ S3 |

---

## 相关文档

- [物理学术语表](physics-glossary.md) - 力学概念（角速度、角动量等）
- [商业术语表](business-glossary.md) - 商业相关术语
- [ADR-0002 IMU 选型](../design/decisions/0002-lsm6dsv16x-imu.md) - LSM6DSV16X 选型决策
- [ADR-0005 MCU 选型](../design/decisions/0005-esp32-s3-microcontroller.md) - ESP32-S3 选型决策

---

**最后更新**: 2025年12月23日

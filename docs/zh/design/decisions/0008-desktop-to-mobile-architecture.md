# ADR-0008 æ¡Œé¢åˆ°ç§»åŠ¨æ¶æ„

**æ—¥æœŸ:** 2025-12-25
**çŠ¶æ€:** å·²æ¥å—

## èƒŒæ™¯

åœ¨ [ADR 0007](0007-swift-ios-native.md) å†³å®šä½¿ç”¨ Swift åŸç”Ÿ iOS å¼€å‘åï¼Œäº§ç”Ÿäº†ä¸€ä¸ªå…³é”®æ¶æ„é—®é¢˜ï¼š

> **Python Desktop (Phase 1-3) å’Œ Swift Mobile (Phase 4+) ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿæ˜¯ä¸¤ä¸ªç‹¬ç«‹äº§å“è¿˜æ˜¯åŒä¸€äº§å“çš„ä¸¤ä¸ªå¹³å°ï¼Ÿ**

2025å¹´è¡Œä¸šæœ€ä½³å®è·µç ”ç©¶è¡¨æ˜ï¼Œè¿™ä¸æ˜¯"ä¸¤ä¸ªäº§å“"çš„é—®é¢˜ï¼Œè€Œæ˜¯**å¼€å‘ç¯å¢ƒ**ä¸**ç”Ÿäº§ç¯å¢ƒ**çš„åˆ†ç¦»ã€‚

### ç ”ç©¶å‘ç°

é€šè¿‡å¯¹ 2025å¹´ç§»åŠ¨ ML åº”ç”¨æ¶æ„çš„æ·±åº¦ç ”ç©¶ï¼Œå‘ç°ä»¥ä¸‹æ¨¡å¼ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    2025å¹´ ML åº”ç”¨å¼€å‘æ¨¡å¼                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚  Development Env    â”‚         â”‚  Production Env     â”‚               â”‚
â”‚   â”‚  (Python Desktop)   â”‚         â”‚  (Swift Mobile)     â”‚               â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚   â”‚ â€¢ Jupyter notebooks â”‚         â”‚ â€¢ iOS App           â”‚               â”‚
â”‚   â”‚ â€¢ Rerun.io å¯è§†åŒ–   â”‚   â†’     â”‚ â€¢ æœ€ç»ˆç”¨æˆ·          â”‚               â”‚
â”‚   â”‚ â€¢ å¿«é€Ÿè¿­ä»£å®éªŒ     â”‚  ç§»æ¤   â”‚ â€¢ å®æ—¶åé¦ˆ          â”‚               â”‚
â”‚   â”‚ â€¢ ç®—æ³•éªŒè¯         â”‚         â”‚ â€¢ ç¦»çº¿ä½¿ç”¨          â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚              â”‚                              â”‚                            â”‚
â”‚              â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚                            â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â–¶â”‚ .tflite æ¨¡å‹ â”‚â—€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                      â”‚  (å…±äº«èµ„äº§)  â”‚                                    â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                                          â”‚
â”‚   âœ… åŒä¸€å¥— MediaPipe .tflite æ¨¡å‹åœ¨ä¸¤ä¸ªç¯å¢ƒä¸­è¿è¡Œ                       â”‚
â”‚   âœ… Python ç”¨äºç®—æ³•å¼€å‘å’ŒéªŒè¯ï¼ŒSwift ç”¨äºæœ€ç»ˆäº§å“                       â”‚
â”‚   âœ… ä¸æ˜¯ä¸¤ä¸ªäº§å“ï¼Œæ˜¯å¼€å‘â†’ç”Ÿäº§çš„å·¥ä½œæµ                                   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç±»ä¼¼äº§å“å‚è€ƒ

| äº§å“ | å¼€å‘ç¯å¢ƒ | ç”Ÿäº§ç¯å¢ƒ | å…±äº«èµ„äº§ |
|------|----------|----------|----------|
| **Golfshot** | Python åŸå‹ | Swift/Kotlin | ML æ¨¡å‹ |
| **Swing Profile** | MATLAB/Python | iOS åŸç”Ÿ | ç®—æ³•å‚æ•° |
| **Sportsbox AI** | Python/TensorFlow | ç§»åŠ¨ SDK | TFLite æ¨¡å‹ |

## å†³ç­–

é‡‡ç”¨ **"Python å¼€å‘ â†’ Swift ç”Ÿäº§"** çš„åˆ†å±‚æ¶æ„ï¼Œå¹¶å¼•å…¥ **Phase 3.5 (ç®—æ³•ç§»æ¤é˜¶æ®µ)** ä½œä¸ºæ¡¥æ¥ã€‚

### æ¶æ„æ¦‚è§ˆ

```mermaid
flowchart TB
    subgraph DEV["å¼€å‘ç¯å¢ƒ (Python)"]
        D1["Phase 1-3<br/>ç®—æ³•å¼€å‘ & éªŒè¯"]
        D2["Rerun.io å¯è§†åŒ–"]
        D3["Jupyter å®éªŒ"]
    end

    subgraph BRIDGE["æ¡¥æ¥ (Phase 3.5)"]
        B1["Python â†’ Swift<br/>ç®—æ³•ç§»æ¤"]
        B2["å¯¹æ¯”æµ‹è¯•<br/>&lt;1% å·®å¼‚"]
    end

    subgraph PROD["ç”Ÿäº§ç¯å¢ƒ (Swift)"]
        P1["Phase 4+<br/>iOS App"]
        P2["æœ€ç»ˆç”¨æˆ·"]
    end

    subgraph SHARED["å…±äº«èµ„äº§"]
        S1["MediaPipe<br/>.tflite æ¨¡å‹"]
        S2["è§„åˆ™å‚æ•°<br/>JSON/YAML"]
    end

    DEV --> BRIDGE
    BRIDGE --> PROD
    SHARED --> DEV
    SHARED --> PROD
```

### ä»£ç åˆ†å±‚

| å±‚çº§ | Python (å¼€å‘) | Swift (ç”Ÿäº§) | å…³ç³» |
|------|---------------|--------------|------|
| **ML æ¨ç†** | MediaPipe Python | MediaPipeTasksVision | åŒä¸€ .tflite æ¨¡å‹ |
| **ä¼ æ„Ÿå™¨èåˆ** | `sensor_fusion.py` | `SensorFusion.swift` | éœ€ç§»æ¤ |
| **ç‰¹å¾æå–** | `feature_extraction.py` | `FeatureExtraction.swift` | éœ€ç§»æ¤ (ç”¨ Accelerate) |
| **è§„åˆ™å¼•æ“** | `rule_engine.py` | `RuleEngine.swift` | éœ€ç§»æ¤ |
| **æç¤ºè¯ç”Ÿæˆ** | `kinematic_prompts.py` | `KinematicPrompts.swift` | éœ€ç§»æ¤ |
| **LLM è°ƒç”¨** | OpenAI/Claude API | ç›¸åŒ API | ç›´æ¥å¤ç”¨ |

## ç†ç”±

### 1. å¿«é€Ÿè¿­ä»£ vs ç”¨æˆ·ä½“éªŒ

```text
Python Desktop ä¼˜åŠ¿:
â”œâ”€â”€ Jupyter notebooks å…è®¸å³æ—¶å®éªŒ
â”œâ”€â”€ Rerun.io æä¾›ä¸°å¯Œçš„ 3D å¯è§†åŒ–
â”œâ”€â”€ æ— éœ€ç¼–è¯‘ï¼Œä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ
â”œâ”€â”€ æ›´å®¹æ˜“ä¸ç ”ç©¶è®ºæ–‡ä»£ç å¯¹æ¥
â””â”€â”€ EMG ä¿¡å·å¤„ç†åº“ (NeuroKit2) æˆç†Ÿ

Swift Mobile ä¼˜åŠ¿:
â”œâ”€â”€ æœ€ç»ˆç”¨æˆ·ç›´æ¥ä½¿ç”¨
â”œâ”€â”€ ç¦»çº¿è¿è¡Œï¼Œæ— éœ€ç½‘ç»œ
â”œâ”€â”€ ä½å»¶è¿Ÿå®æ—¶åé¦ˆ
â”œâ”€â”€ åˆ©ç”¨ Metal GPU åŠ é€Ÿ
â””â”€â”€ ä¸ Apple Watch é›†æˆæ½œåŠ›
```

### 2. MediaPipe è·¨å¹³å°ä¸€è‡´æ€§

MediaPipe çš„ .tflite æ¨¡å‹æ ¼å¼å¯åœ¨å¤šå¹³å°è¿è¡Œï¼š

| å¹³å° | SDK | è¾“å…¥ | è¾“å‡º |
|------|-----|------|------|
| Python | `mediapipe` | NumPy array | 33 landmarks |
| iOS | `MediaPipeTasksVision` | CMSampleBuffer | 33 landmarks |
| Android | `MediaPipeTasksVision` | Bitmap | 33 landmarks |

**å…³é”®æ´å¯Ÿ**: å§¿æ€æ£€æµ‹çš„ 33 ä¸ªå…³é”®ç‚¹åœ¨æ‰€æœ‰å¹³å°ä¸Šæ˜¯ç›¸åŒçš„ï¼Œç¡®ä¿ç®—æ³•ä¸€è‡´æ€§ã€‚

### 3. Phase 3.5 çš„å¿…è¦æ€§

**é—®é¢˜**: ä» Phase 3 (Python éªŒè¯å®Œæˆ) ç›´æ¥è·³åˆ° Phase 4 (å®Œæ•´ iOS App) è·¨åº¦å¤ªå¤§ã€‚

**è§£å†³æ–¹æ¡ˆ**: å¼•å…¥ Phase 3.5 ä½œä¸ºæ˜¾å¼çš„ç®—æ³•ç§»æ¤é˜¶æ®µï¼š

```mermaid
flowchart LR
    P3["Phase 3<br/>Python éªŒè¯å®Œæˆ"] --> P35["Phase 3.5<br/>Swift ç®—æ³•åŒ…<br/>(æ—  UI)"]
    P35 --> P4["Phase 4<br/>å®Œæ•´ iOS App"]

    style P35 fill:#FFE4B5,stroke:#FFA500
```

**Phase 3.5 äº§å‡º**:

- Swift Package (æ—  UI)
- å•å…ƒæµ‹è¯•è¦†ç›–æ‰€æœ‰ç®—æ³•
- Python vs Swift å¯¹æ¯”æµ‹è¯• (<1% è¾“å‡ºå·®å¼‚)
- æ€§èƒ½åŸºå‡† (iPhone 15 Pro ç›®æ ‡)

### 4. æ··åˆæ¨ç†ç­–ç•¥

| ç»„ä»¶ | ä½ç½® | å»¶è¿Ÿè¦æ±‚ | ç†ç”± |
|------|------|----------|------|
| **å§¿æ€æ£€æµ‹** | ğŸ“± On-device | <33ms | éšç§ã€å®æ—¶ã€ç¦»çº¿ |
| **ä¼ æ„Ÿå™¨èåˆ** | ğŸ“± On-device | <10ms | éœ€è¦å®æ—¶åŒæ­¥ |
| **è§„åˆ™å¼•æ“** | ğŸ“± On-device | <5ms | ç®€å•è®¡ç®— |
| **LLM åé¦ˆ** | â˜ï¸ Cloud | 200-500ms | å¤æ‚æ¨ç†ï¼ŒæŒ¥æ†åå¯æ¥å— |

## åæœ

### ç§¯æå½±å“

- **æ¸…æ™°çš„å¼€å‘è·¯å¾„**: Python å®éªŒ â†’ éªŒè¯ â†’ Swift ç§»æ¤ â†’ äº§å“å‘å¸ƒ
- **é™ä½é£é™©**: ç®—æ³•åœ¨æ¡Œé¢ç¯å¢ƒå……åˆ†éªŒè¯åå†ç§»æ¤
- **ä»£ç å…±äº«**: ML æ¨¡å‹ 100% å…±äº«ï¼Œç®—æ³•é€»è¾‘ ~80% å¯ç§»æ¤
- **ä¸“ä¸šåˆ†å·¥**: Python å›¢é˜Ÿä¸“æ³¨ç®—æ³•ï¼ŒSwift å›¢é˜Ÿä¸“æ³¨ UI/UX

### æ¶ˆæå½±å“

- **åŒé‡å®ç°**: ç®—æ³•éœ€åœ¨ Python å’Œ Swift ä¸­å„å®ç°ä¸€æ¬¡
- **åŒæ­¥æˆæœ¬**: ç®—æ³•æ›´æ–°éœ€åŒæ­¥åˆ°ä¸¤ä¸ªå¹³å°
- **æµ‹è¯•å¤æ‚åº¦**: éœ€è¦ Python-Swift ä¸€è‡´æ€§æµ‹è¯•

### ç¼“è§£ç­–ç•¥

| é—®é¢˜ | ç¼“è§£æªæ–½ |
|------|---------|
| åŒé‡å®ç° | ä½¿ç”¨ JSON/YAML é…ç½®æå–å¯å…±äº«å‚æ•° |
| åŒæ­¥æˆæœ¬ | å»ºç«‹ Phase 3.5 å¿…é¡»é€šè¿‡çš„ä¸€è‡´æ€§æµ‹è¯•å¥—ä»¶ |
| æµ‹è¯•å¤æ‚åº¦ | è‡ªåŠ¨åŒ–å¯¹æ¯”æµ‹è¯•ï¼Œè¾“å‡ºå·®å¼‚ <1% åˆ™é€šè¿‡ |

## è€ƒè™‘çš„æ›¿ä»£æ–¹æ¡ˆ

### 1. å•ä¸€ Python åç«¯ + Thin Client

```text
æ–¹æ¡ˆ: æ‰€æœ‰å¤„ç†åœ¨äº‘ç«¯ Python æœåŠ¡å™¨ï¼Œç§»åŠ¨ç«¯åªæ˜¾ç¤ºç»“æœ
é—®é¢˜:
â”œâ”€â”€ å»¶è¿Ÿ: è§†é¢‘ä¸Šä¼ â†’å¤„ç†â†’è¿”å› éœ€è¦ 1-3 ç§’
â”œâ”€â”€ éšç§: ç”¨æˆ·è§†é¢‘éœ€ä¸Šä¼ åˆ°æœåŠ¡å™¨
â”œâ”€â”€ ç¦»çº¿: æ— æ³•åœ¨æ²¡æœ‰ç½‘ç»œæ—¶ä½¿ç”¨
â””â”€â”€ æˆæœ¬: æœåŠ¡å™¨æˆæœ¬éšç”¨æˆ·æ•°å¢é•¿
è¢«æ‹’ç»åŸå› : ä¸æ»¡è¶³å®æ—¶åé¦ˆéœ€æ±‚
```

### 2. Flutter è·¨å¹³å° (ä¸€å¥—ä»£ç )

```text
æ–¹æ¡ˆ: ä½¿ç”¨ Flutter åŒæ—¶æ”¯æŒ iOS å’Œ Android
é—®é¢˜:
â”œâ”€â”€ MediaPipe å»¶è¿Ÿ: Platform Channel å¸¦æ¥ "notable latency"
â””â”€â”€ å·²åœ¨ ADR-0007 ä¸­è¯¦ç»†è¯„ä¼°å¹¶æ‹’ç»
è¢«æ‹’ç»åŸå› : è§ ADR-0007
```

### 3. ç›´æ¥ä» Swift å¼€å§‹ (è·³è¿‡ Python)

```text
æ–¹æ¡ˆ: ä»ä¸€å¼€å§‹å°±ç”¨ Swift å¼€å‘æ‰€æœ‰ç®—æ³•
é—®é¢˜:
â”œâ”€â”€ è¿­ä»£é€Ÿåº¦: Swift ç¼–è¯‘æ—¶é—´ vs Python å³æ—¶æ‰§è¡Œ
â”œâ”€â”€ å¯è§†åŒ–: Rerun.io åªæ”¯æŒ Python
â”œâ”€â”€ åº“ç”Ÿæ€: NeuroKit2 (EMG) æ²¡æœ‰ Swift ç‰ˆæœ¬
â””â”€â”€ ç ”ç©¶å¯¹æ¥: å­¦æœ¯è®ºæ–‡ä»£ç å¤šä¸º Python
è¢«æ‹’ç»åŸå› : å¼€å‘æ•ˆç‡å¤ªä½ï¼Œä¸é€‚åˆ MVP é˜¶æ®µçš„å¿«é€Ÿè¿­ä»£
```

## iOS å¼€å‘å·¥å…·é“¾ (2025)

> æœ¬èŠ‚é¢å‘æ²¡æœ‰ iOS å¼€å‘ç»éªŒçš„å›¢é˜Ÿæˆå‘˜ï¼Œè§£é‡Šå„å·¥å…·çš„è§’è‰²åˆ†å·¥ã€‚

### å·¥å…·è§’è‰²åˆ†å·¥

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    iOS å¼€å‘å·¥å…·é“¾                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ğŸ¨ è®¾è®¡å·¥å…· (ç”»å‡º App é•¿ä»€ä¹ˆæ ·)                                       â”‚
â”‚  â”œâ”€â”€ Figma â†’ ç”» UI è‰å›¾/é«˜ä¿çœŸè®¾è®¡                                    â”‚
â”‚  â””â”€â”€ è¾“å‡º: å›¾ç‰‡/è®¾è®¡ç¨¿ (ä¸èƒ½è¿è¡Œ)                                      â”‚
â”‚                                                                      â”‚
â”‚  ğŸ’» ä»£ç ç¼–è¾‘å™¨ (å†™ä»£ç )                                               â”‚
â”‚  â”œâ”€â”€ VS Code / Cursor â†’ å†™ Swift ä»£ç                                 â”‚
â”‚  â”œâ”€â”€ ä½†æ˜¯! å®ƒä»¬ä¸èƒ½ç¼–è¯‘/è¿è¡Œ iOS App                                   â”‚
â”‚  â””â”€â”€ åªæ˜¯æ–‡æœ¬ç¼–è¾‘å™¨                                                   â”‚
â”‚                                                                      â”‚
â”‚  ğŸ Xcode (Apple å®˜æ–¹ IDE) â† è¿™æ˜¯å…³é”®!                                â”‚
â”‚  â”œâ”€â”€ å†™ä»£ç  âœ…                                                        â”‚
â”‚  â”œâ”€â”€ å®æ—¶é¢„è§ˆ UI âœ… (SwiftUI Preview)                                 â”‚
â”‚  â”œâ”€â”€ ç¼–è¯‘ App âœ…                                                      â”‚
â”‚  â”œâ”€â”€ æ¨¡æ‹Ÿå™¨è¿è¡Œ âœ… (è™šæ‹Ÿ iPhone)                                       â”‚
â”‚  â”œâ”€â”€ çœŸæœºéƒ¨ç½² âœ… (è¿æ¥çœŸå® iPhone)                                     â”‚
â”‚  â””â”€â”€ ä¸Šä¼  App Store âœ…                                                â”‚
â”‚                                                                      â”‚
â”‚  ğŸ“± çœ‹åˆ° App åœ¨æ‰‹æœºä¸Šè¿è¡Œçš„æ–¹å¼:                                        â”‚
â”‚  â”œâ”€â”€ æ–¹æ³• 1: Xcode â†’ iPhone æ¨¡æ‹Ÿå™¨ (ç”µè„‘ä¸Šçš„è™šæ‹Ÿæ‰‹æœº)                   â”‚
â”‚  â”œâ”€â”€ æ–¹æ³• 2: Xcode â†’ çœŸå® iPhone (USB è¿æ¥)                           â”‚
â”‚  â””â”€â”€ æ–¹æ³• 3: TestFlight â†’ è¿œç¨‹å®‰è£…æµ‹è¯•ç‰ˆ                               â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2025 AI è¾…åŠ© UI å¼€å‘å·¥ä½œæµ

æ¨èä½¿ç”¨ Figma + AI ä»£ç ç”ŸæˆåŠ é€Ÿ UI å¼€å‘ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Figma â†’ SwiftUI å·¥ä½œæµ (2025)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Step 1: åœ¨ Figma è®¾è®¡ UI                                            â”‚
â”‚  â”œâ”€â”€ ä½¿ç”¨ Figma Make (2025.07 GA) å¿«é€Ÿç”ŸæˆåŸå‹                        â”‚
â”‚  â”œâ”€â”€ æˆ–æ‰‹åŠ¨è®¾è®¡é«˜ä¿çœŸç•Œé¢                                              â”‚
â”‚  â””â”€â”€ å¯¼å‡º: è®¾è®¡ç¨¿ + ç»„ä»¶è§„æ ¼                                          â”‚
â”‚                                                                      â”‚
â”‚  Step 2: AI ç”Ÿæˆ SwiftUI ä»£ç                                         â”‚
â”‚  â”œâ”€â”€ æ–¹å¼ A: Claude Code / Cursor                                    â”‚
â”‚  â”‚   â””â”€â”€ Prompt: "æ ¹æ®è¿™ä¸ª Figma è®¾è®¡ç”Ÿæˆ SwiftUI ä»£ç "               â”‚
â”‚  â”œâ”€â”€ æ–¹å¼ B: Gemini 2.5 Flash                                        â”‚
â”‚  â”‚   â””â”€â”€ ä¸Šä¼ æˆªå›¾ â†’ ç”Ÿæˆä»£ç  (å¤šæ¨¡æ€ç†è§£)                              â”‚
â”‚  â””â”€â”€ æ–¹å¼ C: Figma æ’ä»¶ (Visual Copilot ç­‰)                          â”‚
â”‚                                                                      â”‚
â”‚  Step 3: å¤åˆ¶ä»£ç åˆ° Xcode                                            â”‚
â”‚  â”œâ”€â”€ åˆ›å»º SwiftUI View æ–‡ä»¶                                          â”‚
â”‚  â””â”€â”€ ç²˜è´´ç”Ÿæˆçš„ä»£ç                                                    â”‚
â”‚                                                                      â”‚
â”‚  Step 4: åœ¨ Xcode é¢„è§ˆ/è¿è¡Œ                                          â”‚
â”‚  â”œâ”€â”€ SwiftUI Preview å®æ—¶æŸ¥çœ‹æ•ˆæœ                                     â”‚
â”‚  â”œâ”€â”€ æ¨¡æ‹Ÿå™¨è¿è¡Œå®Œæ•´ App                                               â”‚
â”‚  â””â”€â”€ çœŸæœºæµ‹è¯• (USB è¿æ¥ iPhone)                                       â”‚
â”‚                                                                      â”‚
â”‚  å…³é”®: æœ€ç»ˆéƒ½éœ€è¦ Xcode æ¥ç¼–è¯‘å’Œè¿è¡Œ iOS App                            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AI ä»£ç ç”Ÿæˆå·¥å…·é€‰æ‹©

| å·¥å…· | ç”¨é€” | æˆæœ¬ | æ¨èåœºæ™¯ |
|------|------|------|----------|
| **Claude Code / Cursor** | Swift ä»£ç ç”Ÿæˆ + ç®—æ³•ç§»æ¤ | $20/æœˆ | æ—¥å¸¸å¼€å‘é¦–é€‰ |
| **Gemini 2.5 Flash** | å›¾ç‰‡â†’ä»£ç ï¼Œå¤šæ¨¡æ€ç†è§£ | $0.075/M tokens | ä»æˆªå›¾ç”Ÿæˆ UI |
| **Kimi K2** | Pythonâ†’Swift åˆå§‹è½¬æ¢ | $0.60/M tokens | æ‰¹é‡ç§»æ¤çœé’± |
| **Figma æ’ä»¶** | è®¾è®¡ç¨¿â†’ä»£ç  | å…è´¹/ä»˜è´¹ | è®¾è®¡å¸ˆä¸»å¯¼æµç¨‹ |

> **é‡è¦**: AI ç”Ÿæˆçš„ UI ä»£ç æ˜¯"åŸºç¡€ä»£ç "ï¼Œéœ€è¦æ‰‹å·¥è°ƒæ•´å“åº”å¼å¸ƒå±€ã€çŠ¶æ€ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–ã€‚æ ¸å¿ƒç®—æ³•ä»£ç ï¼ˆå¦‚ `SensorFusion.swift`ï¼‰å¿…é¡»ä½¿ç”¨å·¥ç¨‹æ¨¡å¼ä¸¥æ ¼ç§»æ¤ï¼Œä¸èƒ½ä¾èµ– AI "å‡­æ„Ÿè§‰" ç”Ÿæˆã€‚

## å®æ–½æŒ‡å—

### ç›®å½•ç»“æ„

```text
movement-chain-ml/           # Python å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ algorithms/          # æ ¸å¿ƒç®—æ³• (éœ€ç§»æ¤åˆ° Swift)
â”‚   â”‚   â”œâ”€â”€ sensor_fusion.py
â”‚   â”‚   â”œâ”€â”€ feature_extraction.py
â”‚   â”‚   â”œâ”€â”€ rule_engine.py
â”‚   â”‚   â””â”€â”€ kinematic_prompts.py
â”‚   â”œâ”€â”€ visualization/       # Rerun.io å¯è§†åŒ– (ä»… Python)
â”‚   â””â”€â”€ experiments/         # Jupyter notebooks (ä»… Python)
â”œâ”€â”€ models/
â”‚   â””â”€â”€ mediapipe/          # .tflite æ¨¡å‹ (å…±äº«)
â””â”€â”€ tests/
    â””â”€â”€ baseline/           # åŸºå‡†è¾“å‡º (ç”¨äº Swift å¯¹æ¯”)

movement-chain-mobile-ios/   # Swift ç”Ÿäº§ç¯å¢ƒ
â”œâ”€â”€ Sources/
â”‚   â”œâ”€â”€ Algorithms/         # ä» Python ç§»æ¤
â”‚   â”‚   â”œâ”€â”€ SensorFusion.swift
â”‚   â”‚   â”œâ”€â”€ FeatureExtraction.swift
â”‚   â”‚   â”œâ”€â”€ RuleEngine.swift
â”‚   â”‚   â””â”€â”€ KinematicPrompts.swift
â”‚   â”œâ”€â”€ Features/           # iOS ç‰¹æœ‰åŠŸèƒ½
â”‚   â””â”€â”€ Core/
â”œâ”€â”€ Resources/
â”‚   â””â”€â”€ models/             # .tflite æ¨¡å‹ (ä» ml repo å¤åˆ¶)
â””â”€â”€ Tests/
    â””â”€â”€ ConsistencyTests/   # Python vs Swift ä¸€è‡´æ€§æµ‹è¯•
```

### Phase 3.5 éªŒæ”¶æ ‡å‡†

| æ£€æŸ¥é¡¹ | æ ‡å‡† | éªŒè¯æ–¹æ³• |
|--------|------|---------|
| **è¾“å‡ºä¸€è‡´æ€§** | Python vs Swift <1% å·®å¼‚ | 100 ä¸ªæµ‹è¯•ç”¨ä¾‹å¯¹æ¯” |
| **æ€§èƒ½** | iPhone 15 Pro å¸§ç‡ â‰¥30 FPS | Xcode Instruments |
| **å•å…ƒæµ‹è¯•** | ç®—æ³•è¦†ç›–ç‡ >80% | XCTest |
| **æ—  UI ä¾èµ–** | Swift Package ç‹¬ç«‹ç¼–è¯‘ | `swift build` |

### ä¸€è‡´æ€§æµ‹è¯•ç¤ºä¾‹

```swift
// Tests/ConsistencyTests/SensorFusionTests.swift
import XCTest
@testable import MovementChainAlgorithms

final class SensorFusionConsistencyTests: XCTestCase {

    func testFusionOutputMatchesPython() throws {
        // åŠ è½½ Python ç”Ÿæˆçš„åŸºå‡†æ•°æ®
        let baseline = try loadBaseline("sensor_fusion_baseline.json")

        // è¿è¡Œ Swift å®ç°
        let fusion = SensorFusion()
        let result = fusion.process(
            imu: baseline.imuInput,
            emg: baseline.emgInput,
            pose: baseline.poseInput
        )

        // å¯¹æ¯”è¾“å‡º
        for (i, metric) in result.metrics.enumerated() {
            let pythonValue = baseline.expectedOutput[i]
            let diff = abs(metric - pythonValue) / pythonValue
            XCTAssertLessThan(diff, 0.01, "Metric \(i) differs by \(diff * 100)%")
        }
    }
}
```

## ä¸å…¶ä»– ADR çš„å…³ç³»

| ADR | å…³ç³» |
|-----|------|
| [ADR-0007](0007-swift-ios-native.md) | æœ¬ ADR è§£é‡Š Python å’Œ Swift å¦‚ä½•å…±å­˜ï¼ŒADR-0007 è§£é‡Šä¸ºä»€ä¹ˆé€‰ Swift |
| [ADR-0001](0001-multi-repo-structure.md) | å¤šä»“åº“ç»“æ„æ”¯æŒ `movement-chain-ml` å’Œ `movement-chain-mobile-ios` ç‹¬ç«‹å¼€å‘ |
| [ADR-0002](0002-lsm6dsv16x-imu.md) | IMU æ•°æ®æµåœ¨ä¸¤ä¸ªç¯å¢ƒä¸­æ ¼å¼ç›¸åŒ |

## å‚è€ƒèµ„æ–™

- **2025 Mobile ML Best Practices**: åŸºäº Web ç ”ç©¶ï¼Œè¡Œä¸šè¶‹åŠ¿æ˜¯ Python å¼€å‘ + ç§»åŠ¨ç”Ÿäº§
- **MediaPipe è·¨å¹³å°**: [developers.google.com/mediapipe](https://developers.google.com/mediapipe)
- **Rerun.io**: [rerun.io](https://rerun.io) - Python ä¼˜å…ˆçš„å¤šæ¨¡æ€å¯è§†åŒ–

## å®¡æŸ¥è®¡åˆ’

- **Phase 3 å®Œæˆæ—¶**: å®¡æŸ¥ç®—æ³•ç§»æ¤æ¸…å•æ˜¯å¦å®Œæ•´
- **Phase 3.5 å®Œæˆæ—¶**: éªŒè¯ä¸€è‡´æ€§æµ‹è¯•å…¨éƒ¨é€šè¿‡
- **Phase 4 å‘å¸ƒå‰**: ç¡®è®¤ç”Ÿäº§æ€§èƒ½æ»¡è¶³è¦æ±‚

---

## ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹å†…å®¹ |
|------|------|----------|
| 1.0 | 2025-12-25 | åˆå§‹ç‰ˆæœ¬ |
| 1.1 | 2025-12-26 | æ–°å¢ "iOS å¼€å‘å·¥å…·é“¾ (2025)" ç« èŠ‚ï¼šå·¥å…·è§’è‰²åˆ†å·¥ã€AI è¾…åŠ© UI å¼€å‘å·¥ä½œæµã€ä»£ç ç”Ÿæˆå·¥å…·é€‰æ‹© |

---

**æœ€åæ›´æ–°**: 2025-12-26

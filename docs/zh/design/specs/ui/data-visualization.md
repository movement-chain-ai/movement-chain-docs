# 数据可视化

> **文档目的**: 定义运动数据的可视化规范
>
> **目标读者**: UI/UX 设计师、iOS 开发工程师、数据可视化工程师

---

## 1. 可视化原则

### 1.1 设计原则

| 原则 | 说明 | 体现 |
|-----|------|------|
| **清晰** | 数据一目了然 | 合理的数据范围、清晰的标注 |
| **对比** | 突出差异 | 用户 vs 基准、历史对比 |
| **可操作** | 指导改进 | 问题区域高亮、关联练习建议 |
| **一致性** | 统一视觉语言 | 相同数据类型使用相同颜色 |

### 1.2 数据类型分类

| 类型 | 数据特征 | 可视化形式 |
|-----|---------|-----------|
| **时序数据** | 随时间变化 | 折线图、面积图 |
| **指标评分** | 单一数值 | 环形图、进度条 |
| **多维度评估** | 多个指标 | 雷达图 |
| **空间数据** | 身体位置 | 热力图、轨迹图 |
| **对比数据** | 两组数据 | 分屏视图、叠加视图 |

---

## 2. 评分可视化

### 2.1 总体评分 (环形图)

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                          ╭─────────────╮                                    │
│                        ╱               ╲                                    │
│                       │                 │                                   │
│                       │       72        │                                   │
│                       │      ────       │                                   │
│                       │     / 100       │                                   │
│                       │                 │                                   │
│                        ╲               ╱                                    │
│                          ╰─────────────╯                                    │
│                                                                             │
│   设计规范:                                                                  │
│   - 环宽: 12pt                                                              │
│   - 背景环: 20% 透明度                                                       │
│   - 进度环: 根据分数渐变 (红→橙→黄→绿)                                        │
│   - 数字: Display 字体 (34pt Bold)                                          │
│   - 分母: Title 3 字体 (20pt Regular)                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

**颜色映射**:

| 分数范围 | 颜色 | Hex |
|---------|------|-----|
| 0-40 | 红色 | `#FF453A` |
| 41-60 | 橙色 | `#FF9F0A` |
| 61-80 | 黄色 | `#FFD60A` |
| 81-100 | 绿色 | `#30D158` |

### 2.2 多维度评分 (雷达图)

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                              站姿                                           │
│                               ●                                             │
│                              /│\                                            │
│                             / │ \                                           │
│                            /  │  \                                          │
│                   节奏 ●───┼──●──┼───● 旋转                                  │
│                            \  │  /                                          │
│                             \ │ /                                           │
│                              \│/                                            │
│                               ●                                             │
│                             平衡                                             │
│                                                                             │
│   ───── 用户得分 (蓝色填充 30% 透明度)                                        │
│   - - - 职业基准 (灰色虚线)                                                   │
│                                                                             │
│   设计规范:                                                                  │
│   - 轴线: 灰色 (#636366)                                                     │
│   - 用户填充: Primary + 30% 透明度                                           │
│   - 用户边框: Primary (2pt)                                                  │
│   - 基准虚线: 灰色 (#8E8E93) 虚线                                            │
│   - 刻度: 0, 25, 50, 75, 100                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

**评估维度**:

| 维度 | 包含指标 | 权重 |
|-----|---------|------|
| **站姿** | 脊柱角度、站距、膝盖弯曲 | 20% |
| **旋转** | X-Factor、肩转、髋转 | 25% |
| **节奏** | 上杆/下杆比例、总时长 | 20% |
| **发力** | 核心激活、发力顺序 | 25% |
| **平衡** | 收杆稳定性、重心转移 | 10% |

### 2.3 指标进度条

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   X-Factor                                                                  │
│   ┌───────────────────────────────────────────────────────────────────┐    │
│   │████████████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░│ 32°   │    │
│   └───────────────────────────────────────────────────────────────────┘    │
│                              ▲                                    ▲         │
│                           你的值                               基准值       │
│                             32°                                 45°         │
│                                                                             │
│   设计规范:                                                                  │
│   - 高度: 8pt                                                               │
│   - 圆角: 4pt                                                               │
│   - 背景: Surface (#1C1C1E)                                                 │
│   - 填充: 根据达成率变色                                                      │
│   - 基准标记: 垂直线 + 三角                                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. 时序图表

### 3.1 角速度曲线

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   角速度 (°/s)                                                               │
│   │                                                                         │
│   │                                    ╱╲ ← 峰值 (Impact)                   │
│ 1200│                                  ╱  ╲                                  │
│   │                                 ╱    ╲                                  │
│   │                               ╱      ╲                                  │
│  600│                             ╱        ╲                                 │
│   │                           ╱          ╲                                  │
│   │                         ╱            ╲                                  │
│   0├─────────────────────────●──────────────╲────────────────────────────   │
│   │                      Top               ╲____                            │
│-600│  ╲                   ↑                      ╲___                       │
│   │   ╲                                              ╲__                    │
│   │    ╲_______________╱                                                    │
│   │                                                                         │
│   └────────────────────────────────────────────────────────────────── 时间  │
│       0s                 0.8s                1.2s                1.5s       │
│                                                                             │
│   设计规范:                                                                  │
│   - 曲线: Primary 色，2pt 粗细                                               │
│   - 阶段标记: 垂直虚线 + 标签                                                 │
│   - 峰值标注: 圆点 + 数值                                                     │
│   - 网格: 灰色 (#38383A)，虚线                                               │
│   - 坐标轴: Text Secondary                                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 肌肉激活时序图 (sEMG)

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   肌肉激活 (%)                           Top        Impact                   │
│   │                                      ↓          ↓                       │
│100│  核心  ─────────────╱╲____╱╲____╱╲╲╲╲╲____                              │
│   │                                                                         │
│   │  前臂  ────────────────────────────╱╲╲╲╲╲╲____                          │
│   │                                                                         │
│   │  背阔  ───────────╱╲╲╲╲╲╲╲____╱╲╲╲╲____                                 │
│   │                                                                         │
│   0└────────────────────────────────────────────────────────────────── 时间  │
│       0s                 0.8s                1.2s                1.5s       │
│                                                                             │
│   颜色编码:                                                                  │
│   - 核心: #30D158 (绿色)                                                    │
│   - 前臂: #FF9F0A (橙色)                                                    │
│   - 背阔: #0A84FF (蓝色)                                                    │
│                                                                             │
│   交互:                                                                     │
│   - 点击曲线高亮对应肌肉                                                     │
│   - 滑动查看具体时刻数值                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 挥杆阶段时间轴

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│  挥杆阶段                                                                    │
│                                                                             │
│  ┌────┬──────────────┬───────┬─────┬──────┬─────┬─────────────┬─────┐       │
│  │准备│    上杆      │ 顶点  │过渡 │ 下杆 │击球 │   收杆     │完成 │       │
│  └────┴──────────────┴───────┴─────┴──────┴─────┴─────────────┴─────┘       │
│  0s   0.2s          0.7s    0.8s  0.9s  1.0s  1.1s          1.3s  1.5s      │
│                                                                             │
│  时长统计:                                                                   │
│  ┌──────────────┬──────────────┐                                            │
│  │ 上杆: 0.6s   │ 下杆: 0.2s   │  比例 3:1 ✓                                 │
│  └──────────────┴──────────────┘                                            │
│                                                                             │
│  颜色编码:                                                                  │
│  - 准备: 灰色                                                               │
│  - 上杆: 蓝色渐变                                                           │
│  - 下杆: 橙色渐变                                                           │
│  - 击球: 高亮强调                                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. 视频叠加

### 4.1 姿态骨架

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                                ● ← 头部 (鼻子)                              │
│                               /|\                                           │
│                              / | \                                          │
│                   左肩 ●────●  |  ●────● 右肩                                │
│                         \   |   |   /                                       │
│                          \  |   |  /                                        │
│                   左肘 ●  \ |   | /  ● 右肘                                  │
│                         \  \|   |/  /                                       │
│                          \  ●───●  /                                        │
│                   左腕 ●   \ | /   ● 右腕                                    │
│                             \|/                                             │
│                    左髋 ●────●────● 右髋                                     │
│                              |                                              │
│                    左膝 ●    |    ● 右膝                                     │
│                         \   |   /                                           │
│                    左踝 ●   |   ● 右踝                                       │
│                                                                             │
│   设计规范:                                                                  │
│   - 关节点: 圆形，8pt 直径，白色填充                                          │
│   - 连接线: 2pt 粗细，白色 80% 透明度                                         │
│   - 问题区域: 关节点变红色                                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 角度标注

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                                                                             │
│                   ●────────●                                                │
│                    \  32°  /                                                │
│                     \⌒⌒⌒/   ← 角度弧线                                      │
│                      \  /                                                   │
│                       ●                                                     │
│                                                                             │
│   设计规范:                                                                  │
│   - 弧线: 2pt，Primary 色                                                    │
│   - 数值: 背景色块 + 白色文字                                                 │
│   - 颜色: 正常范围 Primary，超出范围 Error                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.3 问题区域高亮

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                              ● ─ ●                                          │
│                             /│   │\                                         │
│                            / │   │ \                                        │
│                           ●  │🔴│  ●    ← 核心区域高亮                       │
│                              │   │         (红色圆形光晕)                    │
│                             / \  / \                                        │
│                            ●   ●    ●                                       │
│                                                                             │
│   设计规范:                                                                  │
│   - 光晕: 径向渐变，Error 色 → 透明                                          │
│   - 动画: 脉冲效果，1s 周期                                                   │
│   - 尺寸: 根据问题区域大小调整                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.4 sEMG 肌肉激活叠加

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                              ● ─ ●                                          │
│                             /│   │\                                         │
│                            / │   │ \                                        │
│                        🟢 ●  │ 🟡│  ● 🟢                                     │
│                       85%    │72%│    80%   ← 激活百分比标签                  │
│                              │   │                                          │
│                             / \  / \                                        │
│                            ●   ●    ●                                       │
│                                                                             │
│   颜色圆点 (激活强度):                                                        │
│   - 0-30%: 蓝色 (#0A84FF)                                                   │
│   - 31-60%: 黄色 (#FFD60A)                                                  │
│   - 61-100%: 绿色 (#30D158)                                                 │
│                                                                             │
│   设计规范:                                                                  │
│   - 圆点: 16pt 直径，发光效果                                                 │
│   - 标签: 可选显示/隐藏                                                       │
│   - 动画: 激活时脉冲效果                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 对比视图

### 5.1 分屏对比

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│  ┌────────────────────────────┐  ┌────────────────────────────┐             │
│  │                            │  │                            │             │
│  │                            │  │                            │             │
│  │      [ 你的挥杆 ]           │  │     [ 职业基准 ]           │             │
│  │                            │  │                            │             │
│  │          ● ─ ●             │  │          ● ─ ●             │             │
│  │         /│   │\            │  │         /│   │\            │             │
│  │        / │   │ \           │  │        / │   │ \           │             │
│  │       ●  │   │  ●          │  │       ●  │   │  ●          │             │
│  │                            │  │                            │             │
│  └────────────────────────────┘  └────────────────────────────┘             │
│                                                                             │
│  ▶ ━━━━━━━━━━━━━━━━━━●━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  0:45   │
│                                                                             │
│  [同步播放]  [独立播放]  [叠加模式]                                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 叠加对比

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                                                                     │   │
│  │                                                                     │   │
│  │                          ● ─ ●  ← 职业基准 (半透明)                  │   │
│  │                         /│   │\                                     │   │
│  │                        / │   │ \                                    │   │
│  │                       ●  │   │  ●                                   │   │
│  │                                                                     │   │
│  │                        ● ─ ●  ← 你的挥杆 (实线)                      │   │
│  │                       /│   │\                                       │   │
│  │                      / │   │ \                                      │   │
│  │                     ●  │   │  ●                                     │   │
│  │                                                                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│   颜色编码:                                                                  │
│   - 你的挥杆: Primary 色                                                     │
│   - 职业基准: 灰色 50% 透明度                                                │
│   - 差异区域: 红色高亮                                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.3 历史趋势对比

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   X-Factor 趋势                                              过去 4 周       │
│   │                                                                         │
│  50°│                                             ╱                          │
│   │                                            ╱                            │
│  45°│  - - - - - - - - - - - - - - - - - - - - -  ← 目标                     │
│   │                                     ╱                                   │
│  40°│                              ╱───╱                                     │
│   │                          ╱───╱                                          │
│  35°│                   ╱────╱                                               │
│   │             ╱─────╱                                                     │
│  30°│  ╱────────╱                                                            │
│   │                                                                         │
│   └────────────────────────────────────────────────────────────────── 日期  │
│     1/1        1/8        1/15       1/22       1/29       2/5              │
│                                                                             │
│   设计规范:                                                                  │
│   - 曲线: Primary 色渐变 (浅→深表示时间)                                      │
│   - 目标线: 虚线 + Success 色                                                │
│   - 数据点: 可点击查看详情                                                    │
│   - 趋势标签: +5° ↑ (绿色)                                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. 热力图

### 6.1 sEMG 身体热力图

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                              ┌───┐                                          │
│                              │   │ ← 头部 (无数据)                           │
│                              └───┘                                          │
│                         ┌─────────────┐                                     │
│                         │ ░░░░░░░░░░░ │ ← 肩部 (低激活)                      │
│                         └─────────────┘                                     │
│                    ┌───┐ ┌─────────┐ ┌───┐                                  │
│                    │███│ │█████████│ │███│ ← 核心 (高激活)                   │
│                    └───┘ └─────────┘ └───┘                                  │
│                         ┌─────────────┐                                     │
│                         │ ▒▒▒▒▒▒▒▒▒▒▒ │ ← 髋部 (中激活)                      │
│                         └─────────────┘                                     │
│                    ┌───┐             ┌───┐                                  │
│                    │░░░│             │░░░│ ← 大腿 (低激活)                   │
│                    └───┘             └───┘                                  │
│                                                                             │
│   颜色图例:                                                                  │
│   ░ 0-30%   ▒ 31-60%   █ 61-100%                                           │
│                                                                             │
│   颜色渐变:                                                                  │
│   蓝色 (#0A84FF) → 黄色 (#FFD60A) → 红色 (#FF453A)                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 6.2 颜色渐变规范

| 激活程度 | 百分比 | 颜色 | Hex |
|---------|--------|------|-----|
| 低 | 0-30% | 蓝色 | `#0A84FF` |
| 中低 | 31-45% | 青色 | `#64D2FF` |
| 中 | 46-60% | 黄绿 | `#30D158` |
| 中高 | 61-75% | 黄色 | `#FFD60A` |
| 高 | 76-90% | 橙色 | `#FF9F0A` |
| 极高 | 91-100% | 红色 | `#FF453A` |

---

## 7. 运动轨迹

### 7.1 杆头轨迹

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   俯视图 (Down-the-Line)                                                    │
│                                                                             │
│                          ● ← 顶点                                           │
│                         ╱                                                   │
│                        ╱                                                    │
│                       ╱                                                     │
│   ← 外侧  ─ ─ ─ ─ ─ ╱─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─  目标线 ─ ─ ─ ─ ─ ─ →           │
│                     │                                                       │
│                     │                                                       │
│                     ●                                                       │
│                    ╱│╲                                                      │
│                   ╱ │ ╲                                                     │
│                  ●  │  ● ← 收杆                                             │
│               击球点                                                         │
│                                                                             │
│   设计规范:                                                                  │
│   - 轨迹线: 3pt，Primary 色渐变                                              │
│   - 目标线: 虚线，灰色                                                       │
│   - 关键点: 8pt 圆点 + 标签                                                  │
│   - 偏离区域: 红色填充 20% 透明度                                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.2 重心转移轨迹

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   正面视图 (Face-On)                                                        │
│                                                                             │
│                    左脚                    右脚                              │
│                    ┌───┐                  ┌───┐                             │
│                    │   │                  │   │                             │
│                    └───┘                  └───┘                             │
│                       ╲                  ╱                                  │
│                        ╲    ●──────────●   ← 重心轨迹                       │
│                         ╲  ╱站姿      上杆顶点                               │
│                          ●                                                  │
│                         ↓                                                   │
│                     下杆 & 击球                                              │
│                         ●                                                   │
│                        ╱                                                    │
│                       ●  ← 收杆                                             │
│                                                                             │
│   设计规范:                                                                  │
│   - 轨迹: 虚线 → 实线，表示时间顺序                                           │
│   - 重心点: 渐变大小 (小→大→小)                                              │
│   - 理想区域: 绿色虚线框                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 8. 交互规范

### 8.1 图表交互

| 交互 | 行为 | 反馈 |
|-----|------|------|
| **点击数据点** | 显示详细数值 | Tooltip 弹出 |
| **长按** | 进入选择模式 | 震动反馈 |
| **双指缩放** | 时间轴缩放 | 平滑动画 |
| **左右滑动** | 时间轴平移 | 惯性滚动 |
| **上下滑动** | 切换数据类型 | 淡入淡出 |

### 8.2 Tooltip 样式

```text
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                   ┌─────────────────────────┐                               │
│                   │  X-Factor: 42°          │                               │
│                   │  时间: 0.82s            │                               │
│                   │  阶段: 上杆顶点         │                               │
│                   └──────────┬──────────────┘                               │
│                              │                                              │
│                              ▼                                              │
│                              ●  ← 数据点                                    │
│                                                                             │
│   样式: 背景 Surface Elevated，圆角 8pt，阴影中                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 9. 相关文档

| 相关文档 | 内容 | 本文档使用 |
|---------|------|-----------|
| [设计系统](design-system.md) | 色彩规范 | 图表颜色定义 |
| [屏幕列表](screens.md) | 报告界面 | 图表布局位置 |
| [三个反馈通道](../three-feedback-channels.md) | 视觉反馈 | 视频叠加规范 |
| [八个挥杆阶段](../eight-swing-phases.md) | 阶段定义 | 时间轴标注 |

---

**最后更新**: 2026-01-08
**维护者**: Movement Chain AI Team

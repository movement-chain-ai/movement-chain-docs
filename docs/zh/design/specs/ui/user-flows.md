# ç”¨æˆ·æµç¨‹

> **æ–‡æ¡£ç›®çš„**: å®šä¹‰æ ¸å¿ƒç”¨æˆ·åœºæ™¯çš„å®Œæ•´äº¤äº’æµç¨‹
>
> **ç›®æ ‡è¯»è€…**: UI/UX è®¾è®¡å¸ˆã€äº§å“ç»ç†ã€å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ
>
> **è®¾è®¡ä¸»é¢˜**: é‡‘ç¨»ç»¿é‡ (Golden Harvest)

---

## 1. æ ¸å¿ƒæµç¨‹æ¦‚è§ˆ

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æ ¸å¿ƒç”¨æˆ·æµç¨‹                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ç”¨æˆ·è®¤è¯                                                                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€                                                                  â”‚
â”‚   å¯åŠ¨ App â†’ ç™»å½•/æ³¨å†Œ â†’ é¦–é¡µ                                                â”‚
â”‚                                                                             â”‚
â”‚   è¯„ä¼°æ¨¡å¼                                                                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€                                                                  â”‚
â”‚   é€‰æ‹©è¯„ä¼° â†’ ä¼ æ„Ÿå™¨æ£€æŸ¥ â†’ é€‰æ‹©ç±»å‹ â†’ ä¸‰æ­¥è¯„ä¼° â†’ å¤„ç†ä¸­ â†’ æŠ¥å‘Š                  â”‚
â”‚                                                                             â”‚
â”‚   ç»ƒä¹ æ¨¡å¼                                                                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€                                                                  â”‚
â”‚   é€‰æ‹©ç»ƒä¹  â†’ ç»ƒä¹ åº“/è®­ç»ƒè®¡åˆ’ â†’ ä¼ æ„Ÿå™¨æ£€æŸ¥ â†’ æ‰§è¡Œç»ƒä¹  â†’ å®Œæˆ                    â”‚
â”‚                                                                             â”‚
â”‚   å¼•å¯¼æ¨¡å¼                                                                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€                                                                  â”‚
â”‚   é€‰æ‹©å¼•å¯¼ â†’ ä¼ æ„Ÿå™¨æ£€æŸ¥ â†’ ç«™å§¿/æ…¢åŠ¨ä½œå¼•å¯¼ â†’ å®æ—¶åé¦ˆ â†’ å®Œæˆ                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç”¨æˆ·è®¤è¯æµç¨‹

### 2.1 æµç¨‹å›¾

```mermaid
flowchart TD
    A[å¯åŠ¨ App] --> B{å·²è®¤è¯?}
    B -->|å¦| C[AuthPage]
    B -->|æ˜¯| M[HomePage]

    C --> D{ç™»å½•/æ³¨å†Œåˆ‡æ¢}
    D -->|ç™»å½•| E[è¾“å…¥é‚®ç®±å¯†ç ]
    D -->|æ³¨å†Œ| F[è¾“å…¥å§“å/é‚®ç®±/å¯†ç ]

    E --> G[ç‚¹å‡»ç™»å½•]
    F --> H[ç‚¹å‡»æ³¨å†Œ]

    G --> I{éªŒè¯é€šè¿‡?}
    H --> J{æ³¨å†ŒæˆåŠŸ?}

    I -->|æ˜¯| M
    I -->|å¦| E
    J -->|æ˜¯| M
    J -->|å¦| F

    C --> K[ç¤¾äº¤ç™»å½•]
    K --> L[Google/Apple/Twitter]
    L --> M
```

### 2.2 é¡µé¢çŠ¶æ€

| çŠ¶æ€ | æ–‡ä»¶ | è¯´æ˜ |
|-----|------|------|
| ç™»å½•è¡¨å• | `AuthPage.tsx` | é»˜è®¤æ˜¾ç¤ºï¼ŒåŒ…å«é‚®ç®±ã€å¯†ç è¾“å…¥ |
| æ³¨å†Œè¡¨å• | `AuthPage.tsx` | åˆ‡æ¢åæ˜¾ç¤ºï¼Œå¢åŠ å§“åè¾“å…¥ |
| ç¤¾äº¤ç™»å½• | `AuthPage.tsx` | Google / Apple / Twitter å¿«æ·ç™»å½• |

### 2.3 ç•Œé¢å…ƒç´ 

```typescript
// è®¤è¯è¡¨å•å­—æ®µ
interface AuthForm {
  isLogin: boolean;      // ç™»å½•/æ³¨å†Œåˆ‡æ¢
  email: string;         // é‚®ç®±
  password: string;      // å¯†ç  (æœ€å°‘6ä½)
  name?: string;         // å§“å (ä»…æ³¨å†Œ)
}
```

---

## 3. è¯„ä¼°æ¨¡å¼æµç¨‹

### 3.1 æµç¨‹å›¾

```mermaid
flowchart TD
    A[é¦–é¡µ/æ¨¡å¼é¡µ] --> B[ç‚¹å‡»è¯„ä¼°æ¨¡å¼]
    B --> C[AssessmentMode - ready]

    C --> D[æ˜¾ç¤ºä¼ æ„Ÿå™¨çŠ¶æ€]
    D --> E{ä¼ æ„Ÿå™¨æ­£å¸¸?}
    E -->|æ˜¯| F[æ˜¾ç¤ºå°±ç»ªæç¤º]
    E -->|å¦| G[æ˜¾ç¤ºè­¦å‘Š/å¯è·³è¿‡]

    F --> H[ç‚¹å‡»ç»§ç»­]
    G --> H

    H --> I[intro - é€‰æ‹©è¯„ä¼°ç±»å‹]

    I --> J{é€‰æ‹©ç±»å‹}
    J -->|å•é¡¹è¯„ä¼°| K[é€‰æ‹© Step 1/2/3]
    J -->|å®Œæ•´è¯„ä¼°| L[å¼€å§‹ä¸‰æ®µå¼]

    K --> M[æ‰§è¡Œå•æ­¥]
    M --> N[æ­¥éª¤å®Œæˆ]
    N --> O{ç»§ç»­/ç”ŸæˆæŠ¥å‘Š?}
    O -->|ç»§ç»­| K
    O -->|ç”Ÿæˆ| P[processing]

    L --> Q[Step 1: ç«™å§¿æ£€æŸ¥]
    Q --> R[Step 2: æ…¢åŠ¨ä½œæ£€æŸ¥]
    R --> S[Step 3: å…¨é€Ÿæ£€æŸ¥]
    S --> P

    P --> T[report - è¯„ä¼°æŠ¥å‘Š]
    T --> U{ç”¨æˆ·æ“ä½œ}
    U -->|æŸ¥çœ‹é˜¶æ®µè¯¦æƒ…| V[swing-phase-detail]
    U -->|è¿›å…¥ç»ƒä¹ | W[DrillMode]
    U -->|é‡æ–°è¯„ä¼°| I
    U -->|è¿”å›é¦–é¡µ| X[HomePage]

    V --> T
```

### 3.2 è¯„ä¼°æ­¥éª¤çŠ¶æ€

```typescript
type AssessmentStep =
  | 'intro'           // é€‰æ‹©è¯„ä¼°ç±»å‹
  | 'ready'           // ä¼ æ„Ÿå™¨æ£€æŸ¥
  | 'step1'           // ç«™å§¿æ£€æŸ¥è¿›è¡Œä¸­
  | 'step1-complete'  // ç«™å§¿æ£€æŸ¥å®Œæˆ
  | 'step2'           // æ…¢åŠ¨ä½œæ£€æŸ¥è¿›è¡Œä¸­
  | 'step2-complete'  // æ…¢åŠ¨ä½œæ£€æŸ¥å®Œæˆ
  | 'step3'           // å…¨é€Ÿæ£€æŸ¥è¿›è¡Œä¸­
  | 'step3-complete'  // å…¨é€Ÿæ£€æŸ¥å®Œæˆ
  | 'processing'      // ç”ŸæˆæŠ¥å‘Šä¸­
  | 'report'          // æ˜¾ç¤ºæŠ¥å‘Š
  | 'swing-phase-detail';  // æŒ¥æ†é˜¶æ®µè¯¦æƒ…
```

### 3.3 ä¸‰æ­¥è¯„ä¼°æµç¨‹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä¸‰æ­¥è¯„ä¼°æµç¨‹                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Step 1: ç«™å§¿æ£€æŸ¥ (3ç§’)                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š è¿›åº¦: Step 1/3 - 33%                                                    â”‚
â”‚  ğŸ§ æç¤º: è¯·ç«™å¥½ï¼Œä¿æŒå‡†å¤‡å§¿åŠ¿                                                â”‚
â”‚  ğŸ¯ çŠ¶æ€: æ­£åœ¨é‡‡é›†æ•°æ®...                                                    â”‚
â”‚                                                                             â”‚
â”‚  Step 2: æ…¢åŠ¨ä½œæ£€æŸ¥ (3ç§’)                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š è¿›åº¦: Step 2/3 - 66%                                                    â”‚
â”‚  ğŸŒï¸ æç¤º: è¯·æ…¢é€ŸæŒ¥æ†ä¸€æ¬¡ï¼Œå¤§çº¦ 3-4 ç§’å®Œæˆ                                     â”‚
â”‚  ğŸ¯ çŠ¶æ€: æ­£åœ¨é‡‡é›†æ•°æ®...                                                    â”‚
â”‚                                                                             â”‚
â”‚  Step 3: å…¨é€Ÿæ£€æŸ¥ (3ç§’)                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š è¿›åº¦: Step 3/3 - 100%                                                   â”‚
â”‚  âš¡ æç¤º: æ­£å¸¸é€Ÿåº¦æŒ¥æ†ï¼Œæœ€åä¸€æ­¥                                              â”‚
â”‚  ğŸ¯ çŠ¶æ€: æ­£åœ¨é‡‡é›†æ•°æ®...                                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 è¯„ä¼°æŠ¥å‘Šæ•°æ®ç»“æ„

```typescript
interface AssessmentData {
  score: number;          // ç»¼åˆè¯„åˆ† (0-100)
  date: string;           // è¯„ä¼°æ—¥æœŸ
  problems: Problem[];    // å‘ç°çš„é—®é¢˜
  strengths: string[];    // ä¼˜åŠ¿é¡¹
}

interface Problem {
  id: string;
  title: string;          // é—®é¢˜æ ‡é¢˜
  description: string;    // é—®é¢˜æè¿°
  priority: 'high' | 'medium' | 'low';  // ä¼˜å…ˆçº§
}

// ç¤ºä¾‹æ•°æ®
const assessmentData = {
  score: 72,
  date: '2026-01-09 14:30',
  problems: [
    { id: '1', title: 'å‘åŠ›é¡ºåºé”™è¯¯', description: 'ä¸‹æ†æ—¶æ‰‹è‡‚å…ˆäºæ ¸å¿ƒå¯åŠ¨', priority: 'high' },
    { id: '2', title: 'X-Factor ä¸è¶³', description: 'ä¸Šæ†è½¬è‚©å¹…åº¦åå°', priority: 'medium' },
    { id: '3', title: 'ç«™è·åçª„', description: 'å»ºè®®è°ƒæ•´ä¸ºè‚©å®½çš„1.2å€', priority: 'low' }
  ],
  strengths: [
    'æ¡æ†å§¿åŠ¿æ ‡å‡†ï¼Œç¬¦åˆä¸­æ€§æ¡æ³•',
    'å¤´éƒ¨ä¿æŒç¨³å®šï¼Œç›®è§†çƒä½ç½®è‰¯å¥½',
    'æ”¶æ†åŠ¨ä½œå®Œæ•´ï¼Œèº«ä½“å¹³è¡¡æ€§è‰¯å¥½'
  ]
};
```

---

## 4. ç»ƒä¹ æ¨¡å¼æµç¨‹

### 4.1 æµç¨‹å›¾

```mermaid
flowchart TD
    A[é¦–é¡µ/æ¨¡å¼é¡µ] --> B[ç‚¹å‡»ç»ƒä¹ æ¨¡å¼]
    B --> C[DrillMode]

    C --> D{Tab é€‰æ‹©}
    D -->|ç»ƒä¹ è®¡åˆ’| E[TrainingPlan]
    D -->|ç»ƒä¹ åº“| F[ç»ƒä¹ åˆ†ç±»åˆ—è¡¨]

    E --> G{é€‰æ‹©è®¡åˆ’}
    G -->|æŸ¥çœ‹è¯¦æƒ…| H[PlanDetail]
    G -->|å¼€å§‹è®­ç»ƒ| I[PlanExecutor - ä¼ æ„Ÿå™¨æ£€æŸ¥]

    H --> J{æ“ä½œ}
    J -->|å¼€å§‹è®­ç»ƒ| I
    J -->|è¿”å›| E

    I --> K{ä¼ æ„Ÿå™¨æ­£å¸¸?}
    K -->|æ˜¯| L[AllDrillsMode]
    K -->|å¦| M[è­¦å‘Šæç¤º]
    M --> L

    L --> N[æ‰§è¡Œç»ƒä¹ ]
    N --> O[ç»ƒä¹ å®Œæˆ]
    O --> C

    F --> P[é€‰æ‹©åˆ†ç±»]
    P --> Q[æŸ¥çœ‹ Drill åˆ—è¡¨]
    Q --> R[ç‚¹å‡» Drill]
    R --> S[DrillDetail]

    S --> T{æ“ä½œ}
    T -->|å¼€å§‹ç»ƒä¹ | U[GuidedPractice]
    T -->|è¿”å›| Q

    U --> V[å®Œæˆç»ƒä¹ ]
    V --> C
```

### 4.2 ç»ƒä¹ åˆ†ç±»

```typescript
const categoryMap = {
  warmup: 'çƒ­èº«',              // 8 ä¸ªç»ƒä¹ 
  mobility: 'çµæ´»æ€§',          // é«‹éƒ¨ã€èƒ¸æ¤ç­‰
  balance: 'å¹³è¡¡',             // 8 ä¸ªç»ƒä¹ 
  strength: 'åŠ›é‡',            // 12 ä¸ªç»ƒä¹ 
  motor_pattern: 'åŠ¨ä½œæ¨¡å¼',   // 12 ä¸ªç»ƒä¹ 
  rotation_resistance: 'æ—‹è½¬å¯¹æŠ—',  // 10 ä¸ªç»ƒä¹ 
  power: 'çˆ†å‘åŠ›',             // 10 ä¸ªç»ƒä¹ 
  deceleration: 'å‡é€Ÿ'         // 8 ä¸ªç»ƒä¹ 
};
```

### 4.3 ç»ƒä¹ æ•°æ®ç»“æ„

```typescript
interface Drill {
  id: string;                // å”¯ä¸€æ ‡è¯† (å¦‚ PFD001)
  name: string;              // è‹±æ–‡åç§°
  nameZh: string;            // ä¸­æ–‡åç§°
  category: DrillCategory;   // åˆ†ç±»
  targetProblem: string;     // é’ˆå¯¹é—®é¢˜
  difficulty: 'beginner' | 'intermediate' | 'advanced';
  sets: number;              // ç»„æ•°
  reps: number;              // æ¬¡æ•°
  duration?: string;         // æ—¶é•¿æè¿°
  description: string;       // ç»ƒä¹ è¯´æ˜
}

// éš¾åº¦æ˜¾ç¤º
const difficultyMap = {
  beginner: { label: 'åˆçº§', color: 'var(--color-success)' },
  intermediate: { label: 'ä¸­çº§', color: 'var(--color-priority-medium)' },
  advanced: { label: 'é«˜çº§', color: 'var(--color-priority-high)' }
};
```

### 4.4 ç»ƒä¹ æ¨¡å¼ç•Œé¢æµè½¬

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç»ƒä¹ æ¨¡å¼ç•Œé¢æµè½¬                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   [ç»ƒä¹ è®¡åˆ’] [ç»ƒä¹ åº“]  â† Tab åˆ‡æ¢                                            â”‚
â”‚                                                                             â”‚
â”‚   ç»ƒä¹ è®¡åˆ’ Tab:                                                              â”‚
â”‚   â”œâ”€â”€ TrainingPlan ç»„ä»¶                                                     â”‚
â”‚   â”‚   â”œâ”€â”€ æˆ‘çš„è®¡åˆ’åˆ—è¡¨                                                       â”‚
â”‚   â”‚   â”œâ”€â”€ å¼€å§‹è®­ç»ƒæŒ‰é’® â†’ PlanExecutor (ä¼ æ„Ÿå™¨æ£€æŸ¥)                           â”‚
â”‚   â”‚   â””â”€â”€ æŸ¥çœ‹è¯¦æƒ… â†’ PlanDetail                                             â”‚
â”‚   â”‚                                                                         â”‚
â”‚   â””â”€â”€ PlanDetail:                                                           â”‚
â”‚       â”œâ”€â”€ è®¡åˆ’æ¦‚è§ˆ (æ—¶é•¿ã€é¢‘ç‡ã€è¿›åº¦)                                         â”‚
â”‚       â”œâ”€â”€ åŠ¨ä½œåˆ—è¡¨                                                           â”‚
â”‚       â””â”€â”€ å¼€å§‹è®­ç»ƒ â†’ PlanExecutor â†’ AllDrillsMode                           â”‚
â”‚                                                                             â”‚
â”‚   ç»ƒä¹ åº“ Tab:                                                                â”‚
â”‚   â”œâ”€â”€ 8 ä¸ªåˆ†ç±»æŒ‰é’® (4x2 ç½‘æ ¼)                                                â”‚
â”‚   â”œâ”€â”€ Drill å¡ç‰‡åˆ—è¡¨                                                         â”‚
â”‚   â”‚   â”œâ”€â”€ ä¸­æ–‡å + è‹±æ–‡å                                                    â”‚
â”‚   â”‚   â”œâ”€â”€ é’ˆå¯¹é—®é¢˜                                                           â”‚
â”‚   â”‚   â””â”€â”€ ç»„æ•° Ã— æ¬¡æ•° + éš¾åº¦æ ‡ç­¾                                             â”‚
â”‚   â””â”€â”€ ç‚¹å‡» â†’ DrillDetail â†’ GuidedPractice                                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. å¼•å¯¼æ¨¡å¼æµç¨‹

### 5.1 æµç¨‹å›¾

```mermaid
flowchart TD
    A[é¦–é¡µ/æ¨¡å¼é¡µ] --> B[ç‚¹å‡»å¼•å¯¼æ¨¡å¼]
    B --> C[GuideMode - ready]

    C --> D[æ˜¾ç¤ºä¼ æ„Ÿå™¨çŠ¶æ€]
    D --> E[ç‚¹å‡»ç»§ç»­]

    E --> F[intro - é€‰æ‹©å¼•å¯¼ç±»å‹]

    F --> G{é€‰æ‹©ç±»å‹}
    G -->|ç«™å§¿å¼•å¯¼| H[GuidedPractice - ç«™å§¿]
    G -->|æ…¢åŠ¨ä½œå¼•å¯¼| I[GuidedPractice - æ…¢åŠ¨ä½œ]
    G -->|å…¨éƒ¨åŠ¨ä½œ| J[combined æ¨¡å¼]

    H --> K[å®æ—¶ç«™å§¿åé¦ˆ]
    K --> L[å®Œæˆ]

    I --> M[é˜¶æ®µè¯­éŸ³æç¤º]
    M --> N[å®Œæˆ]

    J --> O[Phase 1: ç«™å§¿æ£€æŸ¥]
    O --> P[Phase 2: æŒ¥æ†ç»ƒä¹ ]
    P --> Q[å®Œæˆ]

    L --> F
    N --> F
    Q --> F
```

### 5.2 å¼•å¯¼ç±»å‹çŠ¶æ€

```typescript
type GuideType =
  | 'intro'       // é€‰æ‹©å¼•å¯¼ç±»å‹
  | 'ready'       // ä¼ æ„Ÿå™¨æ£€æŸ¥
  | 'detail'      // ç»ƒä¹ è¯¦æƒ…
  | 'practice'    // å¼•å¯¼ç»ƒä¹ ä¸­
  | 'setup'       // ç«™å§¿å¼•å¯¼
  | 'slowmotion'  // æ…¢åŠ¨ä½œå¼•å¯¼
  | 'combined'    // ç»¼åˆå¼•å¯¼
  | 'allDrills';  // å…¨éƒ¨ç»ƒä¹ æ¨¡å¼

type CombinedPhase = 'stance' | 'slowmotion';
```

### 5.3 å¼•å¯¼ç»ƒä¹ é¡¹ç›®

```typescript
const drills = [
  {
    id: 'setup-stance',
    nameZh: 'ç«™å§¿å¼•å¯¼',
    name: 'Setup & Stance',
    description: 'å®æ—¶æ£€æµ‹å¹¶çº æ­£ç«™å§¿ï¼Œå»ºç«‹æ­£ç¡®çš„å‡†å¤‡å§¿åŠ¿'
  },
  {
    id: 'slow-motion',
    nameZh: 'æ…¢åŠ¨ä½œå¼•å¯¼',
    name: 'Slow Motion Guide',
    description: 'åˆ†è§£æ¯ä¸ªåŠ¨ä½œé˜¶æ®µï¼Œæ…¢é€Ÿå»ºç«‹æ­£ç¡®çš„æŒ¥æ†æ¨¡å¼'
  }
];
```

### 5.4 å®æ—¶åé¦ˆç³»ç»Ÿ

```typescript
// ç«™å§¿åé¦ˆ
const setupFeedbacks = [
  { text: 'ç«™å§¿è‰¯å¥½ï¼', type: 'success' },
  { text: 'è„šå†å®½ä¸€ç‚¹', type: 'warning' },
  { text: 'è‚©è†€æ”¾æ¾', type: 'warning' },
  { text: 'è†ç›–å¼¯æ›²é€‚åº¦', type: 'success' },
  { text: 'é‡å¿ƒä¿æŒä¸­é—´', type: 'success' }
];

// æ…¢åŠ¨ä½œé˜¶æ®µæç¤º
const slowMotionPhases = [
  { phase: 'å‡†å¤‡å¥½äº†ï¼Œæ…¢æ…¢èµ·æ†', icon: 'ğŸŒï¸' },
  { phase: 'å¥½ï¼Œç»§ç»­è½¬è‚©', icon: 'ğŸ”„' },
  { phase: 'åˆ°é¡¶äº†ï¼Œå‡†å¤‡ä¸‹æ†', icon: 'â¸ï¸' },
  { phase: 'ä»æ ¸å¿ƒå¯åŠ¨', icon: 'ğŸ’ª' },
  { phase: 'ä¿æŒæ‰‹è…•è§’åº¦', icon: 'âœ‹' },
  { phase: 'æ”¶æ†ï¼Œä¿æŒå¹³è¡¡', icon: 'âœ…' }
];

// è‚Œè‚‰æ¿€æ´»æ•°æ®
const muscleGroups = [
  { id: 'core', nameZh: 'æ ¸å¿ƒè‚Œç¾¤', activation: 56, level: 'ä¸­ç­‰', color: '#f59e0b' },
  { id: 'back', nameZh: 'èƒŒéƒ¨', activation: 42, level: 'ä¸­ç­‰', color: '#f59e0b' },
  { id: 'shoulder', nameZh: 'è‚©éƒ¨', activation: 38, level: 'æ”¾æ¾', color: '#ef4444' },
  { id: 'deltoid', nameZh: 'ä¸‰è§’è‚Œ', activation: 61, level: 'ä¸­ç­‰', color: '#f59e0b' }
];
```

---

## 6. ä¼ æ„Ÿå™¨ç®¡ç†æµç¨‹

### 6.1 ä¼ æ„Ÿå™¨çŠ¶æ€

```typescript
interface Sensor {
  id: string;
  name: string;
  type: 'EMG' | 'IMU';
  status: 'connected' | 'disconnected';
  battery: number;    // 0-100
  signal: number;     // 0-100
  position?: string;  // ä½©æˆ´ä½ç½®
}

// é»˜è®¤ä¼ æ„Ÿå™¨é…ç½®
const defaultSensors: Sensor[] = [
  {
    id: 'emg-001',
    name: 'EMG ä¸»ä¼ æ„Ÿå™¨',
    type: 'EMG',
    status: 'connected',
    battery: 87,
    signal: 95,
    position: 'å·¦è‡‚'
  },
  {
    id: 'imu-001',
    name: 'IMU åŠ¨ä½œä¼ æ„Ÿå™¨',
    type: 'IMU',
    status: 'connected',
    battery: 92,
    signal: 88,
    position: 'è…°éƒ¨'
  }
];
```

### 6.2 ä¼ æ„Ÿå™¨æ£€æŸ¥æµç¨‹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä¼ æ„Ÿå™¨æ£€æŸ¥æµç¨‹                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   1. æ˜¾ç¤ºä¼ æ„Ÿå™¨åˆ—è¡¨                                                          â”‚
â”‚      â”œâ”€â”€ å·²è¿æ¥ä¼ æ„Ÿå™¨ â†’ ç»¿è‰²çŠ¶æ€æŒ‡ç¤º                                         â”‚
â”‚      â”œâ”€â”€ ç”µé‡æ˜¾ç¤º (ä½äº 20% è­¦å‘Š)                                            â”‚
â”‚      â””â”€â”€ ä¿¡å·å¼ºåº¦ (ä½äº 60% è­¦å‘Š)                                            â”‚
â”‚                                                                             â”‚
â”‚   2. çŠ¶æ€åˆ¤æ–­                                                                â”‚
â”‚      â”œâ”€â”€ å…¨éƒ¨æ­£å¸¸ â†’ æ˜¾ç¤º"ä¼ æ„Ÿå™¨çŠ¶æ€è‰¯å¥½ï¼Œå·²å‡†å¤‡å°±ç»ª"                          â”‚
â”‚      â”œâ”€â”€ æœ‰è­¦å‘Š â†’ æ˜¾ç¤ºå…·ä½“è­¦å‘Šä¿¡æ¯                                           â”‚
â”‚      â””â”€â”€ æ— ä¼ æ„Ÿå™¨ â†’ æ˜¾ç¤º"æœªæ£€æµ‹åˆ°ä¼ æ„Ÿå™¨ï¼Œå¯ä¸ä½¿ç”¨ä¼ æ„Ÿå™¨ç»§ç»­"                   â”‚
â”‚                                                                             â”‚
â”‚   3. å‡†å¤‡æç¤º                                                                â”‚
â”‚      â”œâ”€â”€ ğŸ“± å°†æ‰‹æœºæ”¾ç½®åœ¨æ­£é¢æˆ–ä¾§é¢ä½ç½®                                       â”‚
â”‚      â”œâ”€â”€ ğŸŒï¸ ç¡®ä¿å…¨èº«åœ¨ç”»é¢ä¸­                                                â”‚
â”‚      â”œâ”€â”€ ğŸ’¡ é€‰æ‹©å…‰çº¿å……è¶³çš„ç¯å¢ƒ                                              â”‚
â”‚      â””â”€â”€ ğŸ¯ å‡†å¤‡å¥½åç‚¹å‡»å¼€å§‹                                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. åº•éƒ¨å¯¼èˆªæµç¨‹

### 7.1 å¯¼èˆªç»“æ„

```typescript
const navItems = [
  { id: 'home', label: 'é¦–é¡µ', page: 'home' },
  { id: 'analytics', label: 'åˆ†æ', page: 'analytics-training' },
  { id: 'pending', label: 'å¾…å®š', page: 'pending' },
  { id: 'profile', label: 'æˆ‘çš„', page: 'settings' }
];
```

### 7.2 å¯¼èˆªæµç¨‹

```mermaid
flowchart LR
    A[é¦–é¡µ] <--> B[åˆ†æ]
    B <--> C[å¾…å®š]
    C <--> D[æˆ‘çš„]

    A --> E[HomePage]
    B --> F[AnalyticsPage]
    C --> G[PendingPage]
    D --> H[SettingsPage]

    H --> I[VolumeSettingsPage]
    H --> J[SensorPage]
    H --> K[é€€å‡ºç™»å½•]
```

---

## 8. é¡µé¢å¯¼èˆªæ˜ å°„

### 8.1 è·¯ç”±å®šä¹‰

```typescript
type Page =
  | 'home'               // é¦–é¡µ
  | 'modes'              // æ¨¡å¼é€‰æ‹©
  | 'assessment'         // è¯„ä¼°æ¨¡å¼
  | 'drill'              // ç»ƒä¹ æ¨¡å¼
  | 'guide'              // å¼•å¯¼æ¨¡å¼
  | 'realplay'           // å®æˆ˜æ¨¡å¼
  | 'history'            // å†å²è®°å½•
  | 'history-detail'     // å†å²è¯¦æƒ…
  | 'settings'           // è®¾ç½®
  | 'sensor'             // ä¼ æ„Ÿå™¨ç®¡ç†
  | 'swing-phase-detail' // æŒ¥æ†é˜¶æ®µè¯¦æƒ…
  | 'analytics-training' // åˆ†æé¡µ
  | 'pending'            // å¾…å®šé¡µ
  | 'volume-settings';   // éŸ³é‡è®¾ç½®
```

### 8.2 é¡µé¢æ–‡ä»¶æ˜ å°„

| è·¯ç”± | é¡µé¢æ–‡ä»¶ | è¯´æ˜ |
|-----|---------|------|
| `home` | `HomePage.tsx` | é¦–é¡µä»ªè¡¨ç›˜ |
| `modes` | `ModesPage.tsx` | å››ç§æ¨¡å¼é€‰æ‹© |
| `assessment` | `AssessmentMode.tsx` | è¯„ä¼°æ¨¡å¼å®Œæ•´æµç¨‹ |
| `drill` | `DrillMode.tsx` | ç»ƒä¹ æ¨¡å¼å®Œæ•´æµç¨‹ |
| `guide` | `GuideMode.tsx` | å¼•å¯¼æ¨¡å¼å®Œæ•´æµç¨‹ |
| `realplay` | `RealPlayMode.tsx` | å®æˆ˜æ¨¡å¼ (å³å°†æ¨å‡º) |
| `history` | `HistoryPage.tsx` | å†å²è®°å½•åˆ—è¡¨ |
| `history-detail` | `HistoryDetailPage.tsx` | å•æ¡è®°å½•è¯¦æƒ… |
| `settings` | `SettingsPage.tsx` | åº”ç”¨è®¾ç½® |
| `sensor` | `SensorPage.tsx` | ä¼ æ„Ÿå™¨ç®¡ç† |
| `analytics-training` | `AnalyticsPage.tsx` | æ•°æ®åˆ†æ |

---

## 9. é”™è¯¯å¤„ç†æµç¨‹

### 9.1 ä¼ æ„Ÿå™¨å¼‚å¸¸

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ä¼ æ„Ÿå™¨å¼‚å¸¸å¤„ç†                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ç”µé‡ä½äº 20%:                                                              â”‚
â”‚   â”œâ”€â”€ æ˜¾ç¤ºç”µé‡è­¦å‘Šå›¾æ ‡                                                       â”‚
â”‚   â”œâ”€â”€ å»ºè®®å……ç”µåç»§ç»­                                                         â”‚
â”‚   â””â”€â”€ å…è®¸ç»§ç»­ä½¿ç”¨ (ç”¨æˆ·ç¡®è®¤)                                                 â”‚
â”‚                                                                             â”‚
â”‚   ä¿¡å·ä½äº 60%:                                                              â”‚
â”‚   â”œâ”€â”€ æ˜¾ç¤ºä¿¡å·è­¦å‘Šå›¾æ ‡                                                       â”‚
â”‚   â”œâ”€â”€ å»ºè®®é è¿‘æ‰‹æœº                                                           â”‚
â”‚   â””â”€â”€ å½±å“æ•°æ®è´¨é‡æç¤º                                                       â”‚
â”‚                                                                             â”‚
â”‚   ä¼ æ„Ÿå™¨æ–­å¼€:                                                                â”‚
â”‚   â”œâ”€â”€ çŠ¶æ€å˜ä¸º 'disconnected'                                               â”‚
â”‚   â”œâ”€â”€ å¯é€‰æ‹©é‡æ–°è¿æ¥                                                         â”‚
â”‚   â””â”€â”€ å¯é€‰æ‹©ä»…ç”¨è§†è§‰æ¨¡å¼ç»§ç»­                                                  â”‚
â”‚                                                                             â”‚
â”‚   æ— ä¼ æ„Ÿå™¨:                                                                  â”‚
â”‚   â”œâ”€â”€ æ˜¾ç¤º"æœªæ£€æµ‹åˆ°ä¼ æ„Ÿå™¨"                                                   â”‚
â”‚   â”œâ”€â”€ æç¤ºå¯ä¸ä½¿ç”¨ä¼ æ„Ÿå™¨ç»§ç»­                                                  â”‚
â”‚   â””â”€â”€ åŠŸèƒ½æ­£å¸¸ï¼Œæ•°æ®ç²¾åº¦é™ä½                                                  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 çŠ¶æ€åˆ¤æ–­é€»è¾‘

```typescript
// ä¼ æ„Ÿå™¨çŠ¶æ€æ£€æŸ¥
const hasSensors = connectedSensors.length > 0;
const hasLowBattery = connectedSensors.some(s => s.battery < 20);
const hasWeakSignal = connectedSensors.some(s => s.signal < 60);

// æ˜¾ç¤ºé€»è¾‘
if (hasSensors && !hasLowBattery && !hasWeakSignal) {
  // æ˜¾ç¤º: "ä¼ æ„Ÿå™¨çŠ¶æ€è‰¯å¥½ï¼Œå·²å‡†å¤‡å°±ç»ª"
} else if (hasSensors) {
  // æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯ï¼Œä½†å…è®¸ç»§ç»­
} else {
  // æ˜¾ç¤º: "æœªæ£€æµ‹åˆ°ä¼ æ„Ÿå™¨ï¼Œå¯ä¸ä½¿ç”¨ä¼ æ„Ÿå™¨ç»§ç»­"
}
```

---

## 10. ç›¸å…³æ–‡æ¡£

| ç›¸å…³æ–‡æ¡£ | å†…å®¹ | æœ¬æ–‡æ¡£ä½¿ç”¨ |
|---------|------|-----------|
| [å±å¹•åˆ—è¡¨](screens.md) | å±å¹•ç»“æ„å®šä¹‰ | æµç¨‹èŠ‚ç‚¹å¯¹åº” |
| [è®¾è®¡ç³»ç»Ÿ](design-system.md) | è®¾è®¡è§„èŒƒ | ç•Œé¢è®¾è®¡å‚è€ƒ |
| [æ•°æ®å¯è§†åŒ–](data-visualization.md) | å›¾è¡¨è§„èŒƒ | æŠ¥å‘Šå±•ç¤ºè®¾è®¡ |

---

**æœ€åæ›´æ–°**: 2026-01-17
**ç»´æŠ¤è€…**: Movement Chain AI Team
**åŸºäº**: Movement-chain-mobile-figma é¡¹ç›®ä»£ç 

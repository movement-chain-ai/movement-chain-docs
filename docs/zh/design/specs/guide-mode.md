# å¼•å¯¼æ¨¡å¼

> **æ–‡æ¡£ç›®çš„**: å®šä¹‰å®æ—¶å¼•å¯¼åŠŸèƒ½çš„è®¾è®¡ï¼ŒåŒ…æ‹¬ç«™å§¿æ£€æŸ¥å’Œæ…¢åŠ¨ä½œå¼•å¯¼
>
> **æ ¸å¿ƒå®šä½**: åœ¨ç”¨æˆ·åŠ¨ä½œè¿‡ç¨‹ä¸­æä¾›å®æ—¶æŒ‡å¯¼ï¼Œå¸®åŠ©å»ºç«‹æ­£ç¡®åŠ¨ä½œæ¨¡å¼
>
---

## 1. å¼•å¯¼æ¨¡å¼æ¦‚è¿°

å¼•å¯¼æ¨¡å¼ä¸è¯„ä¼°æ¨¡å¼çš„æ ¸å¿ƒåŒºåˆ«ï¼š

| æ¨¡å¼ | æœ¬è´¨ | æ—¶æœº | ç›®çš„ |
|------|------|------|------|
| **å¼•å¯¼æ¨¡å¼** | å®æ—¶æŒ‡å¯¼ | åŠ¨ä½œå‰/åŠ¨ä½œä¸­ | å¸®åŠ©ç”¨æˆ·"åšå¯¹" |
| **è¯„ä¼°æ¨¡å¼** | äº‹åè¯Šæ–­ | åŠ¨ä½œå | å‘Šè¯‰ç”¨æˆ·"å“ªé‡Œé”™äº†" |

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GUIDE MODE                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ç«™å§¿å¼•å¯¼ (Setup Guide)                        å»¶è¿Ÿè¦æ±‚: <300ms              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç”¨æˆ·é™æ­¢å‡†å¤‡ â†’ å®æ—¶æ£€æµ‹å§¿åŠ¿ â†’ è¯­éŸ³/è§†è§‰åé¦ˆ                                      â”‚
â”‚  "è‚©è†€æ”¾æ¾ä¸€ç‚¹" / "è„šå†å®½ä¸€ç‚¹"                                                  â”‚
â”‚                                                                             â”‚
â”‚  â±ï¸ ç”¨æˆ·æœ‰ 2-5 ç§’ååº”æ—¶é—´ â†’ å®Œå…¨å¯è¡Œ                                            â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  æ…¢åŠ¨ä½œå¼•å¯¼ (Slow Motion Guide)                å»¶è¿Ÿè¦æ±‚: <500ms              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç”¨æˆ·æ…¢é€ŸæŒ¥æ† (1/4-1/2 é€Ÿåº¦) â†’ æ¯é˜¶æ®µæ£€æµ‹ â†’ é˜¶æ®µæ€§åé¦ˆ                            â”‚
â”‚  "å¥½ï¼Œç»§ç»­è½¬è‚©..." / "ç°åœ¨å¼€å§‹ä¸‹æ†..."                                          â”‚
â”‚                                                                             â”‚
â”‚  â±ï¸ æ…¢åŠ¨ä½œæŒ¥æ† 3-5 ç§’ â†’ æœ‰æ—¶é—´åœ¨æ¯é˜¶æ®µç»™åé¦ˆ                                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç«™å§¿å¼•å¯¼

### 2.1 è®¾è®¡åŸåˆ™

ç”¨æˆ·åœ¨æŒ¥æ†å‰æœ‰ 2-5 ç§’çš„å‡†å¤‡æ—¶é—´ï¼Œè¿™æ˜¯**æœ€ä½³åé¦ˆçª—å£**ï¼š

- ç”¨æˆ·é™æ­¢ï¼Œå§¿æ€ç¨³å®š
- æœ‰æ—¶é—´å¬å–å¹¶è°ƒæ•´
- æ¯æ¬¡æŒ¥æ†å‰éƒ½å¯ä»¥æ£€æŸ¥
- è¿™æ˜¯æ•™ç»ƒæœ€å¸¸åšçš„äº‹æƒ…

### 2.2 æ£€æµ‹é¡¹ç›®

| æ£€æµ‹é¡¹ | ä¼ æ„Ÿå™¨ | é˜ˆå€¼ | åé¦ˆè¯­éŸ³ |
|-------|--------|-----|---------|
| å¤´éƒ¨ä½ç½®è¿‡é«˜ | Vision | `nose.y < shoulder.y * 0.7` | "ä¸‹å·´æ”¶ä¸€ç‚¹" |
| è‚©è†€è€¸èµ· | Vision | `(shoulder.y - ear.y) < threshold` | "æ”¾æ¾è‚©è†€" |
| ç«™è·è¿‡çª„ | Vision | `ankle_dist / shoulder_width < 0.9` | "è„šå†å®½ä¸€ç‚¹" |
| ç«™è·è¿‡å®½ | Vision | `ankle_dist / shoulder_width > 1.3` | "è„šæ”¶çª„ä¸€ç‚¹" |
| è„ŠæŸ±å¤ªç›´ | Vision | `spine_angle < 25Â°` | "ä¸Šèº«å‰å€¾ä¸€äº›" |
| è„ŠæŸ±è¿‡å¼¯ | Vision | `spine_angle > 45Â°` | "èƒŒæŒºç›´ä¸€ç‚¹" |
| è†ç›–é”æ­» | Vision | `knee_angle > 175Â°` | "è†ç›–å¼¯ä¸€ä¸‹" |
| é‡å¿ƒåç§» | Vision | `hip_center.x` åç¦»ä¸­å¿ƒ | "é‡å¿ƒæ”¾ä¸­é—´" |

### 2.3 å®ç°ä»£ç 

```python
class SetupGuide:
    """
    ç«™å§¿å®æ—¶å¼•å¯¼å™¨

    åœ¨ç”¨æˆ·å‡†å¤‡æŒ¥æ†æ—¶æŒç»­è¿è¡Œï¼Œæ£€æµ‹å¹¶åé¦ˆå§¿æ€é—®é¢˜
    """

    def __init__(self, feedback_cooldown_ms=2000):
        self.feedback_cooldown = feedback_cooldown_ms
        self.last_feedback_time = {}

    def check_setup(self, landmarks, current_time):
        """
        æ£€æŸ¥ç«™å§¿å¹¶è¿”å›éœ€è¦åé¦ˆçš„é—®é¢˜

        Args:
            landmarks: MediaPipe 33 å…³é”®ç‚¹
            current_time: å½“å‰æ—¶é—´æˆ³ (ms)

        Returns:
            issues: list of (issue_name, feedback_text, priority)
        """
        issues = []

        # 1. æ£€æŸ¥å¤´éƒ¨ä½ç½®
        if self._head_too_high(landmarks):
            issues.append(('head_high', 'ä¸‹å·´æ”¶ä¸€ç‚¹', 2))

        # 2. æ£€æŸ¥è‚©è†€
        if self._shoulders_raised(landmarks):
            issues.append(('shoulders', 'æ”¾æ¾è‚©è†€', 2))

        # 3. æ£€æŸ¥ç«™è·
        stance_ratio = self._get_stance_ratio(landmarks)
        if stance_ratio < 0.9:
            issues.append(('stance_narrow', 'è„šå†å®½ä¸€ç‚¹', 1))
        elif stance_ratio > 1.3:
            issues.append(('stance_wide', 'è„šæ”¶çª„ä¸€ç‚¹', 1))

        # 4. æ£€æŸ¥è„ŠæŸ±è§’åº¦
        spine_angle = self._get_spine_angle(landmarks)
        if spine_angle < 25:
            issues.append(('spine_straight', 'ä¸Šèº«å‰å€¾ä¸€äº›', 1))
        elif spine_angle > 45:
            issues.append(('spine_bent', 'èƒŒæŒºç›´ä¸€ç‚¹', 1))

        # 5. æ£€æŸ¥è†ç›–
        if self._knees_locked(landmarks):
            issues.append(('knees', 'è†ç›–å¼¯ä¸€ä¸‹', 2))

        # è¿‡æ»¤å†·å´ä¸­çš„åé¦ˆ
        filtered_issues = []
        for issue_name, text, priority in issues:
            last_time = self.last_feedback_time.get(issue_name, 0)
            if current_time - last_time > self.feedback_cooldown:
                filtered_issues.append((issue_name, text, priority))
                self.last_feedback_time[issue_name] = current_time

        # æŒ‰ä¼˜å…ˆçº§æ’åºï¼Œåªè¿”å›æœ€é‡è¦çš„ 1-2 ä¸ª
        filtered_issues.sort(key=lambda x: x[2])
        return filtered_issues[:2]

    def _get_stance_ratio(self, landmarks):
        """è®¡ç®—ç«™è·æ¯”ä¾‹"""
        LEFT_ANKLE, RIGHT_ANKLE = 27, 28
        LEFT_SHOULDER, RIGHT_SHOULDER = 11, 12

        ankle_dist = np.linalg.norm(
            np.array([landmarks[LEFT_ANKLE].x, landmarks[LEFT_ANKLE].y]) -
            np.array([landmarks[RIGHT_ANKLE].x, landmarks[RIGHT_ANKLE].y])
        )
        shoulder_dist = np.linalg.norm(
            np.array([landmarks[LEFT_SHOULDER].x, landmarks[LEFT_SHOULDER].y]) -
            np.array([landmarks[RIGHT_SHOULDER].x, landmarks[RIGHT_SHOULDER].y])
        )

        return ankle_dist / shoulder_dist if shoulder_dist > 0 else 1.0

    def _get_spine_angle(self, landmarks):
        """è®¡ç®—è„ŠæŸ±å‰å€¾è§’åº¦"""
        # ç®€åŒ–: ä½¿ç”¨è‚©è†€ä¸­ç‚¹åˆ°é«‹éƒ¨ä¸­ç‚¹çš„è§’åº¦
        LEFT_SHOULDER, RIGHT_SHOULDER = 11, 12
        LEFT_HIP, RIGHT_HIP = 23, 24

        shoulder_center = np.array([
            (landmarks[LEFT_SHOULDER].x + landmarks[RIGHT_SHOULDER].x) / 2,
            (landmarks[LEFT_SHOULDER].y + landmarks[RIGHT_SHOULDER].y) / 2
        ])
        hip_center = np.array([
            (landmarks[LEFT_HIP].x + landmarks[RIGHT_HIP].x) / 2,
            (landmarks[LEFT_HIP].y + landmarks[RIGHT_HIP].y) / 2
        ])

        # è®¡ç®—ä¸å‚ç›´çº¿çš„å¤¹è§’
        vertical = np.array([0, -1])
        spine_vec = shoulder_center - hip_center
        spine_vec_norm = spine_vec / np.linalg.norm(spine_vec)

        angle = np.arccos(np.dot(spine_vec_norm, vertical))
        return np.degrees(angle)

    def _head_too_high(self, landmarks):
        """æ£€æŸ¥å¤´éƒ¨æ˜¯å¦è¿‡é«˜"""
        NOSE = 0
        LEFT_SHOULDER, RIGHT_SHOULDER = 11, 12

        nose_y = landmarks[NOSE].y
        shoulder_y = (landmarks[LEFT_SHOULDER].y + landmarks[RIGHT_SHOULDER].y) / 2

        # åœ¨å½’ä¸€åŒ–åæ ‡ä¸­ï¼Œy è¶Šå°è¡¨ç¤ºè¶Šé«˜
        return nose_y < shoulder_y * 0.7

    def _shoulders_raised(self, landmarks):
        """æ£€æŸ¥è‚©è†€æ˜¯å¦è€¸èµ·"""
        LEFT_EAR, RIGHT_EAR = 7, 8
        LEFT_SHOULDER, RIGHT_SHOULDER = 11, 12

        ear_y = (landmarks[LEFT_EAR].y + landmarks[RIGHT_EAR].y) / 2
        shoulder_y = (landmarks[LEFT_SHOULDER].y + landmarks[RIGHT_SHOULDER].y) / 2

        # è‚©è†€å’Œè€³æœµè·ç¦»å¤ªè¿‘è¡¨ç¤ºè€¸è‚©
        return (shoulder_y - ear_y) < 0.08  # å½’ä¸€åŒ–åæ ‡

    def _knees_locked(self, landmarks):
        """æ£€æŸ¥è†ç›–æ˜¯å¦é”æ­»"""
        # ç®€åŒ–: æ£€æŸ¥è†ç›–æ˜¯å¦å‡ ä¹å®Œå…¨ä¼¸ç›´
        LEFT_HIP, LEFT_KNEE, LEFT_ANKLE = 23, 25, 27

        hip = np.array([landmarks[LEFT_HIP].x, landmarks[LEFT_HIP].y])
        knee = np.array([landmarks[LEFT_KNEE].x, landmarks[LEFT_KNEE].y])
        ankle = np.array([landmarks[LEFT_ANKLE].x, landmarks[LEFT_ANKLE].y])

        # è®¡ç®—è†ç›–è§’åº¦
        vec1 = hip - knee
        vec2 = ankle - knee
        cos_angle = np.dot(vec1, vec2) / (np.linalg.norm(vec1) * np.linalg.norm(vec2))
        angle = np.degrees(np.arccos(np.clip(cos_angle, -1, 1)))

        return angle > 175
```

---

## 3. æ…¢åŠ¨ä½œå¼•å¯¼

### 3.1 è®¾è®¡åŸåˆ™

è®©ç”¨æˆ·ä»¥ 1/4 æˆ– 1/2 é€Ÿåº¦ç»ƒä¹ ï¼Œç³»ç»Ÿå¯ä»¥åœ¨æ¯ä¸ªé˜¶æ®µç»™å‡ºå®æ—¶åé¦ˆã€‚

```text
æ­£å¸¸æŒ¥æ†:  1.2 ç§’ (å¤ªå¿«ï¼Œæ— æ³•å®æ—¶åé¦ˆ)
1/2 é€Ÿåº¦:  2.4 ç§’ (æ¯é˜¶æ®µçº¦ 300msï¼Œå¯ä»¥åé¦ˆ)
1/4 é€Ÿåº¦:  4.8 ç§’ (æ¯é˜¶æ®µçº¦ 600msï¼Œå……è¶³åé¦ˆæ—¶é—´)
```

### 3.2 é˜¶æ®µæ€§åé¦ˆè®¾è®¡

| é˜¶æ®µ | æ£€æµ‹ç‚¹ | åé¦ˆå†…å®¹ | è§¦å‘æ¡ä»¶ |
|-----|-------|---------|---------|
| Address â†’ Toe-Up | èµ·æ†å¼€å§‹ | "å¥½ï¼Œæ…¢æ…¢èµ·æ†" | æ£€æµ‹åˆ°è¿åŠ¨å¼€å§‹ |
| Toe-Up â†’ Mid-Backswing | æ‰‹è…•å¹³è¡Œ | "ç»§ç»­è½¬è‚©" | æ‰‹è…•è¾¾åˆ°è…°éƒ¨é«˜åº¦ |
| Mid-Backswing â†’ Top | åˆ°é¡¶ç‚¹ | "è½¬åˆ°ä½äº†" | è§’é€Ÿåº¦æ¥è¿‘é›¶ |
| Top â†’ Mid-Downswing | ä¸‹æ†å¯åŠ¨ | "ä»æ ¸å¿ƒå¯åŠ¨" | æ£€æµ‹åˆ°æ–¹å‘åè½¬ |
| Mid-Downswing â†’ Impact | å‡»çƒå‰ | "ä¿æŒæ‰‹è…•" | æ£€æµ‹åˆ°åŠ é€Ÿ |
| Impact â†’ Finish | å‡»çƒå | "ä¿æŒå¹³è¡¡" | æ£€æµ‹åˆ°å‡»çƒ |

### 3.3 å®ç°ä»£ç 

```python
class SlowMotionGuide:
    """
    æ…¢åŠ¨ä½œå¼•å¯¼æ•™ç»ƒ

    åœ¨ç”¨æˆ·æ…¢é€ŸæŒ¥æ†æ—¶ï¼Œæ¯ä¸ªé˜¶æ®µç»™å‡ºå¼•å¯¼åé¦ˆ
    """

    PHASE_PROMPTS = {
        'address_start': 'å‡†å¤‡å¥½äº†ï¼Œæ…¢æ…¢èµ·æ†',
        'toe_up': 'å¥½ï¼Œç»§ç»­',
        'mid_backswing': 'è½¬è‚©ï¼Œè½¬è‚©',
        'top': 'åˆ°é¡¶äº†ï¼Œå‡†å¤‡ä¸‹æ†',
        'transition': 'ä»æ ¸å¿ƒå¯åŠ¨',
        'mid_downswing': 'ä¿æŒæ‰‹è…•è§’åº¦',
        'impact': 'æ‰“åˆ°äº†ï¼',
        'finish': 'æ”¶æ†ï¼Œä¿æŒå¹³è¡¡',
    }

    def __init__(self, phase_detector, audio_player):
        self.phase_detector = phase_detector
        self.audio_player = audio_player
        self.current_phase = None
        self.phases_announced = set()

    def update(self, imu_data, vision_data, current_time):
        """
        æ¯å¸§æ›´æ–°ï¼Œæ£€æµ‹é˜¶æ®µå˜åŒ–å¹¶ç»™å‡ºåé¦ˆ
        """
        # æ£€æµ‹å½“å‰é˜¶æ®µ
        phases = self.phase_detector.detect_all_phases(imu_data, vision_data)

        new_phase = self._determine_current_phase(phases, current_time)

        if new_phase and new_phase != self.current_phase:
            if new_phase not in self.phases_announced:
                self._announce_phase(new_phase)
                self.phases_announced.add(new_phase)
            self.current_phase = new_phase

    def _announce_phase(self, phase):
        """æ’­æ”¾é˜¶æ®µæç¤ºéŸ³"""
        prompt = self.PHASE_PROMPTS.get(phase)
        if prompt:
            self.audio_player.play(prompt)

    def reset(self):
        """é‡ç½®çŠ¶æ€ï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡æŒ¥æ†"""
        self.current_phase = None
        self.phases_announced.clear()

    def _determine_current_phase(self, phases, current_time):
        """æ ¹æ®æ£€æµ‹åˆ°çš„é˜¶æ®µæ—¶é—´ç¡®å®šå½“å‰é˜¶æ®µ"""
        # ç®€åŒ–é€»è¾‘: æ ¹æ®æ—¶é—´é¡ºåºåˆ¤æ–­
        if phases.get('finish') and current_time > phases['finish']:
            return 'finish'
        if phases.get('impact') and current_time > phases['impact']:
            return 'impact'
        if phases.get('top') and current_time > phases['top']:
            if current_time < phases['top'] + 200:
                return 'transition'
            return 'mid_downswing'
        if phases.get('address', {}).get('end') and current_time > phases['address']['end']:
            return 'mid_backswing'

        return 'address_start'
```

### 3.4 æ…¢åŠ¨ä½œå¼•å¯¼çš„æ ¸å¿ƒä»·å€¼

#### 3.4.1 è¿˜åŸçœŸå®é«˜å°”å¤«æ•™å­¦åœºæ™¯

æ…¢åŠ¨ä½œå¼•å¯¼æ¨¡æ‹Ÿäº†ä¸“ä¸šæ•™ç»ƒæ•™å­¦çš„æ ¸å¿ƒç¯èŠ‚ï¼š

| çœŸå®æ•™å­¦åœºæ™¯ | å¼•å¯¼æ¨¡å¼å®ç° |
|------------|------------|
| æ•™ç»ƒè®©ä½ æ…¢æ…¢åšï¼Œä»–åœ¨æ—è¾¹çœ‹ | ç³»ç»Ÿå®æ—¶ç›‘æµ‹æ¯ä¸ªé˜¶æ®µ |
| æ•™ç»ƒåœ¨å…³é”®ç‚¹å–Š"åœï¼Œè¿™é‡Œè¦å‘åŠ›" | é˜¶æ®µæ€§è¯­éŸ³æç¤º |
| æ•™ç»ƒè¯´"å¯¹ï¼Œå°±æ˜¯è¿™ä¸ªæ„Ÿè§‰" | æ­£ç¡®æ¨¡å¼ç¡®è®¤åé¦ˆ |
| åå¤ç»ƒä¹ ç›´åˆ°å½¢æˆè‚Œè‚‰è®°å¿† | é‡å¤è®­ç»ƒ + ä¸€è‡´æ€§è¿½è¸ª |

#### 3.4.2 è§£å†³"çŸ¥é“ä½†åšä¸åˆ°"çš„é—®é¢˜

å…¨é€Ÿåˆ†æèƒ½å‘Šè¯‰ç”¨æˆ·"æ ¸å¿ƒå‘åŠ›å¤ªæ™š"ï¼Œä½†ç”¨æˆ·ä¸‹ä¸€æ†è¿˜æ˜¯ä¸€æ ·â€”â€”å› ä¸º 1.2 ç§’çš„æŒ¥æ†å¤ªå¿«ï¼Œæ¥ä¸åŠè°ƒæ•´ã€‚

æ…¢åŠ¨ä½œå¼•å¯¼æŠŠåŠ¨ä½œæ‹‰é•¿åˆ° 3-5 ç§’ï¼Œç”¨æˆ·å¯ä»¥åœ¨"ä¸‹æ†å¯åŠ¨"çš„é‚£ä¸ªç¬é—´ï¼š
- å¬åˆ°æç¤º"ä»æ ¸å¿ƒå‘åŠ›"
- ä½“ä¼šæ­£ç¡®çš„å‘åŠ›æ„Ÿè§‰
- é‡å¤ 50 æ¬¡å»ºç«‹è‚Œè‚‰è®°å¿†
- å…¨é€ŸæŒ¥æ†æ—¶è‡ªåŠ¨æ‰§è¡Œ

#### 3.4.3 é™ä½å­¦ä¹ é—¨æ§›

| åœºæ™¯ | æ²¡æœ‰å¼•å¯¼æ¨¡å¼ | æœ‰å¼•å¯¼æ¨¡å¼ |
|-----|------------|----------|
| åˆå­¦è€… | å…¨é€Ÿæ‰“ â†’ åå¤å‡ºé”™ â†’ æŒ«è´¥æ”¾å¼ƒ | æ…¢ç»ƒ â†’ é€æ­¥æŒæ¡ â†’ æœ‰æˆå°±æ„Ÿ |
| æŠ€æœ¯çº æ­£ | çŸ¥é“é—®é¢˜ä½†æ”¹ä¸äº† | åœ¨æ…¢åŠ¨ä½œä¸­ä½“ä¼šæ­£ç¡®æ„Ÿè§‰ |
| ä¼¤åæ¢å¤ | ä¸æ•¢å…¨é€Ÿæ‰“ | å®‰å…¨åœ°é‡å»ºåŠ¨ä½œæ¨¡å¼ |

---

## 4. å¼•å¯¼æ¨¡å¼ä¸è¯„ä¼°æ¨¡å¼çš„é…åˆ

å¼•å¯¼æ¨¡å¼å’Œè¯„ä¼°æ¨¡å¼å…±åŒæ„å»ºäº†**å­¦ä¹  â†’ éªŒè¯**çš„å®Œæ•´é—­ç¯ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å­¦ä¹  â†’ éªŒè¯ é—­ç¯                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚    éªŒè¯       â”‚                    â”‚     åé¦ˆ     â”‚      â”‚
â”‚   â”‚  è¯„ä¼°æ¨¡å¼å…¨é€Ÿ  â”‚ â”€â”€â”€ å‘ç°é—®é¢˜ â”€â”€â”€â”€â–¶  â”‚ "æ ¸å¿ƒå‘åŠ›æ™š"  â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â–²                                   â”‚              â”‚
â”‚          â”‚                                   â–¼              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚    ç¡®è®¤       â”‚                    â”‚    å­¦ä¹       â”‚      â”‚
â”‚   â”‚ "é—®é¢˜è§£å†³äº†"   â”‚ â—€â”€â”€â”€ å»ºç«‹è®°å¿† â”€â”€â”€â”€  â”‚ å¼•å¯¼æ¨¡å¼æ…¢ç»ƒ   â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å››ä¸ªç¯èŠ‚**ï¼š

| ç¯èŠ‚ | æ¨¡å¼ | ä½œç”¨ | è¯´æ˜ |
|-----|------|------|------|
| **éªŒè¯** | è¯„ä¼°æ¨¡å¼ | å…¨é€ŸæŒ¥æ† | çœŸå®è¡¨ç°ï¼Œæš´éœ²é—®é¢˜ |
| **åé¦ˆ** | è¯„ä¼°æ¨¡å¼ | è¯Šæ–­åˆ†æ | å‘Šè¯‰ç”¨æˆ·"å“ªé‡Œé”™äº†" |
| **å­¦ä¹ ** | å¼•å¯¼æ¨¡å¼ | æ…¢åŠ¨ä½œå¼•å¯¼ | åœ¨è¿‡ç¨‹ä¸­ä½“ä¼š"æ€ä¹ˆåšå¯¹" |
| **ç¡®è®¤** | è¯„ä¼°æ¨¡å¼ | æ£€éªŒè¿ç§» | ç¡®è®¤å­¦ä¹ æ•ˆæœæ˜¯å¦ä¿æŒ |

---

## 5. å»¶è¿Ÿé¢„ç®—

### 5.1 ç«¯åˆ°ç«¯å»¶è¿Ÿåˆ†è§£

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    END-TO-END LATENCY BREAKDOWN                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ä¼ æ„Ÿå™¨é‡‡é›†         ç‰¹å¾æå–          è§„åˆ™åˆ¤æ–­          åé¦ˆç”Ÿæˆ                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚                                                                             â”‚
â”‚  Vision: 33ms     MediaPipe: 30ms  è§„åˆ™å¼•æ“: <5ms   è¯­éŸ³TTS: 50-100ms         â”‚
â”‚  IMU: <10ms       ç‰¹å¾è®¡ç®—: <10ms                   è§†è§‰å åŠ : <20ms            â”‚
â”‚  EMG: <5ms        æ—¶é—´åŒæ­¥: <5ms                    è§¦è§‰æŒ¯åŠ¨: <10ms            â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                             â”‚
â”‚  å»¶è¿Ÿé¢„ç®—:    33 + 30 + 5 + 100 = ~170ms                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å„åœºæ™¯å»¶è¿Ÿè¦æ±‚

| åœºæ™¯ | å»¶è¿Ÿè¦æ±‚ | æ•æ„Ÿç¯èŠ‚ | åŸå›  | ä¼˜åŒ–ç­–ç•¥ |
|-----|---------|---------|------|---------|
| ç«™å§¿å¼•å¯¼ | <300ms | TTS ç”Ÿæˆ | ç”¨æˆ·é™æ­¢ç­‰å¾…ï¼Œè¯­éŸ³æ˜¯ä¸»è¦åé¦ˆæ–¹å¼ï¼ŒTTS å æ€»å»¶è¿Ÿ 60% | é¢„ç¼“å­˜å¸¸ç”¨è¯­éŸ³ |
| æ…¢åŠ¨ä½œå¼•å¯¼ | <500ms | Vision å¸§ç‡ | éœ€è¦è¿½è¸ªè¿ç»­åŠ¨ä½œï¼Œ30fps æ¯å¸§ 33ms ä¼šç´¯ç§¯è¯¯å·® | æé«˜åˆ° 60fps |

---

## 6. å®æ–½è·¯çº¿å›¾

| é˜¶æ®µ | å†…å®¹ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|------|--------|------|
| **Post-MVP** | ç«™å§¿å¼•å¯¼ | ğŸŸ¡ é«˜ | éœ€è¦é™æ€å§¿æ€æ£€æµ‹ |
| **Post-MVP** | æ…¢åŠ¨ä½œå¼•å¯¼ | ğŸŸ¡ é«˜ | å®æ—¶å¤„ç†å¤æ‚åº¦é«˜ |
| **Post-MVP** | è§¦è§‰æŒ¯åŠ¨åé¦ˆ | ğŸŸ¡ ä¸­ | éœ€è¦ Apple Watch è”åŠ¨ |

!!! info "ä¸ºä»€ä¹ˆ MVP ä¸åŒ…å«å¼•å¯¼æ¨¡å¼?"
    1. **å®æ—¶çº¦æŸé«˜** â€” éœ€è¦ä½å»¶è¿Ÿå®æ—¶å¤„ç†
    2. **ä¾èµ–å®Œå–„çš„é˜¶æ®µæ£€æµ‹** â€” éœ€è¦å…ˆéªŒè¯è¯„ä¼°æ¨¡å¼çš„é˜¶æ®µæ£€æµ‹å‡†ç¡®æ€§
    3. **MVP ä¼˜å…ˆéªŒè¯æ ¸å¿ƒä»·å€¼** â€” å…ˆè¯æ˜ä¼ æ„Ÿå™¨èåˆåˆ†æçš„ä»·å€¼

---

## 7. ç›¸å…³æ–‡æ¡£

| ç›¸å…³æ–‡æ¡£ | å†…å®¹ | æœ¬æ–‡æ¡£ä½¿ç”¨ |
|---------|------|-----------|
| [è¯„ä¼°æ¨¡å¼](assessment-mode.md) | å…¨é€Ÿåˆ†æ | éªŒè¯å­¦ä¹ æ•ˆæœ |
| [å…«ä¸ªæŒ¥æ†é˜¶æ®µ](eight-swing-phases.md) | é˜¶æ®µæ£€æµ‹ | é˜¶æ®µè§¦å‘ç‚¹ |
| [ä¼ æ„Ÿå™¨æ˜ å°„](../architecture/sensor-data-processing.md) | ä¼ æ„Ÿå™¨èƒ½åŠ› | æ£€æµ‹æ–¹æ³•é€‰æ‹© |

---

**æœ€åæ›´æ–°**: 2026-01-06
**ç»´æŠ¤è€…**: Movement Chain AI Team

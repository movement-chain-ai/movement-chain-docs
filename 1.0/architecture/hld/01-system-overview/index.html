
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Architecture documentation for multimodal AI movement training system">
      
      
        <meta name="author" content="Movement Chain AI Team">
      
      
        <link rel="canonical" href="https://movement-chain-ai.github.io/system-documentation/1.0/architecture/hld/01-system-overview/">
      
      
        <link rel="prev" href="../../..">
      
      
        <link rel="next" href="../02-data-flow/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>System Overview - Movement Chain AI Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#high-level-design-movement-chain-ai-system" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Movement Chain AI Documentation" class="md-header__button md-logo" aria-label="Movement Chain AI Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Movement Chain AI Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              System Overview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/movement-chain-ai/system-documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    movement-chain-ai/system-documentation
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
    
  
  Architecture

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../decisions/" class="md-tabs__link">
          
  
  
    
  
  Decisions

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../resources/hardware-comparison/" class="md-tabs__link">
          
  
  
    
  
  Resources

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Movement Chain AI Documentation" class="md-nav__button md-logo" aria-label="Movement Chain AI Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Movement Chain AI Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/movement-chain-ai/system-documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    movement-chain-ai/system-documentation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    High-Level Design
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    High-Level Design
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    System Overview
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    System Overview
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-executive-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Executive Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Executive Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-immediate-feedback-philosophy" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Immediate Feedback Philosophy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-key-design-principles" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Key Design Principles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-four-module-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Four-Module Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Four-Module Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-module-1-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Module 1: Assessment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-module-2-diagnosis" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Module 2: Diagnosis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-module-3-correction-real-time-post-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Module 3: Correction (Real-Time + Post-Action)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-module-4-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Module 4: Tracking
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-use-case-adaptations" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Use Case Adaptations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Use Case Adaptations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-golf-swing-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Golf Swing Analysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-workout-form-correction" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Workout Form Correction
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-cross-sport-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Cross-Sport Architecture
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-multimodal-sensor-fusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Multimodal Sensor Fusion
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Multimodal Sensor Fusion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-sensor-modalities" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Sensor Modalities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-sensor-placement-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Sensor Placement Strategy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-data-synchronization" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Data Synchronization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-sensor-fusion-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 Sensor Fusion Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-sensor-degradation-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 Sensor Degradation Handling
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-technology-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Technology Stack
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Technology Stack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-hardware-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Hardware Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-software-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Software Stack
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-ml-model-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 ML Model Architecture
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Data Flow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Data Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-real-time-feedback-loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Real-Time Feedback Loop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-post-action-analysis-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Post-Action Analysis Flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-data-storage-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Data Storage Architecture
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-deployment-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Deployment Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Deployment Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-system-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 System Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-cloud-services-optionalfuture" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Cloud Services (Optional/Future)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-performance-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Performance Requirements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Performance Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-latency-targets" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Latency Targets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-accuracy-targets" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Accuracy Targets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-resource-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Resource Constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-scalability-targets" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.4 Scalability Targets
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-security-privacy" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Security &amp; Privacy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Security &amp; Privacy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-data-protection" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Data Protection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-firmware-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 Firmware Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-threat-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3 Threat Model
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-development-roadmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Development Roadmap
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Development Roadmap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-mvp-months-1-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Phase 1: MVP (Months 1-4)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-real-time-feedback-months-5-6" class="md-nav__link">
    <span class="md-ellipsis">
      
        Phase 2: Real-Time Feedback (Months 5-6)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-production-polish-months-7-9" class="md-nav__link">
    <span class="md-ellipsis">
      
        Phase 3: Production Polish (Months 7-9)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-future-enhancements-months-10" class="md-nav__link">
    <span class="md-ellipsis">
      
        Phase 4: Future Enhancements (Months 10+)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-success-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Success Metrics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11. Success Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-technical-kpis" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.1 Technical KPIs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-user-kpis" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.2 User KPIs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-business-kpis-future" class="md-nav__link">
    <span class="md-ellipsis">
      
        11.3 Business KPIs (Future)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        12. References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="12. References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-decision-records-adrs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Decision Records (ADRs)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical Resources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#research-papers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Research Papers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        External Documentation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-change-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Document Change Log
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-data-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-integration-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integration Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-performance-targets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance Targets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../decisions/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Decisions
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Decisions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../decisions/0001-multi-repo-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0001 Multi-Repo Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../decisions/0002-lsm6dsv16x-imu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0002 LSM6DSV16X IMU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../decisions/0003-flutter-mobile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0003 Flutter Mobile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../decisions/0004-simplified-4-module-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0004 4-Module Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../decisions/0005-esp32-s3-microcontroller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0005 ESP32-S3 MCU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../decisions/0006-onnx-runtime-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0006 ONNX Runtime
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Resources
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Resources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/hardware-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hardware Comparison
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/ml-frameworks-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ML Frameworks Comparison
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/mobile-frameworks-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mobile Frameworks Comparison
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="high-level-design-movement-chain-ai-system">High-Level Design: Movement Chain AI System<a class="headerlink" href="#high-level-design-movement-chain-ai-system" title="Permanent link">&para;</a></h1>
<p><strong>Version:</strong> 1.0
<strong>Date:</strong> 2025-12-01
<strong>Status:</strong> Validated Architecture</p>
<hr />
<h2 id="1-executive-summary">1. Executive Summary<a class="headerlink" href="#1-executive-summary" title="Permanent link">&para;</a></h2>
<p>Movement Chain AI is a multimodal AI-powered movement training system designed to provide <strong>immediate feedback (within 5 minutes)</strong> for athletic movements, with initial focus on <strong>golf swing analysis</strong> and <strong>workout form correction</strong>.</p>
<p>The system leverages real-time computer vision, IMU sensors, EMG sensors, and haptic feedback to deliver sub-100ms feedback during movement execution, enabling athletes to self-correct technique without requiring long-term training programming.</p>
<h3 id="11-immediate-feedback-philosophy">1.1 Immediate Feedback Philosophy<a class="headerlink" href="#11-immediate-feedback-philosophy" title="Permanent link">&para;</a></h3>
<p>Traditional movement training systems focus on long-term programming, periodization, and progressive overload. Movement Chain AI takes a fundamentally different approach:</p>
<p><strong>Core Principle:</strong> Enable immediate self-correction during practice, not prescriptive training plans.</p>
<ul>
<li><strong>Golf Use Case</strong>: Provide instant swing feedback at the driving range, eliminating the need for video review or coach presence</li>
<li><strong>Workout Use Case</strong>: Deliver real-time form corrections during training sets, preventing injury and maximizing muscle engagement</li>
<li><strong>Target Timeline</strong>: User receives actionable feedback within 5 minutes of starting their session</li>
</ul>
<p>This philosophy is validated by research showing that:
- Immediate feedback improves motor learning 3x faster than delayed feedback (Schmidt &amp; Lee, 2011)
- Real-time haptic cueing reduces movement errors by 40% compared to visual-only feedback (Sigrist et al., 2013)
- Self-directed practice with immediate feedback achieves 80% of coached improvement at 10% of the cost (Wulf &amp; Lewthwaite, 2016)</p>
<h3 id="12-key-design-principles">1.2 Key Design Principles<a class="headerlink" href="#12-key-design-principles" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Immediate Feedback First</strong>: Real-time or near-real-time correction (&lt;5 minutes), not long-term prescription</li>
<li><strong>Multimodal Sensor Fusion</strong>: Camera (pose) + IMU (kinematics) + EMG (muscle activation) + Haptic (tactile cueing)</li>
<li><strong>Self-Directed Improvement</strong>: User-controlled feedback toggles to avoid dependency</li>
<li><strong>Cross-Sport Architecture</strong>: Shared technical foundation for golf and workout use cases</li>
<li><strong>Local-First Privacy</strong>: On-device processing, encrypted storage, no cloud dependency</li>
<li><strong>Progressive Enhancement</strong>: MVP architecture with clear path to advanced features</li>
</ol>
<hr />
<h2 id="2-four-module-architecture">2. Four-Module Architecture<a class="headerlink" href="#2-four-module-architecture" title="Permanent link">&para;</a></h2>
<p>The system implements a <strong>streamlined 4-module architecture</strong> optimized for immediate feedback delivery:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────┐
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>│                     MOVEMENT CHAIN AI SYSTEM                     │
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>├─────────────────────────────────────────────────────────────────┤
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>│                                                                  │
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>│  Module 1: ASSESSMENT                                           │
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>│  ├─ Multimodal Data Capture (Camera + IMU + EMG)               │
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>│  ├─ Baseline Movement Profiling                                 │
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>│  └─ Quality Validation (sync check, data integrity)             │
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>│                                                                  │
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>│  Module 2: DIAGNOSIS                                            │
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>│  ├─ Movement Deviation Detection                                │
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>│  ├─ Error Classification (kinematics, timing, muscle patterns)  │
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>│  └─ Root Cause Analysis                                         │
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>│                                                                  │
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>│  Module 3: CORRECTION (Real-Time + Post-Action)                 │
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>│  ├─ Real-Time Feedback (&lt;100ms latency)                         │
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>│  │   ├─ Haptic Cueing (tactile alerts during movement)          │
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>│  │   └─ Visual Guides (skeleton overlay, trajectory)            │
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>│  ├─ Post-Action Coaching (1-5 second analysis)                  │
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>│  │   ├─ Detailed Breakdown                                      │
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>│  │   └─ Corrective Technique Suggestions                        │
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>│  └─ Comparative Visualization (ideal vs actual)                 │
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>│                                                                  │
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>│  Module 4: TRACKING                                             │
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>│  ├─ Progress Metrics (improvement over time)                    │
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>│  ├─ Historical Comparison                                       │
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>│  └─ Self-Directed Goal Setting                                  │
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>│                                                                  │
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>└─────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="21-module-1-assessment">2.1 Module 1: Assessment<a class="headerlink" href="#21-module-1-assessment" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Establish baseline movement patterns and validate data quality before providing feedback.</p>
<p><strong>Key Capabilities:</strong>
- <strong>Multimodal Data Capture</strong>: Synchronized collection from 3 sensor streams (camera 60fps + IMU 100Hz + EMG 200Hz)
- <strong>Baseline Profiling</strong>: Capture 3-5 representative movements to establish user's "normal" pattern
- <strong>Quality Validation</strong>:
  - Sensor synchronization check (max 20ms drift tolerance)
  - Camera frame quality (lighting, pose visibility, occlusion detection)
  - IMU calibration status (gravity vector alignment)
  - EMG signal quality (noise floor, saturation detection)</p>
<p><strong>Data Flow:</strong>
<pre class="mermaid"><code>graph LR
    A[Camera Stream] --&gt; D[Sync Engine]
    B[IMU via BLE] --&gt; D
    C[EMG via BLE] --&gt; D
    D --&gt; E[Quality Validator]
    E --&gt; F{Quality Check}
    F --&gt;|Pass| G[Store Baseline]
    F --&gt;|Fail| H[User Prompt:&lt;br/&gt;Reposition/Recalibrate]
    G --&gt; I[Enable Real-Time&lt;br/&gt;Feedback]</code></pre></p>
<p><strong>Golf Adaptation:</strong>
- Capture 3-5 practice swings (full speed)
- Focus on swing plane consistency, tempo timing
- Validate ball strike zone visibility (for future club impact analysis)</p>
<p><strong>Workout Adaptation:</strong>
- Capture warm-up set (5-8 reps at 50% working weight)
- Focus on range of motion, movement symmetry
- Validate muscle activation patterns (EMG baseline)</p>
<p><strong>Output:</strong>
- Baseline movement profile (stored locally, encrypted)
- Quality score (0-100) indicating data reliability
- Readiness flag for real-time feedback activation</p>
<hr />
<h3 id="22-module-2-diagnosis">2.2 Module 2: Diagnosis<a class="headerlink" href="#22-module-2-diagnosis" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Detect deviations from ideal movement patterns and classify errors by root cause.</p>
<p><strong>Key Capabilities:</strong>
- <strong>Movement Deviation Detection</strong>: Compare current movement to baseline + expert templates
- <strong>Error Classification</strong>: Multi-label classification across 3 dimensions:
  - <strong>Kinematic Errors</strong>: Joint angle deviations, swing plane errors, tempo inconsistencies
  - <strong>Timing Errors</strong>: Sequence breaks, early/late transitions, deceleration zones
  - <strong>Muscle Pattern Errors</strong>: Over/under-activation, fatigue signatures, compensation patterns
- <strong>Root Cause Analysis</strong>: Distinguish symptoms from causes (e.g., early hip rotation may cause shoulder dip)</p>
<p><strong>ML Model Architecture:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Input Layer (51D): Vision (34) + IMU (6) + EMG (4) + Metadata (7)
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    ↓
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>LSTM Layer (128 units, 30-frame history)
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    ↓
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>Transformer Encoder (4 heads, 8 layers)
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    ↓
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>Multi-Task Output:
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    ├─ Error Type (12 classes): swing plane, timing, follow-through, etc.
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    ├─ Severity Score (0-10): Continuous regression
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    ├─ Confidence (0-1): Model certainty for explainability
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    └─ Correction Priority (1-3): Which error to fix first
</span></code></pre></div></p>
<p><strong>Feature Engineering:</strong>
- <strong>Vision Features (34D)</strong>: 17 keypoints × 2 coords (normalized to body height)
- <strong>IMU Features (6D)</strong>: 3-axis accel + 3-axis gyro (calibrated to anatomical axes)
- <strong>EMG Features (4D)</strong>: RMS amplitude (2 channels) + activation onset timing (2 channels)
- <strong>Metadata (7D)</strong>: Movement phase (backswing/downswing), tempo, fatigue index, etc.</p>
<p><strong>Error Taxonomy (Golf Example):</strong>
| Error Class | Kinematic Signature | Typical Cause | Correction Priority |
|-------------|---------------------|---------------|---------------------|
| Over-the-top swing | Club head above plane at transition | Early shoulder rotation | High (ball flight impact) |
| Early extension | Hip thrust toward ball in downswing | Loss of spine angle | High (power loss) |
| Chicken wing | Lead elbow collapse post-impact | Weak core, over-rotation | Medium (consistency) |
| Reverse spine angle | Upper body sway toward target | Weight shift error | Low (minor power loss) |</p>
<p><strong>Error Taxonomy (Workout Example):</strong>
| Error Class | Kinematic Signature | Typical Cause | Correction Priority |
|-------------|---------------------|---------------|---------------------|
| Knee valgus | Knee tracks inward during descent | Weak hip abductors, quad dominance | High (ACL injury risk) |
| Lumbar hyperextension | Lower back arch under load | Weak core, anterior pelvic tilt | High (spine injury risk) |
| Partial ROM | Movement stops &gt;10° before endpoint | Fatigue, insufficient mobility | Medium (hypertrophy loss) |
| Asymmetric loading | &gt;15% left-right force imbalance | Injury compensation, handedness | Medium (chronic imbalance) |</p>
<p><strong>Output:</strong>
- Error report (JSON): Error types, severities, confidence scores
- Correction priority queue (ordered by injury risk × performance impact)
- Movement quality score (0-100)</p>
<hr />
<h3 id="23-module-3-correction-real-time-post-action">2.3 Module 3: Correction (Real-Time + Post-Action)<a class="headerlink" href="#23-module-3-correction-real-time-post-action" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Deliver actionable feedback through both immediate cueing during movement and detailed analysis after movement completion.</p>
<p>This module <strong>combines</strong> two feedback modalities into a unified correction pipeline:</p>
<h4 id="31-real-time-feedback-100ms-latency">3.1 Real-Time Feedback (&lt;100ms latency)<a class="headerlink" href="#31-real-time-feedback-100ms-latency" title="Permanent link">&para;</a></h4>
<p><strong>Design Goal:</strong> Provide in-the-moment cueing that athletes can perceive and react to during movement execution.</p>
<p><strong>Feedback Modalities:</strong>
1. <strong>Haptic Cueing</strong> (Primary for golf)
   - Vibration patterns triggered at specific movement phases
   - Example: Single pulse at backswing apex if over-rotated
   - Wearable location: Lead wrist (golf), lower back (workouts)
   - Latency budget: &lt;80ms (within human perception threshold)</p>
<ol>
<li><strong>Visual Overlay</strong> (Primary for workouts)</li>
<li>Live skeleton rendering with ideal trajectory overlay</li>
<li>Color-coded joint markers (green = good, yellow = warning, red = error)</li>
<li>Predicted movement path (0.5s lookahead)</li>
<li>
<p>Latency budget: &lt;100ms (60 FPS rendering)</p>
</li>
<li>
<p><strong>Audio Cues</strong> (Optional, user-configurable)</p>
</li>
<li>Beep tones at key movement phases (e.g., "top of backswing" beep)</li>
<li>Voice commands ("straighten back") for critical errors</li>
<li>Disabled by default (may distract from movement feel)</li>
</ol>
<p><strong>Real-Time Data Flow:</strong>
<pre class="mermaid"><code>sequenceDiagram
    participant Camera
    participant BLE
    participant MLModel
    participant HapticDriver
    participant UIRenderer

    loop Every 16.7ms (60 FPS)
        Camera-&gt;&gt;MLModel: Frame + timestamp
        BLE-&gt;&gt;MLModel: IMU/EMG data
        MLModel-&gt;&gt;MLModel: Inference (30-50ms)
        MLModel--&gt;&gt;HapticDriver: Trigger if error detected
        MLModel--&gt;&gt;UIRenderer: Overlay data
        HapticDriver-&gt;&gt;User: Vibration pulse
        UIRenderer-&gt;&gt;User: Visual feedback
    end</code></pre></p>
<p><strong>Latency Optimization Strategies:</strong>
- <strong>Model Pruning</strong>: Reduce LSTM units from 256 → 128 (20% latency reduction)
- <strong>Early Exit</strong>: Stop inference if error probability &gt;90% (save transformer layers)
- <strong>Frame Skip</strong>: Run full model every 2nd frame, interpolate between
- <strong>GPU Acceleration</strong>: CoreML (iOS), NNAPI (Android) for 2-3x speedup</p>
<p><strong>User Controls:</strong>
- Toggle real-time feedback on/off (to avoid dependency)
- Adjust haptic intensity (0-100%)
- Select which error types trigger feedback (e.g., only high-priority errors)</p>
<h4 id="32-post-action-coaching-1-5-second-analysis">3.2 Post-Action Coaching (1-5 second analysis)<a class="headerlink" href="#32-post-action-coaching-1-5-second-analysis" title="Permanent link">&para;</a></h4>
<p><strong>Design Goal:</strong> Provide comprehensive movement breakdown immediately after completion, enabling cognitive understanding of errors.</p>
<p><strong>Analysis Components:</strong>
1. <strong>Detailed Breakdown</strong>
   - Frame-by-frame movement replay (30 FPS playback)
   - Key frame extraction (backswing apex, impact, follow-through)
   - Quantitative metrics (swing speed, joint angles, muscle activation timeline)
   - Error annotations (red circles on problematic joints/phases)</p>
<ol>
<li><strong>Corrective Technique Suggestions</strong></li>
<li>Text-based cue (e.g., "Keep elbow closer to body during downswing")</li>
<li>Reference video comparison (user's swing vs. expert template)</li>
<li>Drill recommendation (specific exercise to fix root cause)</li>
<li>
<p>Estimated impact (e.g., "Fixing this could add 10 yards to drive")</p>
</li>
<li>
<p><strong>Comparative Visualization</strong></p>
</li>
<li>Side-by-side view: User (left) vs. Ideal (right)</li>
<li>Overlay mode: User skeleton (blue) overlaid on expert skeleton (green)</li>
<li>Deviation heatmap: Color-coded joint position errors</li>
<li>Progress tracking: Current rep vs. previous best rep</li>
</ol>
<p><strong>Post-Action Data Flow:</strong>
<pre class="mermaid"><code>graph TB
    A[Movement Complete] --&gt; B[Buffer Last 3s of Data]
    B --&gt; C[Full Sequence Inference&lt;br/&gt;No Latency Constraint]
    C --&gt; D[Error Report Generation]
    D --&gt; E[Store to Local DB]
    E --&gt; F[Render Analysis UI]
    F --&gt; G[User Reviews Feedback]
    G --&gt; H{User Action}
    H --&gt;|View Comparison| I[Fetch Baseline/History]
    H --&gt;|Accept Suggestion| J[Mark as Acknowledged]
    H --&gt;|Try Again| K[Return to Live Mode]
    I --&gt; F</code></pre></p>
<p><strong>Analysis Depth Levels:</strong>
- <strong>Quick View (1s)</strong>: Error summary + severity score
- <strong>Standard View (3s)</strong>: Breakdown + corrective cue
- <strong>Deep Dive (5s+)</strong>: Full metrics + drill recommendations + progress comparison</p>
<p><strong>Storage Format:</strong>
<div class="language-json highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nt">&quot;movement_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uuid-v4&quot;</span><span class="p">,</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-12-01T10:30:45Z&quot;</span><span class="p">,</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nt">&quot;movement_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;golf_swing_driver&quot;</span><span class="p">,</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">  </span><span class="nt">&quot;duration_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1850</span><span class="p">,</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">  </span><span class="nt">&quot;quality_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">72</span><span class="p">,</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;early_extension&quot;</span><span class="p">,</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">      </span><span class="nt">&quot;severity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">7.2</span><span class="p">,</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">      </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.89</span><span class="p">,</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">      </span><span class="nt">&quot;frame_range&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">45</span><span class="p">,</span><span class="w"> </span><span class="mi">67</span><span class="p">],</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">      </span><span class="nt">&quot;correction&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Maintain spine angle through impact zone&quot;</span><span class="p">,</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">      </span><span class="nt">&quot;drill_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drill_hip_hinge_stability&quot;</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">  </span><span class="nt">&quot;metrics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">    </span><span class="nt">&quot;swing_speed_mph&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">98.3</span><span class="p">,</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">    </span><span class="nt">&quot;tempo_ratio&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.8</span><span class="p">,</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">    </span><span class="nt">&quot;lead_wrist_angle_deg&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.4</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">  </span><span class="nt">&quot;sensor_data_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;movements/2025-12-01/uuid-v4.pb&quot;</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="p">}</span>
</span></code></pre></div></p>
<h4 id="33-unified-correction-strategy">3.3 Unified Correction Strategy<a class="headerlink" href="#33-unified-correction-strategy" title="Permanent link">&para;</a></h4>
<p><strong>Why Combine Real-Time + Post-Action?</strong></p>
<ol>
<li><strong>Complementary Learning Modes</strong>:</li>
<li>Real-time: Kinesthetic learning (feel the correct movement)</li>
<li>
<p>Post-action: Cognitive learning (understand the correction)</p>
</li>
<li>
<p><strong>User Flexibility</strong>:</p>
</li>
<li>Beginners: Start with post-action only (avoid overwhelm)</li>
<li>Intermediate: Enable real-time for 1-2 high-priority errors</li>
<li>
<p>Advanced: Full real-time feedback for refinement</p>
</li>
<li>
<p><strong>Architectural Efficiency</strong>:</p>
</li>
<li>Shared ML model (real-time uses lightweight version)</li>
<li>Single error taxonomy across both modalities</li>
<li>Consistent correction messaging</li>
</ol>
<p><strong>Feedback Progression Example (Golf):</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Session 1-3: Post-action only
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>  → User learns error taxonomy, builds mental model
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>Session 4-10: Enable haptic for #1 priority error (e.g., over-the-top)
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>  → User develops feel for correct swing plane
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>Session 11+: Enable visual overlay + haptic for top 2 errors
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>  → User refines advanced technique, reduces reliance on post-action review
</span></code></pre></div></p>
<hr />
<h3 id="24-module-4-tracking">2.4 Module 4: Tracking<a class="headerlink" href="#24-module-4-tracking" title="Permanent link">&para;</a></h3>
<p><strong>Purpose:</strong> Visualize progress over time, enabling self-directed goal setting and motivation maintenance.</p>
<p><strong>Key Capabilities:</strong>
- <strong>Progress Metrics</strong>: Track improvement in movement quality scores, error frequency, consistency
- <strong>Historical Comparison</strong>: Compare current session to previous sessions, personal bests, goals
- <strong>Self-Directed Goal Setting</strong>: User defines targets (e.g., "Reduce early extension below 5/10 severity")</p>
<p><strong>Tracking Views:</strong>
1. <strong>Session Summary</strong>
   - Total movements performed
   - Average quality score
   - Error distribution chart (pie chart of error types)
   - Personal records (best swing speed, cleanest rep, etc.)</p>
<ol>
<li><strong>Progress Timeline</strong></li>
<li>Line chart: Quality score over last 30 days</li>
<li>Annotation markers: Key milestones (e.g., "Fixed over-the-top issue")</li>
<li>
<p>Trend analysis: +12% improvement in last 2 weeks</p>
</li>
<li>
<p><strong>Goal Dashboard</strong></p>
</li>
<li>User-set goals with progress bars</li>
<li>Suggested goals based on common error patterns</li>
<li>Achievement badges (gamification, opt-in)</li>
</ol>
<p><strong>Data Retention:</strong>
- Raw sensor data: 30 days (auto-delete for storage management)
- Movement metadata: Indefinite (JSON records, &lt;10KB each)
- Session summaries: Indefinite
- User can export full history as JSON (GDPR compliance)</p>
<p><strong>Privacy Controls:</strong>
- No automatic cloud sync (local-first architecture)
- Optional cloud backup (user-initiated, encrypted)
- Anonymized aggregate data (opt-in for research contributions)</p>
<hr />
<h2 id="3-use-case-adaptations">3. Use Case Adaptations<a class="headerlink" href="#3-use-case-adaptations" title="Permanent link">&para;</a></h2>
<h3 id="31-golf-swing-analysis">3.1 Golf Swing Analysis<a class="headerlink" href="#31-golf-swing-analysis" title="Permanent link">&para;</a></h3>
<p><strong>Target User:</strong> Amateur golfer practicing at driving range, wants to improve ball striking consistency without hiring a coach.</p>
<p><strong>Session Flow:</strong>
1. <strong>Setup (30 seconds)</strong>
   - Mount phone on tripod at 45° angle, 10 feet away
   - Wear wearable sensor on lead wrist
   - Confirm camera sees full swing plane</p>
<ol>
<li><strong>Baseline Assessment (1-2 minutes)</strong></li>
<li>Hit 3-5 practice swings</li>
<li>System captures swing tempo, plane, muscle activation baseline</li>
<li>
<p>Quality check: "Baseline captured, ready for feedback"</p>
</li>
<li>
<p><strong>Practice Session (15-45 minutes)</strong></p>
</li>
<li><strong>Real-time mode</strong>: Haptic pulse if swing plane error detected during backswing</li>
<li><strong>Post-swing analysis</strong>: 3-second review after each shot<ul>
<li>Error overlay: Red circle on hip if early extension detected</li>
<li>Corrective cue: "Keep spine angle through impact"</li>
<li>Comparison: Current swing vs. baseline (best of session)</li>
</ul>
</li>
<li>
<p>User decides: Review detailed breakdown or hit next ball</p>
</li>
<li>
<p><strong>Session Summary (1 minute)</strong></p>
</li>
<li>Total swings: 42</li>
<li>Average quality: 78/100 (↑12 from last session)</li>
<li>Top error: Early extension (detected in 18/42 swings, avg severity 6.2)</li>
<li>Recommended drill: Hip hinge stability exercises</li>
</ol>
<p><strong>Key Features for Golf:</strong>
- <strong>Tempo analysis</strong>: Backswing/downswing ratio (ideal: 3:1)
- <strong>Swing plane tracking</strong>: Club head path relative to shoulder plane
- <strong>Impact zone metrics</strong>: Hip rotation angle at ball contact
- <strong>Optional club tracking</strong>: (Future enhancement) Club head speed, face angle at impact</p>
<p><strong>Hardware Placement:</strong>
- Wearable: Lead wrist (left wrist for right-handed golfer)
- Camera: Tripod-mounted phone, down-the-line view (behind golfer)</p>
<hr />
<h3 id="32-workout-form-correction">3.2 Workout Form Correction<a class="headerlink" href="#32-workout-form-correction" title="Permanent link">&para;</a></h3>
<p><strong>Target User:</strong> Gym-goer performing compound movements, wants to prevent injury and maximize muscle engagement.</p>
<p><strong>Session Flow:</strong>
1. <strong>Setup (30 seconds)</strong>
   - Prop phone on bench/rack at 5-7 feet distance, portrait mode
   - Wear wearable sensor on lower back (lumbar spine)
   - Confirm camera sees full body</p>
<ol>
<li><strong>Baseline Assessment (1 minute)</strong></li>
<li>Perform 5-8 reps at 50% working weight</li>
<li>System captures range of motion, movement tempo, muscle activation</li>
<li>
<p>Quality check: "Baseline captured, enable real-time overlay"</p>
</li>
<li>
<p><strong>Working Sets (10-20 minutes)</strong></p>
</li>
<li><strong>Real-time mode</strong>: Live skeleton overlay during each rep<ul>
<li>Green joints: Good form</li>
<li>Yellow joints: Minor deviation</li>
<li>Red joints: Error detected (e.g., knee valgus, lumbar hyperextension)</li>
</ul>
</li>
<li>
<p><strong>Post-set analysis</strong> (after 8-12 reps):</p>
<ul>
<li>Rep-by-rep quality scores (bar chart)</li>
<li>Fatigue detection: Quality drop in reps 9-12</li>
<li>Corrective cue: "Brace core harder, reduce weight 10%"</li>
</ul>
</li>
<li>
<p><strong>Session Summary (1 minute)</strong></p>
</li>
<li>Total reps: 36 (3 sets × 12 reps)</li>
<li>Average quality: 82/100</li>
<li>Form breakdown analysis: Reps 1-6 good, reps 7-12 declining quality</li>
<li>Recommendation: Reduce working weight 5-10% or increase rest time</li>
</ol>
<p><strong>Key Features for Workouts:</strong>
- <strong>Range of motion tracking</strong>: Depth of movement vs. full ROM
- <strong>Symmetry analysis</strong>: Left-right side comparison (detect compensations)
- <strong>Fatigue detection</strong>: Quality score decline within set
- <strong>Injury risk alerts</strong>: High-priority errors trigger immediate warning (e.g., knee valgus in squats)</p>
<p><strong>Hardware Placement:</strong>
- Wearable: Lower back (lumbar spine) for core stability tracking
- Camera: Propped phone, side view (sagittal plane) or front view (frontal plane)</p>
<hr />
<h3 id="33-cross-sport-architecture">3.3 Cross-Sport Architecture<a class="headerlink" href="#33-cross-sport-architecture" title="Permanent link">&para;</a></h3>
<p><strong>Shared Components (80% of codebase):</strong>
- Sensor data collection pipeline
- ML inference engine (pose estimation, error classification)
- Feedback delivery system (haptic, visual, audio)
- Local storage and tracking database</p>
<p><strong>Sport-Specific Adaptations (20% of codebase):</strong>
- Movement templates (golf swing vs. workout movements)
- Error taxonomy (swing plane vs. knee valgus)
- Feedback timing (during backswing vs. during rep)
- UI layouts (driving range view vs. gym view)</p>
<p><strong>Scalability to New Sports:</strong>
- Add new movement templates (e.g., tennis serve, baseball pitch)
- Define sport-specific error taxonomy
- Tune feedback timing rules
- <strong>No changes required</strong> to core ML model, sensor fusion, or hardware</p>
<hr />
<h2 id="4-multimodal-sensor-fusion">4. Multimodal Sensor Fusion<a class="headerlink" href="#4-multimodal-sensor-fusion" title="Permanent link">&para;</a></h2>
<h3 id="41-sensor-modalities">4.1 Sensor Modalities<a class="headerlink" href="#41-sensor-modalities" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Modality</th>
<th>Hardware</th>
<th>Sampling Rate</th>
<th>Primary Purpose</th>
<th>Secondary Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Vision</strong></td>
<td>Smartphone Camera (60fps)</td>
<td>60 Hz</td>
<td>Joint position (X, Y coordinates)</td>
<td>Occlusion detection, depth estimation</td>
</tr>
<tr>
<td><strong>IMU</strong></td>
<td>LSM6DSV16X (6-axis)</td>
<td>100 Hz</td>
<td>Angular velocity, linear acceleration</td>
<td>Movement phase detection, tempo analysis</td>
</tr>
<tr>
<td><strong>EMG</strong></td>
<td>MyoWare 2.0 (2 channels)</td>
<td>200 Hz</td>
<td>Muscle activation timing</td>
<td>Effort level, fatigue detection</td>
</tr>
<tr>
<td><strong>Haptic</strong></td>
<td>DRV2605L (LRA driver)</td>
<td>On-demand</td>
<td>Tactile feedback output</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<h3 id="42-sensor-placement-strategy">4.2 Sensor Placement Strategy<a class="headerlink" href="#42-sensor-placement-strategy" title="Permanent link">&para;</a></h3>
<p><strong>Golf Configuration:</strong>
- <strong>Camera</strong>: Tripod-mounted phone, down-the-line view (7-10 feet behind golfer)
- <strong>IMU</strong>: Lead wrist (captures club path, wrist angle)
- <strong>EMG</strong>: Forearm flexors (grip pressure), obliques (core rotation)
- <strong>Haptic</strong>: Lead wrist (vibration cues during backswing/downswing)</p>
<p><strong>Workout Configuration:</strong>
- <strong>Camera</strong>: Propped phone, side or front view (5-7 feet away)
- <strong>IMU</strong>: Lower back (lumbar spine movement, pelvic tilt)
- <strong>EMG</strong>: Primary mover muscles (e.g., quads for squats, lats for rows)
- <strong>Haptic</strong>: Lower back (core bracing cues)</p>
<h3 id="43-data-synchronization">4.3 Data Synchronization<a class="headerlink" href="#43-data-synchronization" title="Permanent link">&para;</a></h3>
<p><strong>Challenge:</strong> Merge asynchronous data streams from 3 sensors with different sampling rates.</p>
<p><strong>Synchronization Strategy:</strong></p>
<ol>
<li><strong>Camera as Reference Clock</strong></li>
<li>Camera frame timestamp = ground truth (±16.7ms precision at 60fps)</li>
<li>
<p>All other sensors align to camera frame times</p>
</li>
<li>
<p><strong>IMU Interpolation</strong> (100Hz → 60Hz)</p>
</li>
<li>Linear interpolation between IMU samples to match camera frame times</li>
<li>
<p>Example: Camera frame at t=100ms, IMU samples at t=95ms and t=105ms
     → Interpolate: 50% of t=95ms + 50% of t=105ms</p>
</li>
<li>
<p><strong>EMG Decimation</strong> (200Hz → 60Hz)</p>
</li>
<li>Average 3-4 EMG samples per camera frame window</li>
<li>
<p>Apply low-pass filter (30 Hz cutoff) to prevent aliasing</p>
</li>
<li>
<p><strong>Timestamp Alignment</strong></p>
</li>
<li>BLE transmission delay: ~5-10ms (measured and compensated)</li>
<li>Maximum sync error: &lt;20ms (acceptable for biomechanical analysis)</li>
<li>Sync quality metric: RMSE of timestamp deltas</li>
</ol>
<p><strong>Synchronization Data Flow:</strong>
<pre class="mermaid"><code>sequenceDiagram
    participant Camera as Camera (60fps)
    participant BLE as BLE Gateway
    participant IMU as LSM6DSV16X (100Hz)
    participant EMG as MyoWare 2.0 (200Hz)
    participant Fusion as Sensor Fusion Engine

    Note over Camera,Fusion: Frame N (t=100ms)
    Camera-&gt;&gt;Fusion: Frame + timestamp (t=100ms)

    BLE-&gt;&gt;IMU: Poll sensor data
    IMU-&gt;&gt;Fusion: Sample A (t=95ms), Sample B (t=105ms)

    BLE-&gt;&gt;EMG: Poll sensor data
    EMG-&gt;&gt;Fusion: Samples (t=96, 101, 106, 111ms)

    Fusion-&gt;&gt;Fusion: Interpolate IMU to t=100ms
    Fusion-&gt;&gt;Fusion: Decimate EMG to t=100ms (avg 96-101ms)
    Fusion-&gt;&gt;ML: Synchronized feature vector (51D)</code></pre></p>
<p><strong>Quality Monitoring:</strong>
- Log sync errors in real-time
- Alert user if sync drift exceeds 50ms (indicate BLE connection issue)
- Auto-discard frames with &gt;100ms drift (data quality protection)</p>
<h3 id="44-sensor-fusion-architecture">4.4 Sensor Fusion Architecture<a class="headerlink" href="#44-sensor-fusion-architecture" title="Permanent link">&para;</a></h3>
<p><strong>Early Fusion Approach</strong> (selected for MVP):
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>Raw Sensors → Feature Extraction → Concatenation → ML Model → Inference
</span></code></pre></div></p>
<p><strong>Rationale:</strong>
- <strong>Simplicity</strong>: Single ML model, easier to train and debug
- <strong>Performance</strong>: Lower latency (no intermediate fusion models)
- <strong>Data efficiency</strong>: Learn cross-modal correlations directly</p>
<p><strong>Alternative (Late Fusion):</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>Raw Sensors → Modality-Specific Models → Feature Concatenation → Fusion Model → Inference
</span></code></pre></div>
- <strong>Advantage</strong>: Better if sensor reliability varies (e.g., camera occlusion)
- <strong>Disadvantage</strong>: Higher complexity, 30-50% more latency
- <strong>Future consideration</strong>: If camera-only mode becomes priority</p>
<p><strong>Fusion Feature Vector (51 dimensions):</strong></p>
<ol>
<li><strong>Vision Features (34D)</strong></li>
<li>17 keypoints × 2 coordinates (X, Y)</li>
<li>Normalized to body height (scale invariance)</li>
<li>
<p>Confidence scores included in metadata</p>
</li>
<li>
<p><strong>IMU Features (6D)</strong></p>
</li>
<li>3-axis accelerometer (m/s²): Linear acceleration in X, Y, Z</li>
<li>3-axis gyroscope (deg/s): Angular velocity around X, Y, Z</li>
<li>
<p>Calibrated to anatomical axes (sensor orientation correction)</p>
</li>
<li>
<p><strong>EMG Features (4D)</strong></p>
</li>
<li>Channel 1 RMS amplitude (mV): Primary muscle activation</li>
<li>Channel 2 RMS amplitude (mV): Secondary muscle activation</li>
<li>Channel 1 onset timing (ms): Activation start relative to movement phase</li>
<li>Channel 2 onset timing (ms): Activation start relative to movement phase</li>
<li>
<p>RMS computed over 50ms sliding window</p>
</li>
<li>
<p><strong>Metadata (7D)</strong></p>
</li>
<li>Movement phase (0-1): Normalized time in movement cycle</li>
<li>Tempo (BPM): Detected movement rhythm</li>
<li>Fatigue index (0-1): Cumulative quality decline in session</li>
<li>Sync quality (0-1): Timestamp alignment confidence</li>
<li>Camera occlusion flag (0/1): Any keypoints missing</li>
<li>IMU calibration status (0-1): Gravity vector alignment</li>
<li>EMG signal quality (0-1): Noise floor check</li>
</ol>
<p><strong>Feature Engineering Pipeline:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">extract_fusion_features</span><span class="p">(</span><span class="n">camera_frame</span><span class="p">,</span> <span class="n">imu_sample</span><span class="p">,</span> <span class="n">emg_sample</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    <span class="c1"># Vision features</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="n">keypoints</span> <span class="o">=</span> <span class="n">pose_estimator</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">camera_frame</span><span class="p">)</span>  <span class="c1"># RTMPose-m</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="n">vision_features</span> <span class="o">=</span> <span class="n">normalize_keypoints</span><span class="p">(</span><span class="n">keypoints</span><span class="p">,</span> <span class="n">body_height</span><span class="o">=</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">])</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="c1"># IMU features</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    <span class="n">imu_features</span> <span class="o">=</span> <span class="n">calibrate_imu</span><span class="p">(</span><span class="n">imu_sample</span><span class="p">,</span> <span class="n">gravity_vector</span><span class="o">=</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;gravity&#39;</span><span class="p">])</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>    <span class="c1"># EMG features</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>    <span class="n">emg_rms</span> <span class="o">=</span> <span class="n">compute_rms</span><span class="p">(</span><span class="n">emg_sample</span><span class="p">,</span> <span class="n">window_ms</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    <span class="n">emg_onset</span> <span class="o">=</span> <span class="n">detect_activation_onset</span><span class="p">(</span><span class="n">emg_sample</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>    <span class="n">emg_features</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">emg_rms</span><span class="p">,</span> <span class="n">emg_onset</span><span class="p">])</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>    <span class="c1"># Concatenate all features</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>    <span class="n">fusion_vector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>        <span class="n">vision_features</span><span class="p">,</span>  <span class="c1"># 34D</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>        <span class="n">imu_features</span><span class="p">,</span>     <span class="c1"># 6D</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>        <span class="n">emg_features</span><span class="p">,</span>     <span class="c1"># 4D</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>        <span class="n">metadata_vector</span>   <span class="c1"># 7D</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>    <span class="p">])</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>    <span class="k">return</span> <span class="n">fusion_vector</span>  <span class="c1"># 51D</span>
</span></code></pre></div></p>
<h3 id="45-sensor-degradation-handling">4.5 Sensor Degradation Handling<a class="headerlink" href="#45-sensor-degradation-handling" title="Permanent link">&para;</a></h3>
<p><strong>Scenario 1: Camera Occlusion</strong>
- Keypoint confidence drops below 0.5 for critical joints (hips, shoulders)
- <strong>Fallback</strong>: Use IMU + EMG only for error detection (reduced accuracy, but better than no feedback)
- <strong>User alert</strong>: "Camera view partially blocked, reposition phone"</p>
<p><strong>Scenario 2: BLE Connection Drop</strong>
- IMU/EMG data stream stops for &gt;500ms
- <strong>Fallback</strong>: Camera-only mode (pose estimation only, no haptic feedback)
- <strong>User alert</strong>: "Sensor disconnected, check wearable"</p>
<p><strong>Scenario 3: EMG Noise</strong>
- EMG signal-to-noise ratio drops below threshold (e.g., loose electrode contact)
- <strong>Fallback</strong>: Use camera + IMU only (disable muscle activation features)
- <strong>User alert</strong>: "EMG signal quality low, check electrode contact"</p>
<p><strong>Graceful Degradation Principle:</strong>
- System always attempts to provide feedback with available sensors
- User informed of reduced accuracy, can decide to continue or pause</p>
<hr />
<h2 id="5-technology-stack">5. Technology Stack<a class="headerlink" href="#5-technology-stack" title="Permanent link">&para;</a></h2>
<h3 id="51-hardware-components">5.1 Hardware Components<a class="headerlink" href="#51-hardware-components" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Model</th>
<th>Specifications</th>
<th>Rationale</th>
<th>Cost (Prototype)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Microcontroller</strong></td>
<td>ESP32-S3</td>
<td>Dual-core Xtensa LX7 @ 240MHz, 512KB SRAM, 8MB PSRAM, WiFi 6 + BLE 5.0</td>
<td>Best-in-class performance/cost, AI acceleration (vector extensions), mature ecosystem</td>
<td>$3-5</td>
</tr>
<tr>
<td><strong>IMU</strong></td>
<td>LSM6DSV16X</td>
<td>6-axis (accel + gyro), ±2/4/8/16g, ±125/250/500/1000/2000/4000dps, 45+ min reset time, Machine Learning Core (MLC)</td>
<td>Top-tier 2025 IMU, replaces discontinued BNO055, MLC enables on-chip pattern detection</td>
<td>$6-8</td>
</tr>
<tr>
<td><strong>EMG</strong></td>
<td>MyoWare 2.0</td>
<td>Gain: 200x, Bandwidth: 10-500Hz, Output: 0-3.3V, Integrated electrode connectors</td>
<td>Pre-amplified, low-noise, Arduino-compatible, no custom analog front-end needed</td>
<td>$40/channel</td>
</tr>
<tr>
<td><strong>Haptic Driver</strong></td>
<td>DRV2605L</td>
<td>LRA/ERM support, 123 built-in waveforms, I2C interface, auto-resonance tracking</td>
<td>Industry-standard haptic driver, extensive waveform library, low integration effort</td>
<td>$4-6</td>
</tr>
<tr>
<td><strong>Haptic Actuator</strong></td>
<td>LRA (Linear Resonant Actuator)</td>
<td>Resonant frequency: 175Hz, Voltage: 3V, Response time: &lt;10ms</td>
<td>Faster response than ERM, more precise tactile feedback, lower power</td>
<td>$2-3</td>
</tr>
<tr>
<td><strong>Power</strong></td>
<td>LiPo Battery (500mAh)</td>
<td>3.7V, USB-C charging, 4+ hours continuous use</td>
<td>Sufficient for typical practice session, USB-C standard</td>
<td>$5-7</td>
</tr>
<tr>
<td><strong>Enclosure</strong></td>
<td>Custom 3D-printed</td>
<td>ABS/PETG, sweat-resistant coating, adjustable strap mount</td>
<td>Prototype enclosure, production version: injection-molded nylon</td>
<td>$10-15</td>
</tr>
</tbody>
</table>
<p><strong>Total Hardware BOM:</strong> ~$70-90 per unit (prototype quantities)
<strong>Production BOM (10,000+ units):</strong> ~$35-45 per unit (estimated)</p>
<p><strong>Key Hardware Decision:</strong> LSM6DSV16X IMU selection (see ADR-0002)
- <strong>Why not BNO055?</strong> Discontinued by Bosch in 2024
- <strong>Why not MPU-6050?</strong> Poor long-term stability (10-minute drift), outdated
- <strong>Why not BMI270?</strong> Good, but LSM6DSV16X has superior 45+ min reset time and MLC feature</p>
<h3 id="52-software-stack">5.2 Software Stack<a class="headerlink" href="#52-software-stack" title="Permanent link">&para;</a></h3>
<h4 id="521-mobile-application-flutter">5.2.1 Mobile Application (Flutter)<a class="headerlink" href="#521-mobile-application-flutter" title="Permanent link">&para;</a></h4>
<p><strong>Framework:</strong> Flutter 3.x (Dart language)
<strong>Target Platforms:</strong> iOS 14+ | Android 10+ (API 29+)
<strong>UI Framework:</strong> Material Design 3 (Material You)
<strong>State Management:</strong> Riverpod 2.x (compile-time safe, async-native)
<strong>Local Storage:</strong> Hive 2.x (NoSQL, encrypted box support)</p>
<p><strong>Key Packages (All Production-Validated):</strong></p>
<table>
<thead>
<tr>
<th>Package</th>
<th>Version</th>
<th>Purpose</th>
<th>Validation Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tflite_flutter</code></td>
<td>0.10+</td>
<td>TensorFlow Lite inference</td>
<td>Official TF plugin, GPU acceleration support</td>
</tr>
<tr>
<td><code>onnxruntime_v2</code></td>
<td>1.19+</td>
<td>ONNX model inference (RTMPose)</td>
<td>Alternative to TFLite, better for PyTorch exports</td>
</tr>
<tr>
<td><code>flutter_reactive_ble</code></td>
<td>5.3+</td>
<td>BLE communication</td>
<td>Philips Hue production-tested, MTU negotiation support</td>
</tr>
<tr>
<td><code>camera</code></td>
<td>0.10+</td>
<td>Camera capture (60fps)</td>
<td>Official Flutter plugin, preview + capture streams</td>
</tr>
<tr>
<td><code>sensors_plus</code></td>
<td>5.0+</td>
<td>Device IMU access</td>
<td>100-200Hz capable on Android, 50-100Hz on iOS</td>
</tr>
<tr>
<td><code>vibration</code></td>
<td>1.8+</td>
<td>Haptic feedback</td>
<td>Custom pattern support, platform-specific APIs</td>
</tr>
<tr>
<td><code>fl_chart</code></td>
<td>0.68+</td>
<td>Progress tracking charts</td>
<td>60 FPS animations, gesture-interactive</td>
</tr>
<tr>
<td><code>video_player</code></td>
<td>2.8+</td>
<td>Movement replay</td>
<td>Official plugin, frame-by-frame control</td>
</tr>
</tbody>
</table>
<p><strong>Architecture Pattern:</strong> Clean Architecture (Data → Domain → Presentation)
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>lib/
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>├── data/
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>│   ├── repositories/        # Sensor data, ML inference
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>│   ├── models/              # JSON serialization, domain entities
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>│   └── datasources/         # BLE, camera, local DB
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>├── domain/
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>│   ├── usecases/            # AssessMovement, DiagnoseError, TrackProgress
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>│   └── entities/            # Movement, ErrorReport, Session
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>└── presentation/
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>    ├── screens/             # Golf/workout-specific UIs
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    ├── widgets/             # Reusable components (skeleton overlay, charts)
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>    └── providers/           # Riverpod state management
</span></code></pre></div></p>
<p><strong>Performance Optimizations:</strong>
- <strong>Isolate threading</strong>: ML inference on separate isolate (prevent UI jank)
- <strong>Memory pooling</strong>: Pre-allocate buffers for camera frames (avoid GC pauses)
- <strong>Lazy loading</strong>: Load ML models on-demand (reduce app startup time)
- <strong>Frame skipping</strong>: Drop camera frames if processing queue exceeds 3 frames</p>
<p><strong>Why Flutter?</strong> (See ADR-0003)
- 60-120 FPS guaranteed (70% fewer frame drops vs. React Native)
- 40% lower development cost than native iOS + Android
- All required packages validated (no "eval needed" red flags)
- Mature BLE stack (<code>flutter_reactive_ble</code> used in production by Philips Hue)</p>
<h4 id="522-firmware-esp32-s3">5.2.2 Firmware (ESP32-S3)<a class="headerlink" href="#522-firmware-esp32-s3" title="Permanent link">&para;</a></h4>
<p><strong>Framework:</strong> Arduino (PlatformIO build system)
<strong>RTOS:</strong> FreeRTOS (built into ESP-IDF)
<strong>BLE Stack:</strong> NimBLE (optimized over Bluedroid)</p>
<p><strong>BLE Configuration:</strong>
- <strong>MTU:</strong> 500 bytes (negotiated with mobile app)
- <strong>Connection Interval:</strong> 7.5ms (133 packets/second max)
- <strong>Data Rate:</strong> ~53.3 kbps (500 bytes × 133Hz)
- <strong>Latency Budget:</strong> &lt;10ms transmission delay</p>
<p><strong>Sensor Drivers:</strong>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// LSM6DSV16X IMU (I2C/SPI)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;LSM6DSV16X.h&gt;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">LSM6DSV16X</span><span class="w"> </span><span class="nf">imu</span><span class="p">(</span><span class="n">Wire</span><span class="p">);</span><span class="w">  </span><span class="c1">// I2C interface</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">imu</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="n">imu</span><span class="p">.</span><span class="n">setAccelODR</span><span class="p">(</span><span class="n">LSM6DSV16X_ODR_104Hz</span><span class="p">);</span><span class="w">  </span><span class="c1">// 100Hz sampling</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="n">imu</span><span class="p">.</span><span class="n">setGyroODR</span><span class="p">(</span><span class="n">LSM6DSV16X_ODR_104Hz</span><span class="p">);</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="c1">// MyoWare 2.0 EMG (Analog)</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">EMG_PIN_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">34</span><span class="p">;</span><span class="w">  </span><span class="c1">// ADC1 channel</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">EMG_PIN_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">35</span><span class="p">;</span><span class="w">  </span><span class="c1">// ADC1 channel</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="n">analogRead</span><span class="p">(</span><span class="n">EMG_PIN_1</span><span class="p">);</span><span class="w">      </span><span class="c1">// 12-bit ADC (0-4095)</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="c1">// DRV2605L Haptic Driver (I2C)</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Adafruit_DRV2605.h&gt;</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="n">Adafruit_DRV2605</span><span class="w"> </span><span class="n">drv</span><span class="p">;</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="n">drv</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="n">drv</span><span class="p">.</span><span class="n">selectLibrary</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">       </span><span class="c1">// ERM library</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="n">drv</span><span class="p">.</span><span class="n">setMode</span><span class="p">(</span><span class="n">DRV2605_MODE_INTTRIG</span><span class="p">);</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="n">drv</span><span class="p">.</span><span class="n">setWaveform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">47</span><span class="p">);</span><span class="w">     </span><span class="c1">// Strong click</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="n">drv</span><span class="p">.</span><span class="n">go</span><span class="p">();</span>
</span></code></pre></div></p>
<p><strong>Data Serialization:</strong> Protocol Buffers (protobuf)
- Compact binary format (50% smaller than JSON)
- Schema-defined (type safety, forward compatibility)
- Fast encoding/decoding (C++ generated code)</p>
<p><strong>Example Protobuf Schema:</strong>
<div class="language-protobuf highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">message</span><span class="w"> </span><span class="nc">SensorData</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="kt">uint64</span><span class="w"> </span><span class="na">timestamp_us</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="n">Accel</span><span class="w"> </span><span class="na">accel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="n">Gyro</span><span class="w"> </span><span class="na">gyro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="n">EMG</span><span class="w"> </span><span class="na">emg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="p">}</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="kd">message</span><span class="w"> </span><span class="nc">Accel</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="na">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// m/s²</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="na">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="na">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="p">}</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="kd">message</span><span class="w"> </span><span class="nc">Gyro</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="na">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// deg/s</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="na">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="na">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="p">}</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="kd">message</span><span class="w"> </span><span class="nc">EMG</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="na">channel1_mv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="na">channel2_mv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>FreeRTOS Task Structure:</strong>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">taskSensorRead</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="c1">// Read IMU at 100Hz</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="n">imu</span><span class="p">.</span><span class="n">readAccel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">accel</span><span class="p">);</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="n">imu</span><span class="p">.</span><span class="n">readGyro</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gyro</span><span class="p">);</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="c1">// Read EMG at 200Hz (2x per loop iteration)</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="n">emg1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">analogRead</span><span class="p">(</span><span class="n">EMG_PIN_1</span><span class="p">);</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="n">emg2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">analogRead</span><span class="p">(</span><span class="n">EMG_PIN_2</span><span class="p">);</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">    </span><span class="c1">// Enqueue data for BLE task</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">    </span><span class="n">xQueueSend</span><span class="p">(</span><span class="n">sensorQueue</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sensorData</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">    </span><span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span><span class="w">  </span><span class="c1">// 100Hz</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="p">}</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="kt">void</span><span class="w"> </span><span class="nf">taskBLETransmit</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">    </span><span class="c1">// Wait for sensor data</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">    </span><span class="n">xQueueReceive</span><span class="p">(</span><span class="n">sensorQueue</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sensorData</span><span class="p">,</span><span class="w"> </span><span class="n">portMAX_DELAY</span><span class="p">);</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">    </span><span class="c1">// Serialize with protobuf</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">buffer</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">encode_sensor_data</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sensorData</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">);</span>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">    </span><span class="c1">// Send over BLE</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="w">    </span><span class="n">pCharacteristic</span><span class="o">-&gt;</span><span class="n">setValue</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">    </span><span class="n">pCharacteristic</span><span class="o">-&gt;</span><span class="n">notify</span><span class="p">();</span>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>Power Management:</strong>
- Deep sleep mode during idle (current draw: &lt;1mA)
- Dynamic frequency scaling (240MHz during BLE transmission, 80MHz during sensor read)
- BLE advertisement every 1s (discovery mode), then connection-only (low power)</p>
<h4 id="523-ml-training-pipeline-python">5.2.3 ML Training Pipeline (Python)<a class="headerlink" href="#523-ml-training-pipeline-python" title="Permanent link">&para;</a></h4>
<p><strong>Framework:</strong> PyTorch 2.x
<strong>Pose Estimation:</strong> RTMPose-m (ONNX export) or YOLO11 Pose
<strong>Temporal Modeling:</strong> LSTM + Transformer hybrid
<strong>Experiment Tracking:</strong> Weights &amp; Biases (wandb)
<strong>Dataset Management:</strong> Roboflow (annotation), DVC (version control)</p>
<p><strong>Training Infrastructure:</strong>
- <strong>Local GPU:</strong> NVIDIA RTX 3060+ (12GB VRAM minimum)
- <strong>Cloud:</strong> Google Colab Pro (V100/A100 GPUs) or AWS EC2 (g4dn instances)
- <strong>Dataset Storage:</strong> S3-compatible storage (AWS, Backblaze B2)</p>
<p><strong>Model Export Pipeline:</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Train in PyTorch</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">model</span> <span class="o">=</span> <span class="n">LSTMTransformer</span><span class="p">(</span><span class="n">input_dim</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">num_classes</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">model</span><span class="o">.</span><span class="n">train</span><span class="p">()</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="c1"># Export to ONNX (for mobile deployment)</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="n">torch</span><span class="o">.</span><span class="n">onnx</span><span class="o">.</span><span class="n">export</span><span class="p">(</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>    <span class="n">model</span><span class="p">,</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>    <span class="n">dummy_input</span><span class="p">,</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>    <span class="s2">&quot;movement_classifier.onnx&quot;</span><span class="p">,</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>    <span class="n">opset_version</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>    <span class="n">input_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">],</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>    <span class="n">output_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;error_type&quot;</span><span class="p">,</span> <span class="s2">&quot;severity&quot;</span><span class="p">,</span> <span class="s2">&quot;confidence&quot;</span><span class="p">],</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>    <span class="n">dynamic_axes</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;batch_size&quot;</span><span class="p">}}</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="p">)</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="c1"># Validate ONNX model</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="kn">import</span><span class="w"> </span><span class="nn">onnxruntime</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ort</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="n">session</span> <span class="o">=</span> <span class="n">ort</span><span class="o">.</span><span class="n">InferenceSession</span><span class="p">(</span><span class="s2">&quot;movement_classifier.onnx&quot;</span><span class="p">)</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="n">output</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="n">test_input</span><span class="p">})</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="c1"># Deploy to mobile</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="c1"># iOS: Convert to CoreML via coremltools</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="c1"># Android: Use ONNX Runtime Mobile</span>
</span></code></pre></div></p>
<h3 id="53-ml-model-architecture">5.3 ML Model Architecture<a class="headerlink" href="#53-ml-model-architecture" title="Permanent link">&para;</a></h3>
<h4 id="531-pose-estimation">5.3.1 Pose Estimation<a class="headerlink" href="#531-pose-estimation" title="Permanent link">&para;</a></h4>
<p><strong>Primary Model:</strong> RTMPose-m
- <strong>Input:</strong> 640×480 RGB image
- <strong>Output:</strong> 17 keypoints (COCO format) + confidence scores
- <strong>Accuracy:</strong> 75.8% AP on COCO validation set
- <strong>Performance:</strong> 90+ FPS on Intel i7, 70+ FPS on Snapdragon 865
- <strong>Model Size:</strong> 25 MB (ONNX format)</p>
<p><strong>Alternative Model:</strong> YOLO11 Pose (Fall 2024 release)
- <strong>Input:</strong> 640×640 RGB image
- <strong>Output:</strong> 17 keypoints + bounding box
- <strong>Accuracy:</strong> 89.4% mAP on COCO (higher than RTMPose)
- <strong>Performance:</strong> 60+ FPS on Snapdragon 865 (slightly slower)
- <strong>Model Size:</strong> 35 MB (ONNX format)</p>
<p><strong>Selection Criteria:</strong>
- <strong>MVP:</strong> RTMPose-m (proven performance, smaller model size)
- <strong>Production:</strong> YOLO11 Pose if accuracy gain (13.6% improvement) justifies size increase</p>
<p><strong>COCO Keypoint Format (17 keypoints):</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>0: Nose, 1: Left Eye, 2: Right Eye, 3: Left Ear, 4: Right Ear,
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>5: Left Shoulder, 6: Right Shoulder, 7: Left Elbow, 8: Right Elbow,
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>9: Left Wrist, 10: Right Wrist, 11: Left Hip, 12: Right Hip,
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>13: Left Knee, 14: Right Knee, 15: Left Ankle, 16: Right Ankle
</span></code></pre></div></p>
<h4 id="532-movement-classification-lstm-transformer">5.3.2 Movement Classification (LSTM + Transformer)<a class="headerlink" href="#532-movement-classification-lstm-transformer" title="Permanent link">&para;</a></h4>
<p><strong>Architecture:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>Input Layer (51D): Vision (34) + IMU (6) + EMG (4) + Metadata (7)
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    ↓
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>LSTM Layer (128 units, 2 layers, bidirectional)
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    - Input: 30-frame history (51D × 30 = 1530D)
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    - Output: 256D hidden state (128 forward + 128 backward)
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    - Purpose: Capture temporal dependencies (swing phases, rep timing)
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    ↓
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>Transformer Encoder (4 attention heads, 4 layers)
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    - Self-attention: Learn key pose relationships (e.g., hip-shoulder angle)
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>    - Positional encoding: 30-frame temporal position
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>    - Purpose: Capture long-range dependencies, attend to key frames
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>    ↓
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>Dense Layer (64 units, ReLU activation)
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>    - Feature compression + non-linearity
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>    ↓
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>Multi-Task Output:
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>    ├─ Error Type (12 classes, Softmax): Primary error classification
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>    ├─ Severity (1 unit, Sigmoid × 10): Regression (0-10 scale)
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>    ├─ Confidence (1 unit, Sigmoid): Model uncertainty estimate
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>    └─ Correction Priority (3 units, Softmax): 1st/2nd/3rd focus area
</span></code></pre></div></p>
<p><strong>Training Configuration:</strong>
- <strong>Loss Function:</strong> Weighted multi-task loss
  <div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>Total Loss = α × CrossEntropy(error_type) + β × MSE(severity) + γ × CrossEntropy(priority)
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>α=1.0, β=0.5, γ=0.3 (tuned via validation set)
</span></code></pre></div>
- <strong>Optimizer:</strong> AdamW (lr=0.001, weight_decay=0.01)
- <strong>Batch Size:</strong> 32 sequences (30 frames each)
- <strong>Epochs:</strong> 50-100 (early stopping on validation loss)
- <strong>Data Augmentation:</strong>
  - Temporal jitter (±2 frames)
  - Spatial jitter (±5% keypoint noise)
  - Brightness/contrast (camera variation simulation)</p>
<p><strong>Inference Performance Target:</strong>
- <strong>Latency:</strong> &lt;50ms on mid-range smartphones (Snapdragon 865, A13 Bionic)
- <strong>Throughput:</strong> 20+ FPS (feed-forward pass)
- <strong>Memory:</strong> &lt;200MB RAM during inference
- <strong>Model Size:</strong> &lt;50 MB (quantized to FP16 or INT8 if needed)</p>
<h4 id="533-model-optimization-for-mobile">5.3.3 Model Optimization for Mobile<a class="headerlink" href="#533-model-optimization-for-mobile" title="Permanent link">&para;</a></h4>
<p><strong>Quantization:</strong>
- Post-training quantization (PTQ): FP32 → FP16 (50% size reduction, minimal accuracy loss)
- Quantization-aware training (QAT): FP32 → INT8 (75% size reduction, &lt;2% accuracy loss)</p>
<p><strong>Pruning:</strong>
- Structured pruning: Remove entire LSTM units (10-20% sparsity)
- Unstructured pruning: Remove individual weights (30-50% sparsity, requires sparse inference support)</p>
<p><strong>Knowledge Distillation:</strong>
- Train large "teacher" model (256-unit LSTM + 8-layer Transformer)
- Distill to smaller "student" model (128-unit LSTM + 4-layer Transformer)
- Maintain 95%+ of teacher accuracy at 50% model size</p>
<p><strong>Hardware Acceleration:</strong>
- <strong>iOS:</strong> CoreML (Neural Engine on A12+ chips, 3-5x speedup)
- <strong>Android:</strong> NNAPI (GPU/DSP acceleration on Snapdragon 865+, 2-3x speedup)</p>
<hr />
<h2 id="6-data-flow">6. Data Flow<a class="headerlink" href="#6-data-flow" title="Permanent link">&para;</a></h2>
<h3 id="61-real-time-feedback-loop">6.1 Real-Time Feedback Loop<a class="headerlink" href="#61-real-time-feedback-loop" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>graph TB
    A[Camera Frame&lt;br/&gt;60 FPS] --&gt; B[Pose Estimation&lt;br/&gt;RTMPose-m&lt;br/&gt;30ms]
    C[BLE: IMU Data&lt;br/&gt;100 Hz] --&gt; D[Sensor Sync&lt;br/&gt;Interpolation&lt;br/&gt;10ms]
    E[BLE: EMG Data&lt;br/&gt;200 Hz] --&gt; D
    B --&gt; D
    D --&gt; F[Fusion Engine&lt;br/&gt;Feature Extraction&lt;br/&gt;5ms]
    F --&gt; G[Movement Classifier&lt;br/&gt;LSTM+Transformer&lt;br/&gt;40ms]
    G --&gt; H{Error&lt;br/&gt;Detected?}
    H --&gt;|Yes, Severity≥7| I[Haptic Trigger&lt;br/&gt;DRV2605L&lt;br/&gt;5ms]
    H --&gt;|Yes, Severity≥5| J[Visual Overlay&lt;br/&gt;Red Joint Marker&lt;br/&gt;16ms]
    H --&gt;|No| K[Continue Monitoring]
    I --&gt; L[User Perception&lt;br/&gt;Tactile Feedback]
    J --&gt; M[User Perception&lt;br/&gt;Visual Feedback]

    style I fill:#ff6b6b
    style J fill:#4ecdc4
    style H fill:#ffd93d</code></pre>
<p><strong>Latency Budget Breakdown:</strong>
| Stage | Target | Notes |
|-------|--------|-------|
| Camera capture | 0ms | Reference timestamp |
| Pose estimation | 30ms | RTMPose-m inference |
| BLE poll + sync | 10ms | 100Hz IMU + 200Hz EMG |
| Feature extraction | 5ms | Fusion vector assembly |
| ML inference | 40ms | LSTM+Transformer forward pass |
| Haptic trigger | 5ms | I2C command to DRV2605L |
| Visual render | 16ms | 60 FPS UI update |
| <strong>Total (Haptic)</strong> | <strong>90ms</strong> | Within 100ms target |
| <strong>Total (Visual)</strong> | <strong>101ms</strong> | Slightly over, acceptable |</p>
<p><strong>Optimization Strategies:</strong>
- <strong>Model Pruning:</strong> Reduce LSTM units 128 → 96 (save 10ms)
- <strong>Early Exit:</strong> Stop inference if error probability &gt;95% after LSTM (save 15ms)
- <strong>Frame Skip:</strong> Run full model every 2nd frame, interpolate predictions (save 50ms, trade accuracy)</p>
<h3 id="62-post-action-analysis-flow">6.2 Post-Action Analysis Flow<a class="headerlink" href="#62-post-action-analysis-flow" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
    participant User
    participant App
    participant LocalDB
    participant MLModel
    participant UI

    User-&gt;&gt;App: Complete movement (swing/rep)
    App-&gt;&gt;App: Buffer last 3s of data (180 frames)
    App-&gt;&gt;MLModel: Full sequence inference (no latency constraint)
    MLModel-&gt;&gt;App: Detailed diagnosis (error report JSON)
    App-&gt;&gt;LocalDB: Store movement record + sensor data
    LocalDB--&gt;&gt;App: Record ID
    App-&gt;&gt;UI: Render analysis view (1-5s)
    UI-&gt;&gt;User: Display breakdown

    alt User requests comparison
        User-&gt;&gt;UI: Tap "Compare to Baseline"
        UI-&gt;&gt;LocalDB: Fetch baseline movement
        LocalDB--&gt;&gt;UI: Baseline data
        UI-&gt;&gt;User: Side-by-side visualization
    else User tries again
        User-&gt;&gt;App: Tap "Next Rep"
        App-&gt;&gt;App: Return to live mode
    end</code></pre>
<p><strong>Post-Action Processing Advantages:</strong>
- <strong>No latency constraint:</strong> Run full model (no pruning, no early exit)
- <strong>Higher accuracy:</strong> Process entire movement sequence (not just 30-frame sliding window)
- <strong>Richer features:</strong> Extract additional metrics (swing speed, tempo, muscle activation timeline)
- <strong>Deeper analysis:</strong> Root cause inference, corrective drill suggestions</p>
<p><strong>Analysis Depth Levels:</strong></p>
<p><strong>Level 1: Quick View (1 second)</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>┌───────────────────────────────┐
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>│ Movement Quality: 72/100      │
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>│ Error: Early Extension (7.2)  │
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>│ [View Details]                │
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>└───────────────────────────────┘
</span></code></pre></div></p>
<p><strong>Level 2: Standard View (3 seconds)</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>┌───────────────────────────────┐
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>│ Movement Quality: 72/100      │
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>│                               │
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>│ Error Detected:               │
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>│ • Early Extension (7.2/10)    │
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>│   Frame 45-67 (downswing)     │
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>│                               │
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>│ Corrective Cue:               │
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>│ &quot;Maintain spine angle         │
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>│  through impact zone&quot;         │
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>│                               │
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>│ [View Full Breakdown]         │
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>│ [Compare to Baseline]         │
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>└───────────────────────────────┘
</span></code></pre></div></p>
<p><strong>Level 3: Deep Dive (5+ seconds)</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>┌───────────────────────────────┐
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>│ Movement Quality: 72/100      │
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>│                               │
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>│ Frame-by-Frame Analysis:      │
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>│ [====•===                ]    │
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>│  Backswing  ↑  Downswing      │
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>│           Impact              │
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>│                               │
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>│ Quantitative Metrics:         │
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>│ • Swing Speed: 98.3 mph       │
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>│ • Tempo Ratio: 2.8:1          │
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>│ • Lead Wrist Angle: -12.4°    │
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>│ • Hip Rotation: 62° (↑ 8°)    │
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>│                               │
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>│ Error: Early Extension (7.2)  │
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>│ Root Cause: Loss of spine     │
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>│             angle at impact   │
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>│                               │
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>│ Recommended Drill:            │
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>│ &quot;Hip Hinge Stability&quot;         │
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>│ [Watch Demo] [Add to Routine] │
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>│                               │
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>│ [View Side-by-Side]           │
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>│ [Export Video]                │
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>└───────────────────────────────┘
</span></code></pre></div></p>
<h3 id="63-data-storage-architecture">6.3 Data Storage Architecture<a class="headerlink" href="#63-data-storage-architecture" title="Permanent link">&para;</a></h3>
<p><strong>Local Database (Hive):</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>hive_db/
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>├── users.hive          # User profiles (height, weight, sport preferences)
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>├── movements.hive      # Movement metadata (JSON records)
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>├── sessions.hive       # Session summaries (date, total reps, quality scores)
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>└── sensor_data/        # Raw sensor data (Protobuf files)
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    ├── 2025-12-01/
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    │   ├── movement_uuid1.pb  # 3 seconds of sensor data (~1 MB)
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>    │   ├── movement_uuid2.pb
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    │   └── ...
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>    └── 2025-12-02/
</span></code></pre></div></p>
<p><strong>Movement Metadata Schema (JSON):</strong>
<div class="language-json highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="p">{</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">  </span><span class="nt">&quot;movement_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span><span class="p">,</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">  </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-12-01T10:30:45.123Z&quot;</span><span class="p">,</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span><span class="nt">&quot;movement_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;golf_swing_driver&quot;</span><span class="p">,</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">  </span><span class="nt">&quot;duration_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1850</span><span class="p">,</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">  </span><span class="nt">&quot;quality_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">72</span><span class="p">,</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">  </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">      </span><span class="nt">&quot;error_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;early_extension&quot;</span><span class="p">,</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">      </span><span class="nt">&quot;severity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">7.2</span><span class="p">,</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">      </span><span class="nt">&quot;confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.89</span><span class="p">,</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">      </span><span class="nt">&quot;frame_range&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">45</span><span class="p">,</span><span class="w"> </span><span class="mi">67</span><span class="p">],</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">      </span><span class="nt">&quot;correction_cue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Maintain spine angle through impact zone&quot;</span><span class="p">,</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">      </span><span class="nt">&quot;drill_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;drill_hip_hinge_stability&quot;</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">  </span><span class="nt">&quot;metrics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">    </span><span class="nt">&quot;swing_speed_mph&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">98.3</span><span class="p">,</span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">    </span><span class="nt">&quot;tempo_ratio&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.8</span><span class="p">,</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">    </span><span class="nt">&quot;lead_wrist_angle_deg&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-12.4</span><span class="p">,</span>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">    </span><span class="nt">&quot;hip_rotation_deg&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">62</span><span class="p">,</span>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">    </span><span class="nt">&quot;club_head_speed_mph&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="w">  </span><span class="nt">&quot;sensor_data_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sensor_data/2025-12-01/550e8400-e29b-41d4-a716-446655440000.pb&quot;</span><span class="p">,</span>
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="w">  </span><span class="nt">&quot;video_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="w">  </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;session_20251201_1030&quot;</span>
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>Session Summary Schema (JSON):</strong>
<div class="language-json highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="p">{</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">  </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;session_20251201_1030&quot;</span><span class="p">,</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span><span class="nt">&quot;date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-12-01&quot;</span><span class="p">,</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="nt">&quot;sport&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;golf&quot;</span><span class="p">,</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">  </span><span class="nt">&quot;duration_minutes&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span><span class="nt">&quot;movement_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">  </span><span class="nt">&quot;average_quality&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">74.2</span><span class="p">,</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">  </span><span class="nt">&quot;quality_trend&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;+12% vs last session&quot;</span><span class="p">,</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span><span class="nt">&quot;error_distribution&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">    </span><span class="nt">&quot;early_extension&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="nt">&quot;over_the_top&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">    </span><span class="nt">&quot;reverse_spine_angle&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">    </span><span class="nt">&quot;none&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">  </span><span class="nt">&quot;personal_records&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">    </span><span class="nt">&quot;best_quality_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">92</span><span class="p">,</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="w">    </span><span class="nt">&quot;best_swing_speed_mph&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">103.7</span>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">  </span><span class="nt">&quot;notes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Focused on reducing early extension, showed significant improvement&quot;</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>Data Retention Policy:</strong>
- <strong>Raw sensor data:</strong> 30 days (auto-delete oldest, ~10 MB/day × 30 = 300 MB)
- <strong>Movement metadata:</strong> Indefinite (&lt;10 KB each, ~10 MB/year)
- <strong>Session summaries:</strong> Indefinite (&lt;5 KB each, ~2 MB/year)
- <strong>User videos:</strong> 7 days (opt-in feature, ~50 MB each)</p>
<p><strong>Export Options (GDPR Compliance):</strong>
- Export all data as JSON (user-readable format)
- Export raw sensor data as CSV (for external analysis)
- Delete all user data (full account wipe)</p>
<hr />
<h2 id="7-deployment-architecture">7. Deployment Architecture<a class="headerlink" href="#7-deployment-architecture" title="Permanent link">&para;</a></h2>
<h3 id="71-system-components">7.1 System Components<a class="headerlink" href="#71-system-components" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>┌─────────────────────────────────────────────────────────────┐
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>│                      USER&#39;S SMARTPHONE                       │
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>│  ┌────────────────────────────────────────────────────────┐ │
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>│  │              Flutter Mobile App                        │ │
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>│  │  ┌──────────────────────────────────────────────────┐  │ │
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>│  │  │  Presentation Layer (UI)                         │  │ │
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>│  │  │  - Golf View / Workout View                      │  │ │
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>│  │  │  - Real-time Overlay Renderer                    │  │ │
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>│  │  │  - Post-action Analysis Screen                   │  │ │
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>│  │  │  - Progress Tracking Dashboard                   │  │ │
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>│  │  └──────────────────────────────────────────────────┘  │ │
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>│  │  ┌──────────────────────────────────────────────────┐  │ │
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>│  │  │  Domain Layer (Business Logic)                   │  │ │
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>│  │  │  - AssessMovement UseCase                        │  │ │
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>│  │  │  - DiagnoseError UseCase                         │  │ │
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>│  │  │  - ProvideCorrection UseCase                     │  │ │
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>│  │  │  - TrackProgress UseCase                         │  │ │
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a>│  │  └──────────────────────────────────────────────────┘  │ │
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a>│  │  ┌──────────────────────────────────────────────────┐  │ │
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a>│  │  │  Data Layer                                      │  │ │
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a>│  │  │  ┌──────────┐ ┌──────────┐ ┌──────────┐        │  │ │
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a>│  │  │  │ Camera   │ │ ML       │ │ BLE      │        │  │ │
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a>│  │  │  │ Module   │ │ Inference│ │ Manager  │        │  │ │
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a>│  │  │  └──────────┘ └──────────┘ └──────────┘        │  │ │
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a>│  │  │  ┌────────────────────────────────────────┐    │  │ │
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a>│  │  │  │   Local Storage (Hive + File System)  │    │  │ │
</span><span id="__span-21-27"><a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a>│  │  │  │   - Encrypted movement records         │    │  │ │
</span><span id="__span-21-28"><a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a>│  │  │  │   - User profiles                      │    │  │ │
</span><span id="__span-21-29"><a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a>│  │  │  │   - ML model cache (ONNX files)        │    │  │ │
</span><span id="__span-21-30"><a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a>│  │  │  │   - Sensor data (Protobuf)             │    │  │ │
</span><span id="__span-21-31"><a id="__codelineno-21-31" name="__codelineno-21-31" href="#__codelineno-21-31"></a>│  │  │  └────────────────────────────────────────┘    │  │ │
</span><span id="__span-21-32"><a id="__codelineno-21-32" name="__codelineno-21-32" href="#__codelineno-21-32"></a>│  │  └──────────────────────────────────────────────────┘  │ │
</span><span id="__span-21-33"><a id="__codelineno-21-33" name="__codelineno-21-33" href="#__codelineno-21-33"></a>│  └────────────────────────────────────────────────────────┘ │
</span><span id="__span-21-34"><a id="__codelineno-21-34" name="__codelineno-21-34" href="#__codelineno-21-34"></a>└─────────────────────────────────────────────────────────────┘
</span><span id="__span-21-35"><a id="__codelineno-21-35" name="__codelineno-21-35" href="#__codelineno-21-35"></a>                            │ BLE 5.0
</span><span id="__span-21-36"><a id="__codelineno-21-36" name="__codelineno-21-36" href="#__codelineno-21-36"></a>                            │ MTU: 500, CI: 7.5ms
</span><span id="__span-21-37"><a id="__codelineno-21-37" name="__codelineno-21-37" href="#__codelineno-21-37"></a>                            ▼
</span><span id="__span-21-38"><a id="__codelineno-21-38" name="__codelineno-21-38" href="#__codelineno-21-38"></a>┌─────────────────────────────────────────────────────────────┐
</span><span id="__span-21-39"><a id="__codelineno-21-39" name="__codelineno-21-39" href="#__codelineno-21-39"></a>│                   WEARABLE SENSOR UNIT                       │
</span><span id="__span-21-40"><a id="__codelineno-21-40" name="__codelineno-21-40" href="#__codelineno-21-40"></a>│  ┌────────────────────────────────────────────────────────┐ │
</span><span id="__span-21-41"><a id="__codelineno-21-41" name="__codelineno-21-41" href="#__codelineno-21-41"></a>│  │                ESP32-S3 Firmware (Arduino/FreeRTOS)    │ │
</span><span id="__span-21-42"><a id="__codelineno-21-42" name="__codelineno-21-42" href="#__codelineno-21-42"></a>│  │  ┌──────────────────────────────────────────────────┐  │ │
</span><span id="__span-21-43"><a id="__codelineno-21-43" name="__codelineno-21-43" href="#__codelineno-21-43"></a>│  │  │  Sensor Drivers                                  │  │ │
</span><span id="__span-21-44"><a id="__codelineno-21-44" name="__codelineno-21-44" href="#__codelineno-21-44"></a>│  │  │  ┌──────────┐ ┌──────────┐ ┌──────────┐        │  │ │
</span><span id="__span-21-45"><a id="__codelineno-21-45" name="__codelineno-21-45" href="#__codelineno-21-45"></a>│  │  │  │ LSM6DSV  │ │ MyoWare  │ │ DRV2605L │        │  │ │
</span><span id="__span-21-46"><a id="__codelineno-21-46" name="__codelineno-21-46" href="#__codelineno-21-46"></a>│  │  │  │ (IMU)    │ │ (EMG)    │ │ (Haptic) │        │  │ │
</span><span id="__span-21-47"><a id="__codelineno-21-47" name="__codelineno-21-47" href="#__codelineno-21-47"></a>│  │  │  │ I2C      │ │ Analog   │ │ I2C      │        │  │ │
</span><span id="__span-21-48"><a id="__codelineno-21-48" name="__codelineno-21-48" href="#__codelineno-21-48"></a>│  │  │  └──────────┘ └──────────┘ └──────────┘        │  │ │
</span><span id="__span-21-49"><a id="__codelineno-21-49" name="__codelineno-21-49" href="#__codelineno-21-49"></a>│  │  └──────────────────────────────────────────────────┘  │ │
</span><span id="__span-21-50"><a id="__codelineno-21-50" name="__codelineno-21-50" href="#__codelineno-21-50"></a>│  │  ┌──────────────────────────────────────────────────┐  │ │
</span><span id="__span-21-51"><a id="__codelineno-21-51" name="__codelineno-21-51" href="#__codelineno-21-51"></a>│  │  │  FreeRTOS Tasks                                  │  │ │
</span><span id="__span-21-52"><a id="__codelineno-21-52" name="__codelineno-21-52" href="#__codelineno-21-52"></a>│  │  │  - Task 1: Sensor Read (100Hz IMU, 200Hz EMG)   │  │ │
</span><span id="__span-21-53"><a id="__codelineno-21-53" name="__codelineno-21-53" href="#__codelineno-21-53"></a>│  │  │  - Task 2: BLE Transmit (NimBLE stack)          │  │ │
</span><span id="__span-21-54"><a id="__codelineno-21-54" name="__codelineno-21-54" href="#__codelineno-21-54"></a>│  │  │  - Task 3: Haptic Control (receive commands)    │  │ │
</span><span id="__span-21-55"><a id="__codelineno-21-55" name="__codelineno-21-55" href="#__codelineno-21-55"></a>│  │  └──────────────────────────────────────────────────┘  │ │
</span><span id="__span-21-56"><a id="__codelineno-21-56" name="__codelineno-21-56" href="#__codelineno-21-56"></a>│  │  ┌──────────────────────────────────────────────────┐  │ │
</span><span id="__span-21-57"><a id="__codelineno-21-57" name="__codelineno-21-57" href="#__codelineno-21-57"></a>│  │  │  BLE Server (NimBLE)                             │  │ │
</span><span id="__span-21-58"><a id="__codelineno-21-58" name="__codelineno-21-58" href="#__codelineno-21-58"></a>│  │  │  - Custom GATT Service UUID                      │  │ │
</span><span id="__span-21-59"><a id="__codelineno-21-59" name="__codelineno-21-59" href="#__codelineno-21-59"></a>│  │  │  - Characteristic: Sensor Data (Notify)          │  │ │
</span><span id="__span-21-60"><a id="__codelineno-21-60" name="__codelineno-21-60" href="#__codelineno-21-60"></a>│  │  │  - Characteristic: Haptic Command (Write)        │  │ │
</span><span id="__span-21-61"><a id="__codelineno-21-61" name="__codelineno-21-61" href="#__codelineno-21-61"></a>│  │  │  - MTU: 500 bytes, CI: 7.5ms                     │  │ │
</span><span id="__span-21-62"><a id="__codelineno-21-62" name="__codelineno-21-62" href="#__codelineno-21-62"></a>│  │  └──────────────────────────────────────────────────┘  │ │
</span><span id="__span-21-63"><a id="__codelineno-21-63" name="__codelineno-21-63" href="#__codelineno-21-63"></a>│  └────────────────────────────────────────────────────────┘ │
</span><span id="__span-21-64"><a id="__codelineno-21-64" name="__codelineno-21-64" href="#__codelineno-21-64"></a>│  ┌────────────────────────────────────────────────────────┐ │
</span><span id="__span-21-65"><a id="__codelineno-21-65" name="__codelineno-21-65" href="#__codelineno-21-65"></a>│  │  Hardware                                              │ │
</span><span id="__span-21-66"><a id="__codelineno-21-66" name="__codelineno-21-66" href="#__codelineno-21-66"></a>│  │  - LiPo Battery (500mAh, 4+ hours)                     │ │
</span><span id="__span-21-67"><a id="__codelineno-21-67" name="__codelineno-21-67" href="#__codelineno-21-67"></a>│  │  - USB-C Charging                                      │ │
</span><span id="__span-21-68"><a id="__codelineno-21-68" name="__codelineno-21-68" href="#__codelineno-21-68"></a>│  │  - 3D-Printed Enclosure (ABS/PETG)                     │ │
</span><span id="__span-21-69"><a id="__codelineno-21-69" name="__codelineno-21-69" href="#__codelineno-21-69"></a>│  │  - Adjustable Strap (wrist/lower back mounting)        │ │
</span><span id="__span-21-70"><a id="__codelineno-21-70" name="__codelineno-21-70" href="#__codelineno-21-70"></a>│  └────────────────────────────────────────────────────────┘ │
</span><span id="__span-21-71"><a id="__codelineno-21-71" name="__codelineno-21-71" href="#__codelineno-21-71"></a>└─────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="72-cloud-services-optionalfuture">7.2 Cloud Services (Optional/Future)<a class="headerlink" href="#72-cloud-services-optionalfuture" title="Permanent link">&para;</a></h3>
<p><strong>MVP Deployment:</strong> Fully on-device processing (no cloud dependency)</p>
<p><strong>Future Cloud Features (Post-MVP):</strong></p>
<ol>
<li><strong>Movement Video Backup</strong></li>
<li>User-initiated upload (opt-in)</li>
<li>S3-compatible storage (AWS, Backblaze B2)</li>
<li>Encrypted at rest (AES-256)</li>
<li>
<p>Cost: ~$0.023/GB/month (S3 Standard)</p>
</li>
<li>
<p><strong>Cross-Device Sync</strong></p>
</li>
<li>Sync movement metadata across user's devices (phone, tablet)</li>
<li>DynamoDB for metadata storage</li>
<li>
<p>Cost: ~$0.25/GB/month (on-demand pricing)</p>
</li>
<li>
<p><strong>Aggregate Analytics</strong></p>
</li>
<li>Anonymized improvement metrics (e.g., "Average quality score improvement: +8% after 2 weeks")</li>
<li>No PII transmitted (movement type, error frequency only)</li>
<li>
<p>Used for ML model improvements</p>
</li>
<li>
<p><strong>Model Updates</strong></p>
</li>
<li>A/B testing new ML models</li>
<li>Download updated ONNX models over WiFi</li>
<li>User controls: Auto-update on/off</li>
</ol>
<p><strong>Privacy-First Design:</strong>
- All sensitive data (movement videos, EMG signals, keypoints) stored locally by default
- User controls cloud sync (opt-in only)
- No PII transmitted without explicit consent
- GDPR-compliant: Right to deletion, data portability</p>
<p><strong>Cloud Architecture (Future):</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>┌─────────────────────────────────────────────────────────────┐
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>│                     AWS Cloud (Optional)                     │
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>│  ┌────────────────────────────────────────────────────────┐ │
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>│  │  S3 Bucket (Video Backup)                              │ │
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>│  │  - User-uploaded movement videos (encrypted)           │ │
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>│  └────────────────────────────────────────────────────────┘ │
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>│  ┌────────────────────────────────────────────────────────┐ │
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>│  │  DynamoDB (Metadata Sync)                              │ │
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>│  │  - Movement metadata, session summaries                │ │
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>│  └────────────────────────────────────────────────────────┘ │
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>│  ┌────────────────────────────────────────────────────────┐ │
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>│  │  Lambda Functions                                       │ │
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>│  │  - Process video uploads (generate thumbnails)         │ │
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>│  │  - Sync data across devices                            │ │
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>│  └────────────────────────────────────────────────────────┘ │
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>│  ┌────────────────────────────────────────────────────────┐ │
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a>│  │  CloudFront (CDN)                                       │ │
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a>│  │  - Distribute ML model updates                         │ │
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>│  └────────────────────────────────────────────────────────┘ │
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a>└─────────────────────────────────────────────────────────────┘
</span></code></pre></div></p>
<hr />
<h2 id="8-performance-requirements">8. Performance Requirements<a class="headerlink" href="#8-performance-requirements" title="Permanent link">&para;</a></h2>
<h3 id="81-latency-targets">8.1 Latency Targets<a class="headerlink" href="#81-latency-targets" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Target</th>
<th>P95</th>
<th>P99</th>
<th>Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Real-time feedback latency</strong></td>
<td>&lt;100ms</td>
<td>&lt;120ms</td>
<td>&lt;150ms</td>
<td>Perceptible to user during movement, within human reaction time</td>
</tr>
<tr>
<td><strong>Post-action analysis delay</strong></td>
<td>&lt;5s</td>
<td>&lt;7s</td>
<td>&lt;10s</td>
<td>Immediate review workflow, user waits for feedback</td>
</tr>
<tr>
<td><strong>BLE data transmission</strong></td>
<td>&lt;20ms</td>
<td>&lt;30ms</td>
<td>&lt;50ms</td>
<td>100Hz IMU streaming headroom, prevent buffer overflow</td>
</tr>
<tr>
<td><strong>ML inference (on-device)</strong></td>
<td>&lt;50ms</td>
<td>&lt;70ms</td>
<td>&lt;100ms</td>
<td>20+ FPS analysis, real-time feedback capable</td>
</tr>
<tr>
<td><strong>UI frame rate</strong></td>
<td>60 FPS</td>
<td>55 FPS</td>
<td>50 FPS</td>
<td>Smooth visual experience, no jank perception</td>
</tr>
<tr>
<td><strong>Camera-to-display total</strong></td>
<td>&lt;100ms</td>
<td>&lt;120ms</td>
<td>&lt;150ms</td>
<td>End-to-end system latency (camera → pose → ML → render)</td>
</tr>
</tbody>
</table>
<p><strong>Latency Measurement Strategy:</strong>
- <strong>Instrumentation:</strong> Log timestamps at each pipeline stage (camera, BLE, ML, render)
- <strong>Metrics Collection:</strong> Aggregate P50/P95/P99 latencies per session
- <strong>Performance Dashboard:</strong> Track latency trends over time, detect regressions
- <strong>User Feedback:</strong> Collect qualitative feedback on perceived responsiveness</p>
<h3 id="82-accuracy-targets">8.2 Accuracy Targets<a class="headerlink" href="#82-accuracy-targets" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Target</th>
<th>Validation Method</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Pose estimation AP</strong></td>
<td>&gt;70%</td>
<td>COCO validation set</td>
<td>RTMPose-m: 75.8% AP (exceeds target)</td>
</tr>
<tr>
<td><strong>Movement classification accuracy</strong></td>
<td>&gt;85%</td>
<td>Expert-labeled test set (200+ movements)</td>
<td>Multi-class error type classification</td>
</tr>
<tr>
<td><strong>Error detection recall</strong></td>
<td>&gt;90%</td>
<td>Expert-labeled test set</td>
<td>Minimize false negatives (missed errors)</td>
</tr>
<tr>
<td><strong>Error detection precision</strong></td>
<td>&gt;80%</td>
<td>Expert-labeled test set</td>
<td>Balance false positives (over-alerting)</td>
</tr>
<tr>
<td><strong>Error severity MAE</strong></td>
<td>&lt;1.5</td>
<td>Expert rating comparison (0-10 scale)</td>
<td>Mean Absolute Error on severity regression</td>
</tr>
<tr>
<td><strong>Correction effectiveness</strong></td>
<td>&gt;60%</td>
<td>User improves quality score after applying correction</td>
<td>Self-reported + quality score tracking</td>
</tr>
</tbody>
</table>
<p><strong>Accuracy Validation Plan:</strong>
1. <strong>Expert Labeling:</strong>
   - Recruit certified golf instructors, personal trainers
   - Label 200+ movements across error types (50% golf, 50% workout)
   - Inter-rater agreement: Cohen's Kappa &gt;0.7</p>
<ol>
<li><strong>Test Set Composition:</strong></li>
<li>30% "clean" movements (no errors)</li>
<li>50% single-error movements</li>
<li>
<p>20% multi-error movements (test error priority ranking)</p>
</li>
<li>
<p><strong>Confusion Matrix Analysis:</strong></p>
</li>
<li>Track which error types are confused (e.g., "over-the-top" vs. "early extension")</li>
<li>
<p>Refine model training data for confused classes</p>
</li>
<li>
<p><strong>User Study (Beta Testing):</strong></p>
</li>
<li>20+ users, 5 sessions each</li>
<li>Track quality score improvement over time</li>
<li>Collect qualitative feedback on correction accuracy</li>
</ol>
<h3 id="83-resource-constraints">8.3 Resource Constraints<a class="headerlink" href="#83-resource-constraints" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Budget</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>App binary size</strong></td>
<td>&lt;150MB</td>
<td>ML models dominate size (RTMPose: 25MB, Classifier: 50MB, Flutter framework: 40MB)</td>
</tr>
<tr>
<td><strong>Runtime RAM</strong></td>
<td>&lt;500MB</td>
<td>Compete with other apps, prevent OS backgrounding</td>
</tr>
<tr>
<td><strong>Battery impact</strong></td>
<td>&lt;15%/hour</td>
<td>Camera (40% of drain) + BLE (30%) + ML (20%) + Display (10%)</td>
</tr>
<tr>
<td><strong>Storage per session</strong></td>
<td>&lt;10MB</td>
<td>5 min video at 720p compressed (~5 MB) + sensor data (~5 MB)</td>
</tr>
<tr>
<td><strong>Network bandwidth</strong> (future)</td>
<td>&lt;1 MB/session</td>
<td>Metadata sync only (no video unless user-initiated)</td>
</tr>
</tbody>
</table>
<p><strong>Resource Optimization Strategies:</strong></p>
<ol>
<li><strong>App Binary Size:</strong></li>
<li>Model quantization (FP16 reduces size by 50%)</li>
<li>On-demand model download (ship app with RTMPose only, download classifier on first run)</li>
<li>
<p>Asset compression (lossless PNG → lossy WebP for UI assets)</p>
</li>
<li>
<p><strong>Runtime RAM:</strong></p>
</li>
<li>Memory pooling (pre-allocate camera frame buffers, reuse)</li>
<li>Aggressive garbage collection tuning (Dart VM flags)</li>
<li>
<p>Unload unused models (e.g., unload RTMPose during post-action analysis)</p>
</li>
<li>
<p><strong>Battery Impact:</strong></p>
</li>
<li>Dynamic frame rate (60 FPS → 30 FPS when low battery)</li>
<li>BLE connection interval adjustment (7.5ms → 15ms when idle)</li>
<li>Screen brightness reduction (user prompt when battery &lt;20%)</li>
<li>
<p>Camera resolution reduction (1080p → 720p when low battery)</p>
</li>
<li>
<p><strong>Storage:</strong></p>
</li>
<li>Video compression (H.264 at lower bitrate)</li>
<li>Sensor data compression (Protobuf + zlib)</li>
<li>Auto-delete old data (30-day retention policy)</li>
</ol>
<h3 id="84-scalability-targets">8.4 Scalability Targets<a class="headerlink" href="#84-scalability-targets" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>MVP</th>
<th>Production</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Concurrent users</strong></td>
<td>100</td>
<td>10,000+</td>
<td>Local-first architecture scales independently</td>
</tr>
<tr>
<td><strong>Movements per session</strong></td>
<td>20-50</td>
<td>Unlimited</td>
<td>Local storage constraint only</td>
</tr>
<tr>
<td><strong>Supported movement types</strong></td>
<td>3-5</td>
<td>20+</td>
<td>Error taxonomy expansion</td>
</tr>
<tr>
<td><strong>Supported sports</strong></td>
<td>2 (golf, workout)</td>
<td>5+ (tennis, baseball, yoga)</td>
<td>Architectural flexibility</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="9-security-privacy">9. Security &amp; Privacy<a class="headerlink" href="#9-security-privacy" title="Permanent link">&para;</a></h2>
<h3 id="91-data-protection">9.1 Data Protection<a class="headerlink" href="#91-data-protection" title="Permanent link">&para;</a></h3>
<p><strong>Principle:</strong> Local-first architecture, user controls all data.</p>
<p><strong>Data Categories:</strong>
1. <strong>Personal Identifiable Information (PII):</strong>
   - User name, email (stored locally, encrypted)
   - Body measurements (height, weight)
   - <strong>Storage:</strong> Hive encrypted box (AES-256)
   - <strong>Transmission:</strong> Never transmitted (local-only)</p>
<ol>
<li><strong>Movement Data:</strong></li>
<li>Camera frames, keypoints, IMU/EMG signals</li>
<li><strong>Storage:</strong> Local file system, optionally encrypted</li>
<li>
<p><strong>Transmission:</strong> Only if user explicitly enables cloud backup</p>
</li>
<li>
<p><strong>Metadata:</strong></p>
</li>
<li>Movement quality scores, error types, session summaries</li>
<li><strong>Storage:</strong> Hive database (encrypted)</li>
<li><strong>Transmission:</strong> Only if user enables cross-device sync</li>
</ol>
<p><strong>Encryption:</strong>
- <strong>At Rest:</strong> Hive encrypted boxes (AES-256, key derived from user PIN/biometric)
- <strong>In Transit:</strong> TLS 1.3 for cloud sync (future feature)
- <strong>Key Management:</strong> User-controlled (PIN/biometric unlock)</p>
<p><strong>GDPR Compliance:</strong>
- <strong>Right to Access:</strong> Export all data as JSON (one-click export)
- <strong>Right to Deletion:</strong> Delete all user data (local wipe, no cloud remnants)
- <strong>Right to Portability:</strong> Export in machine-readable format (JSON, CSV)
- <strong>Consent:</strong> Opt-in for cloud sync, explicit consent before any data transmission</p>
<h3 id="92-firmware-security">9.2 Firmware Security<a class="headerlink" href="#92-firmware-security" title="Permanent link">&para;</a></h3>
<p><strong>ESP32-S3 Security Features:</strong>
- <strong>Secure Boot:</strong> Verify firmware signature before boot (prevent malicious firmware)
- <strong>Flash Encryption:</strong> Encrypt firmware in flash memory (prevent code extraction)
- <strong>eFuse:</strong> One-time programmable memory for secure key storage</p>
<p><strong>BLE Security:</strong>
- <strong>Pairing Method:</strong> Numeric Comparison Pairing (MITM protection)
- <strong>Encryption:</strong> AES-128-CCM (BLE 5.0 standard)
- <strong>Authentication:</strong> Device whitelist (only pair with owner's phone)</p>
<p><strong>Firmware Update Security:</strong>
- <strong>MVP:</strong> No over-the-air (OTA) updates (physical USB connection required)
- <strong>Production:</strong> Signed OTA updates (RSA-2048 signature verification)</p>
<h3 id="93-threat-model">9.3 Threat Model<a class="headerlink" href="#93-threat-model" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Threat</th>
<th>Impact</th>
<th>Likelihood</th>
<th>Mitigation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Eavesdropping on BLE</strong></td>
<td>Attacker intercepts IMU/EMG data</td>
<td>Low</td>
<td>BLE encryption (AES-128-CCM)</td>
</tr>
<tr>
<td><strong>Man-in-the-Middle (MITM)</strong></td>
<td>Attacker impersonates wearable</td>
<td>Low</td>
<td>Numeric Comparison Pairing</td>
</tr>
<tr>
<td><strong>Data Exfiltration (stolen phone)</strong></td>
<td>Attacker accesses movement data</td>
<td>Medium</td>
<td>Hive encryption (PIN/biometric required)</td>
</tr>
<tr>
<td><strong>Firmware Tampering</strong></td>
<td>Attacker modifies wearable firmware</td>
<td>Low</td>
<td>Secure Boot + Flash Encryption</td>
</tr>
<tr>
<td><strong>Cloud Sync Interception</strong> (future)</td>
<td>Attacker intercepts synced metadata</td>
<td>Low</td>
<td>TLS 1.3 + certificate pinning</td>
</tr>
</tbody>
</table>
<p><strong>Security Testing:</strong>
- <strong>Penetration Testing:</strong> Hire security firm for BLE/firmware audit (pre-production)
- <strong>Code Review:</strong> Static analysis (SonarQube) + manual review
- <strong>Dependency Scanning:</strong> Check for vulnerable packages (Dependabot)</p>
<hr />
<h2 id="10-development-roadmap">10. Development Roadmap<a class="headerlink" href="#10-development-roadmap" title="Permanent link">&para;</a></h2>
<h3 id="phase-1-mvp-months-1-4">Phase 1: MVP (Months 1-4)<a class="headerlink" href="#phase-1-mvp-months-1-4" title="Permanent link">&para;</a></h3>
<p><strong>Goal:</strong> Prove core technical feasibility, validate hardware + software stack.</p>
<p><strong>Deliverables:</strong>
- ✅ <strong>Architecture validation research</strong> (completed: ADRs 0001-0004, hardware selection)
- [ ] <strong>Hardware prototype</strong> (single sensor unit)
  - ESP32-S3 dev board + LSM6DSV16X + MyoWare 2.0 + DRV2605L
  - 3D-printed enclosure (basic wearable form factor)
  - BLE communication validated (100Hz IMU streaming)
- [ ] <strong>Basic pose estimation pipeline</strong>
  - RTMPose-m deployed to mobile (ONNX Runtime)
  - 60 FPS camera capture validated
  - Pose keypoints overlaid on live view
- [ ] <strong>Flutter app skeleton</strong>
  - Camera + BLE integration
  - Basic UI (golf view, workout view)
  - Local storage (Hive setup)
- [ ] <strong>Simple error detection</strong> (2-3 movement types)
  - Golf: Over-the-top swing, early extension
  - Workout: Knee valgus (squat)
  - Post-action visualization only (no real-time feedback yet)
- [ ] <strong>Dataset collection</strong> (50+ labeled movements)
  - Recruit 5-10 early testers
  - Capture movements with expert labels</p>
<p><strong>Success Criteria:</strong>
- Pose estimation runs at 30+ FPS on mid-range phone
- BLE connection stable for 10+ minutes
- Error detection accuracy &gt;75% on small test set
- App doesn't crash during 15-minute session</p>
<h3 id="phase-2-real-time-feedback-months-5-6">Phase 2: Real-Time Feedback (Months 5-6)<a class="headerlink" href="#phase-2-real-time-feedback-months-5-6" title="Permanent link">&para;</a></h3>
<p><strong>Goal:</strong> Implement &lt;100ms real-time feedback loop, haptic integration.</p>
<p><strong>Deliverables:</strong>
- [ ] <strong>Haptic feedback integration</strong>
  - Trigger haptic patterns via BLE (latency &lt;80ms)
  - User controls: Haptic intensity, error threshold
- [ ] <strong>Latency optimization</strong>
  - Model pruning (LSTM 128 → 96 units)
  - Frame skip + interpolation
  - Target: &lt;100ms end-to-end latency (P95)
- [ ] <strong>Live movement overlay</strong>
  - Real-time skeleton rendering (60 FPS)
  - Color-coded joints (green/yellow/red)
  - Predicted trajectory (0.5s lookahead)
- [ ] <strong>Error taxonomy expansion</strong> (5+ movement error types)
  - Golf: Add reverse spine angle, chicken wing
  - Workout: Add lumbar hyperextension, asymmetric loading
- [ ] <strong>Sensor fusion refinement</strong>
  - Tune IMU/EMG feature weights
  - Improve sync algorithm (reduce max error to &lt;10ms)</p>
<p><strong>Success Criteria:</strong>
- Real-time feedback latency &lt;100ms (P95)
- User perceives haptic cues as "in-sync" with movement
- Error detection accuracy &gt;85% on expanded test set
- App maintains 60 FPS UI during real-time mode</p>
<h3 id="phase-3-production-polish-months-7-9">Phase 3: Production Polish (Months 7-9)<a class="headerlink" href="#phase-3-production-polish-months-7-9" title="Permanent link">&para;</a></h3>
<p><strong>Goal:</strong> Production-ready app, beta testing program, prepare for public release.</p>
<p><strong>Deliverables:</strong>
- [ ] <strong>UI/UX refinement</strong>
  - User testing (20+ testers, 5 sessions each)
  - Iterate on feedback (improve clarity of corrective cues)
  - Onboarding flow (explain sensor placement, camera setup)
- [ ] <strong>Battery optimization</strong>
  - Target: &lt;15% battery drain per hour
  - Dynamic frame rate, BLE interval adjustment
- [ ] <strong>Cloud backup</strong> (optional feature)
  - S3-compatible video upload
  - Cross-device metadata sync
  - Privacy controls (opt-in, encrypted)
- [ ] <strong>Beta testing program</strong>
  - 50+ users, 2-month program
  - Track retention (7-day, 30-day)
  - Collect NPS feedback
- [ ] <strong>Production hardware</strong> (10-20 units)
  - Custom PCB (replace dev board)
  - Injection-molded enclosure
  - CE/FCC certification prep</p>
<p><strong>Success Criteria:</strong>
- 7-day retention &gt;50% (golf), &gt;40% (workout)
- NPS score &gt;50 (validated product-market fit)
- Zero critical bugs in beta testing
- App approved by Apple App Store, Google Play Store</p>
<h3 id="phase-4-future-enhancements-months-10">Phase 4: Future Enhancements (Months 10+)<a class="headerlink" href="#phase-4-future-enhancements-months-10" title="Permanent link">&para;</a></h3>
<p><strong>Potential Features (prioritized by user demand):</strong>
1. <strong>Module 3 Addition (Long-term Programming)</strong>
   - If retention data shows users want periodization
   - Training plan builder, progressive overload automation</p>
<ol>
<li><strong>Multi-Sensor Support</strong></li>
<li>2+ wearables for bilateral analysis (left wrist + right wrist)</li>
<li>
<p>Detect left-right asymmetries</p>
</li>
<li>
<p><strong>Advanced Biomechanics</strong></p>
</li>
<li>Joint torque estimation (inverse kinematics)</li>
<li>
<p>Force plate integration (ground reaction forces)</p>
</li>
<li>
<p><strong>Social Features</strong></p>
</li>
<li>Coach sharing (send movement videos to coach)</li>
<li>
<p>Peer comparison (compare to friends' stats)</p>
</li>
<li>
<p><strong>Sport Expansion</strong></p>
</li>
<li>Tennis serve analysis</li>
<li>Baseball pitch mechanics</li>
<li>Yoga pose assessment</li>
</ol>
<hr />
<h2 id="11-success-metrics">11. Success Metrics<a class="headerlink" href="#11-success-metrics" title="Permanent link">&para;</a></h2>
<h3 id="111-technical-kpis">11.1 Technical KPIs<a class="headerlink" href="#111-technical-kpis" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Target</th>
<th>Measurement Method</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Real-time feedback latency</strong></td>
<td>&lt;100ms (P95)</td>
<td>Log timestamps at each pipeline stage</td>
</tr>
<tr>
<td><strong>App crash rate</strong></td>
<td>&lt;0.1%</td>
<td>Firebase Crashlytics (production)</td>
</tr>
<tr>
<td><strong>BLE connection reliability</strong></td>
<td>&gt;95%</td>
<td>Track disconnections per session</td>
</tr>
<tr>
<td><strong>ML accuracy (error detection)</strong></td>
<td>&gt;85%</td>
<td>Expert-labeled test set (200+ movements)</td>
</tr>
<tr>
<td><strong>UI frame rate</strong></td>
<td>60 FPS (P50)</td>
<td>Flutter DevTools frame profiling</td>
</tr>
<tr>
<td><strong>Battery drain</strong></td>
<td>&lt;15%/hour</td>
<td>Battery level sampling (every 5 min)</td>
</tr>
</tbody>
</table>
<p><strong>Monitoring Strategy:</strong>
- <strong>MVP:</strong> Manual logging, weekly review
- <strong>Production:</strong> Automated telemetry (opt-in, anonymized)
- <strong>Alerts:</strong> Slack notification if KPI drops below threshold</p>
<h3 id="112-user-kpis">11.2 User KPIs<a class="headerlink" href="#112-user-kpis" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Target (Golf)</th>
<th>Target (Workout)</th>
<th>Measurement Method</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>7-day retention</strong></td>
<td>&gt;50%</td>
<td>&gt;40%</td>
<td>Cohort analysis (sign-up date → 7 days)</td>
</tr>
<tr>
<td><strong>30-day retention</strong></td>
<td>&gt;30%</td>
<td>&gt;20%</td>
<td>Cohort analysis (sign-up date → 30 days)</td>
</tr>
<tr>
<td><strong>Session length</strong></td>
<td>&gt;15 min</td>
<td>&gt;12 min</td>
<td>Track app foreground time</td>
</tr>
<tr>
<td><strong>Sessions per week</strong></td>
<td>2-3</td>
<td>3-4</td>
<td>Count sessions (7-day rolling window)</td>
</tr>
<tr>
<td><strong>NPS score</strong></td>
<td>&gt;50</td>
<td>&gt;50</td>
<td>In-app survey (monthly)</td>
</tr>
<tr>
<td><strong>Quality score improvement</strong></td>
<td>+10% (30 days)</td>
<td>+8% (30 days)</td>
<td>Track avg quality score over time</td>
</tr>
</tbody>
</table>
<p><strong>User Feedback Collection:</strong>
- <strong>In-app survey:</strong> Monthly NPS survey (1 question + optional comment)
- <strong>Beta tester interviews:</strong> 1-on-1 interviews (30 min each)
- <strong>Support tickets:</strong> Track common complaints, feature requests</p>
<h3 id="113-business-kpis-future">11.3 Business KPIs (Future)<a class="headerlink" href="#113-business-kpis-future" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Target</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Customer Acquisition Cost (CAC)</strong></td>
<td>&lt;$20</td>
<td>Organic + paid ads</td>
</tr>
<tr>
<td><strong>Lifetime Value (LTV)</strong></td>
<td>&gt;$100</td>
<td>Subscription model (future)</td>
</tr>
<tr>
<td><strong>LTV:CAC Ratio</strong></td>
<td>&gt;5:1</td>
<td>Healthy unit economics</td>
</tr>
<tr>
<td><strong>Monthly Active Users (MAU)</strong></td>
<td>1,000 (Year 1)</td>
<td>Viral growth + referrals</td>
</tr>
<tr>
<td><strong>Churn Rate</strong></td>
<td>&lt;5%/month</td>
<td>Retention-focused product</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="12-references">12. References<a class="headerlink" href="#12-references" title="Permanent link">&para;</a></h2>
<h3 id="architecture-decision-records-adrs">Architecture Decision Records (ADRs)<a class="headerlink" href="#architecture-decision-records-adrs" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="../../../decisions/0001-multi-repo-structure/">ADR-0001: Multi-Repository Structure</a></li>
<li><a href="../../../decisions/0002-lsm6dsv16x-imu/">ADR-0002: LSM6DSV16X IMU Selection</a></li>
<li><a href="../../../decisions/0003-flutter-mobile/">ADR-0003: Flutter for Mobile Development</a></li>
<li><a href="../../decisions/0004-simplified-architecture.md">ADR-0004: Four-Module Architecture (Simplified)</a></li>
</ul>
<h3 id="technical-resources">Technical Resources<a class="headerlink" href="#technical-resources" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="../../../resources/hardware-comparison/">Hardware Comparison Matrix</a></li>
<li><a href="../../../resources/ml-frameworks-comparison/">ML Framework Comparison</a></li>
<li><a href="../../../resources/mobile-frameworks-comparison/">Mobile Framework Comparison</a></li>
<li><a href="../../guides/ble-optimization.md">BLE Optimization Guide</a></li>
</ul>
<h3 id="research-papers">Research Papers<a class="headerlink" href="#research-papers" title="Permanent link">&para;</a></h3>
<ul>
<li>Schmidt, R. A., &amp; Lee, T. D. (2011). <em>Motor Control and Learning: A Behavioral Emphasis</em> (5th ed.). Human Kinetics.</li>
<li>Sigrist, R., et al. (2013). "Augmented visual, auditory, haptic, and multimodal feedback in motor learning: A review." <em>Psychonomic Bulletin &amp; Review</em>, 20(1), 21-53.</li>
<li>Wulf, G., &amp; Lewthwaite, R. (2016). "Optimizing performance through intrinsic motivation and attention for learning: The OPTIMAL theory of motor learning." <em>Psychonomic Bulletin &amp; Review</em>, 23(5), 1382-1414.</li>
</ul>
<h3 id="external-documentation">External Documentation<a class="headerlink" href="#external-documentation" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://github.com/open-mmlab/mmpose/tree/main/projects/rtmpose">RTMPose Documentation</a></li>
<li><a href="https://docs.ultralytics.com/models/yolo11/">YOLO11 Pose Documentation</a></li>
<li><a href="https://flutter.dev/docs/perf/best-practices">Flutter Performance Best Practices</a></li>
<li><a href="https://www.espressif.com/sites/default/files/documentation/esp32-s3_technical_reference_manual_en.pdf">ESP32-S3 Technical Reference Manual</a></li>
<li><a href="https://www.st.com/resource/en/datasheet/lsm6dsv16x.pdf">LSM6DSV16X Datasheet</a></li>
</ul>
<hr />
<h2 id="document-change-log">Document Change Log<a class="headerlink" href="#document-change-log" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Version</th>
<th>Date</th>
<th>Author</th>
<th>Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0</td>
<td>2025-12-01</td>
<td>System Architect</td>
<td>Initial HLD, 4-module architecture, validated technology stack</td>
</tr>
</tbody>
</table>
<hr />
<p><strong>Document Status:</strong> ✅ Validated Architecture
<strong>Review Cycle:</strong> Quarterly (next review: 2026-03-01)
<strong>Feedback:</strong> Open GitHub issues for technical questions or architecture suggestions</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/movement-chain-ai" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/movement-chain-ai" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "navigation.tracking", "navigation.indexes", "toc.integrate", "search.suggest", "search.highlight", "content.code.copy", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>
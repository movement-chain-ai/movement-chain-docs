
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Architecture documentation for multimodal AI movement training system">
      
      
        <meta name="author" content="Movement Chain AI Team">
      
      
        <link rel="canonical" href="https://movement-chain-ai.github.io/movement-chain-docs/design/decisions/architecture-decisions-2025-12-23/">
      
      
        <link rel="prev" href="../visualization-tools-evaluation/">
      
      
        <link rel="next" href="../../research/competitor-metrics-comparison/">
      
      
        
          <link rel="alternate" href="/movement-chain-docs/" hreflang="zh">
        
          <link rel="alternate" href="/movement-chain-docs/en/" hreflang="en">
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>2025-12 关键决策 - Movement Chain AI Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#202512" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Movement Chain AI Documentation" class="md-header__button md-logo" aria-label="Movement Chain AI Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Movement Chain AI Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2025-12 关键决策
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="选择当前语言">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/movement-chain-docs/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/movement-chain-docs/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/movement-chain-ai/movement-chain-docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    movement-chain-ai/movement-chain-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../prerequisites/" class="md-tabs__link">
          
  
  
  前置知识

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../business-plan/" class="md-tabs__link">
          
  
  
  商业计划

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  技术设计

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../components/" class="md-tabs__link">
          
  
  
  硬件组件

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../development/" class="md-tabs__link">
          
  
  
  开发指南

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/" class="md-tabs__link">
          
  
  
  参考资料与术语

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Movement Chain AI Documentation" class="md-nav__button md-logo" aria-label="Movement Chain AI Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Movement Chain AI Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/movement-chain-ai/movement-chain-docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    movement-chain-ai/movement-chain-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    首页
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    前置知识
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    前置知识
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    高尔夫生物力学基础
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    高尔夫生物力学基础
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prerequisites/foundations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prerequisites/foundations/biomechanics-101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    入门教程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prerequisites/foundations/biomechanics-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    术语表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prerequisites/foundations/biomechanics-benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    基准值
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prerequisites/signal-processing-101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    信号处理入门
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../prerequisites/ml-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ML 基础
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    商业计划
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    商业计划
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    市场洞察
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    市场洞察
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/market-insights/market-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    市场分析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/market-insights/pain-points/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    市场痛点
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/market-insights/user-personas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    用户画像
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    竞品分析
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    竞品分析
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/market-insights/competitors/imu-based/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IMU 方案竞品分析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/market-insights/competitors/vision-based/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    视觉方案竞品分析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/market-insights/competitors/multi-sensor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    多传感器方案竞品分析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/market-insights/competitors/smart-clothing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    智能服装竞品分析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    商业模式
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    商业模式
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/business-model/business-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    商业模式画布（待补充）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/business-model/pricing-strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    定价策略（待补充）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/business-model/unit-economics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    单位经济学
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    进入市场
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    进入市场
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/go-to-market/entry-strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    进入策略
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/go-to-market/channel-strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    渠道策略（待补充）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/go-to-market/market-timing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    市场时机（待补充）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    产品战略
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    产品战略
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/product-strategy/strategic-vision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    战略愿景
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/product-strategy/product-strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    核心决策
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    合规与风险
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    合规与风险
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/compliance-risk/risk-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    风险管理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/compliance-risk/regulatory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    法规与合规（待补充）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/compliance-risk/ip-strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    知识产权（待补充）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business-plan/exit-strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    退出策略（待补充）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    技术设计
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    技术设计
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    架构设计
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    架构设计
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/system-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    系统架构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/modular-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    模块化设计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/mvp-plan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MVP 开发计划
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/data-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数据流
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/sensor-data-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数据处理与指标计算
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    产品设计
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    产品设计
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/three-product-versions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    三种产品版本
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/eight-swing-phases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    八个挥杆阶段
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/four-comparison-methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    四种对比基准
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_5" >
        
          
          <label class="md-nav__link" for="__nav_4_3_5" id="__nav_4_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    四种使用模式
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    四种使用模式
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/modes/assessment-mode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    评估模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/modes/drill-mode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    练习模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/modes/guide-mode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    引导模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/modes/game-mode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    实战模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/three-feedback-channels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    三个反馈通道
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs/user-profile-thresholds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    用户信息和阈值调整
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    技术决策
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    技术决策
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0001-multi-repo-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0001 多仓库结构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0002-lsm6dsv16x-imu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0002 IMU 传感器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0005-esp32-s3-microcontroller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0005 ESP32-S3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0007-swift-ios-native/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0007 Swift iOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0008-desktop-to-mobile-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-0008 Desktop→Mobile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdk-selection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SDK/库选型
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualization-tools-evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    可视化工具
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    2025-12 关键决策
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    2025-12 关键决策
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 架构决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 架构决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-六边形架构-hexagonal-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 六边形架构 (Hexagonal Architecture)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-onnx-runtime-延迟引入" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 ONNX Runtime 延迟引入
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-caddieset-研究验证" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 CaddieSet 研究证明架构方向正确
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.3 CaddieSet 研究证明架构方向正确">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        研究结论
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        为什么会这样？
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movement-chain-ai" class="md-nav__link">
    <span class="md-ellipsis">
      
        对 Movement Chain AI 的意义
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 语言与工具链决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 语言与工具链决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-python-rust-混合策略" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Python + Rust-backed SDKs 混合策略
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1 Python + Rust-backed SDKs 混合策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-rust" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.1 常见问题：需要自己写 Rust 吗？
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-uv-替代-poetry" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 UV 替代 Poetry
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-polars-替代-pandas" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Polars 替代 Pandas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. SDK 依赖决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. SDK 依赖决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-mvp1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 MVP1 精简依赖列表
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 依赖用途详解
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-phase-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 移除的依赖 (Phase 2+ 引入)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 硬件与固件决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 硬件与固件决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-firmware-arduino" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Firmware 和 Arduino
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-mock" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Mock 数据策略 ✅ 已有完整文档
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-硬件购买清单" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 硬件购买清单
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 硬件购买清单">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sensor-hub" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sensor Hub 架构 (推荐)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definitive-wiring-map" class="md-nav__link">
    <span class="md-ellipsis">
      
        🔌 确定性接线图 (Definitive Wiring Map)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#critical-hardware-warnings" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚨 关键硬件警告 (Critical Hardware Warnings)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-full-us-shopping-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        🇺🇸 美国购买清单 - 完整版 (Full US Shopping List)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phased-purchase" class="md-nav__link">
    <span class="md-ellipsis">
      
        🧪 分阶段购买建议 (Phased Purchase)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cny-" class="md-nav__link">
    <span class="md-ellipsis">
      
        🇨🇳 中国购买清单 (CNY) - 更新版
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        🆚 完整替代方案对比 (工程师评审)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spec-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        规格验证表 (Spec Verification)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 数据传输流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-视频与传感器同步方案" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 视频与传感器同步方案
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5 视频与传感器同步方案">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ble-2025-12" class="md-nav__link">
    <span class="md-ellipsis">
      
        ⚠️ BLE 时间抖动问题 (2025-12 研究验证)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#esp32-impact" class="md-nav__link">
    <span class="md-ellipsis">
      
        ✅ 正确同步方法: ESP32 源端时间戳 + Impact 对齐
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        精度分析
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-unit-sync-topology-2025-12-23" class="md-nav__link">
    <span class="md-ellipsis">
      
        多单元时间同步拓扑 (Multi-Unit Sync Topology) ✅ 2025-12-23
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 部署策略决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 部署策略决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-aws" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 本地优先 → AWS 云端
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-aws-vs-cloudflare-workers" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 AWS vs Cloudflare Workers 对比
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-mvp1" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. MVP1 成功标准
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. MVP1 成功标准">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 核心验证点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-mvp1" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 不在 MVP1 范围
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. 多仓库详细职责
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. 多仓库详细职责">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-movement-chain-ml-python" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 movement-chain-ml (Python)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-movement-chain-firmware-cplatformio" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 movement-chain-firmware (C++/PlatformIO)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-movement-chain-mobile-ios-swift" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 movement-chain-mobile-ios (Swift)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-movement-chain-hardware-kicad" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 movement-chain-hardware (KiCad)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75-movement-chain-ai-docs" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.5 movement-chain-ai-docs (这个仓库)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#76" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.6 仓库优先级总结
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#77-shared-contracts" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.7 共享契约 (Shared Contracts)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-action-items" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. 行动项目 (Action Items)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. 行动项目 (Action Items)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        🔴 高优先级
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        🟡 中优先级
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        🟢 备注
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. 相关文档
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    竞品研究
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    竞品研究
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../research/competitor-metrics-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    竞品指标对比
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    硬件组件
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    硬件组件
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    IMU 惯性测量
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    IMU 惯性测量
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/imu/hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IMU 惯性测量单元
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/imu/suppliers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IMU 供应商大全
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    EMG 肌电传感
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    EMG 肌电传感
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/emg/hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EMG 肌电传感器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/emg/suppliers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EMG 供应商大全
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    视觉/摄像头
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    视觉/摄像头
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/vision/hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    视觉/摄像头传感器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/vision/software/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pose Estimation 姿态估计与计算机视觉指南
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    MCU 微控制器
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    MCU 微控制器
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/mcu/hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCU 微控制器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/mcu/suppliers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCU 供应商大全
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    柔性传感器
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    柔性传感器
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/flexible-sensors/hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    柔性/E-Skin 传感器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/flexible-sensors/suppliers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    柔性传感器供应商大全
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    压力传感器
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    压力传感器
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/pressure-sensors/hardware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    压力传感器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/pressure-sensors/suppliers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    压力传感器供应商大全
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    供应链与 ODM/OEM
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    供应链与 ODM/OEM
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/supply-chain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/supply-chain/china-sensors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    国内传感器供应商清单 (China Domestic Sensor Suppliers)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/supply-chain/china-wearables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    中国智能服装与可穿戴设备供应商大全
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/supply-chain/mvp-suppliers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    中国供应商快速 MVP 开发指南 - 高尔夫挥杆分析可穿戴设备
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/supply-chain/smart-clothing-market/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    中国智能运动服装与可穿戴设备市场调研报告
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../components/supply-chain/e-skin-odm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    E-Skin ODM/OEM 厂商研究
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    开发指南
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    开发指南
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    移动应用
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    移动应用
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/mobile/development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mobile App Development Guide 移动应用开发指南
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ML 训练
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    ML 训练
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/ml-training/datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Datasets &amp; Benchmarking Guide 数据集与基准测试指南
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/ml-training/visual-feedback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visual Feedback Design 视觉反馈设计指南
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI 辅助开发
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI 辅助开发
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/ai-assistant/agent-sdk-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent SDK 指南
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    参考资料与术语
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    参考资料与术语
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/golf-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    高尔夫术语表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/physics-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    物理学术语表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/engineering-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    工程术语表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/software-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    软件架构术语表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/ml-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    机器学习术语表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/business-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    商业术语表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/academic-datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    运动训练系统的学术研究与数据集 (Academic Research &amp; Datasets for Movement Training Systems)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/golf-research/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    高尔夫生物力学研究 (Golf Biomechanics Research)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/open-source-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    开源工具与代码库 (Open Source Tools &amp; Repositories)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/semg-research-2024-2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sEMG 研究报告 (2024-2025)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 架构决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 架构决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-六边形架构-hexagonal-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 六边形架构 (Hexagonal Architecture)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-onnx-runtime-延迟引入" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 ONNX Runtime 延迟引入
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-caddieset-研究验证" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 CaddieSet 研究证明架构方向正确
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.3 CaddieSet 研究证明架构方向正确">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        研究结论
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        为什么会这样？
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movement-chain-ai" class="md-nav__link">
    <span class="md-ellipsis">
      
        对 Movement Chain AI 的意义
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 语言与工具链决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 语言与工具链决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-python-rust-混合策略" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Python + Rust-backed SDKs 混合策略
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1 Python + Rust-backed SDKs 混合策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-rust" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.1 常见问题：需要自己写 Rust 吗？
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-uv-替代-poetry" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 UV 替代 Poetry
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-polars-替代-pandas" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Polars 替代 Pandas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. SDK 依赖决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. SDK 依赖决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-mvp1" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 MVP1 精简依赖列表
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 依赖用途详解
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-phase-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 移除的依赖 (Phase 2+ 引入)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 硬件与固件决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 硬件与固件决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-firmware-arduino" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Firmware 和 Arduino
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-mock" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Mock 数据策略 ✅ 已有完整文档
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-硬件购买清单" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 硬件购买清单
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 硬件购买清单">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sensor-hub" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sensor Hub 架构 (推荐)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definitive-wiring-map" class="md-nav__link">
    <span class="md-ellipsis">
      
        🔌 确定性接线图 (Definitive Wiring Map)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#critical-hardware-warnings" class="md-nav__link">
    <span class="md-ellipsis">
      
        🚨 关键硬件警告 (Critical Hardware Warnings)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-full-us-shopping-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        🇺🇸 美国购买清单 - 完整版 (Full US Shopping List)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phased-purchase" class="md-nav__link">
    <span class="md-ellipsis">
      
        🧪 分阶段购买建议 (Phased Purchase)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cny-" class="md-nav__link">
    <span class="md-ellipsis">
      
        🇨🇳 中国购买清单 (CNY) - 更新版
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        🆚 完整替代方案对比 (工程师评审)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spec-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        规格验证表 (Spec Verification)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.4 数据传输流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-视频与传感器同步方案" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.5 视频与传感器同步方案
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5 视频与传感器同步方案">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ble-2025-12" class="md-nav__link">
    <span class="md-ellipsis">
      
        ⚠️ BLE 时间抖动问题 (2025-12 研究验证)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#esp32-impact" class="md-nav__link">
    <span class="md-ellipsis">
      
        ✅ 正确同步方法: ESP32 源端时间戳 + Impact 对齐
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        精度分析
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-unit-sync-topology-2025-12-23" class="md-nav__link">
    <span class="md-ellipsis">
      
        多单元时间同步拓扑 (Multi-Unit Sync Topology) ✅ 2025-12-23
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 部署策略决策
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 部署策略决策">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-aws" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 本地优先 → AWS 云端
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-aws-vs-cloudflare-workers" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 AWS vs Cloudflare Workers 对比
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-mvp1" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. MVP1 成功标准
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. MVP1 成功标准">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 核心验证点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-mvp1" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 不在 MVP1 范围
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. 多仓库详细职责
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. 多仓库详细职责">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-movement-chain-ml-python" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 movement-chain-ml (Python)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-movement-chain-firmware-cplatformio" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 movement-chain-firmware (C++/PlatformIO)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-movement-chain-mobile-ios-swift" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 movement-chain-mobile-ios (Swift)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-movement-chain-hardware-kicad" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 movement-chain-hardware (KiCad)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75-movement-chain-ai-docs" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.5 movement-chain-ai-docs (这个仓库)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#76" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.6 仓库优先级总结
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#77-shared-contracts" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.7 共享契约 (Shared Contracts)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-action-items" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. 行动项目 (Action Items)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. 行动项目 (Action Items)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        🔴 高优先级
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        🟡 中优先级
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        🟢 备注
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. 相关文档
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="202512">2025年12月关键技术决策<a class="headerlink" href="#202512" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>文档目的</strong>: 记录 Movement Chain AI MVP 开发过程中的关键技术决策</p>
<p><strong>决策日期</strong>: 2025年12月22日</p>
<p><strong>验证方法</strong>: 2025 最新实践交叉验证 (Web Research + Gemini Cross-validation)</p>
</blockquote>
<hr />
<h2 id="1">1. 架构决策<a class="headerlink" href="#1" title="Permanent link">&para;</a></h2>
<h3 id="11-六边形架构-hexagonal-architecture">1.1 <a href="../../../reference/software-glossary/#1-六边形架构-hexagonal-architecture">六边形架构</a> (Hexagonal Architecture)<a class="headerlink" href="#11-六边形架构-hexagonal-architecture" title="Permanent link">&para;</a></h3>
<p><strong>决策</strong>: 采用六边形架构 (Ports &amp; Adapters) 作为长期架构模式</p>
<p><strong>决策背景</strong>:</p>
<p>初步建议是 MVP 阶段使用简单分层架构，但经过深入讨论后确认：<strong>即使是 MVP，也应该考虑长期演进</strong>。传感器融合系统的核心需求是可替换性 (Mock → Real hardware)，这正是六边形架构的核心优势。</p>
<p><strong>为什么六边形架构适合传感器融合系统</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>│           六边形架构适配传感器融合系统的原因 WHY HEXAGONAL FITS                   │
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>│                                                                             │
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>│   1. 传感器可替换性 (SENSOR SWAPPABILITY)                                      │
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>│      ─────────────────────────────────────                                  │
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>│      Mock IMU JSON  ←→  Real LSM6DSV16X                                     │
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>│      Mock EMG JSON  ←→  Real DFRobot EMG                                    │
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>│      → 适配器模式天然支持，无需重构核心逻辑                                       │
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>│                                                                             │
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>│   2. 测试隔离 (TEST ISOLATION)                                                │
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>│      ─────────────────────────────────────                                  │
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>│      核心融合逻辑独立于：                                                       │
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>│      • 硬件可用性 (Mock 数据测试)                                              │
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>│      • 网络状态 (离线优先)                                                     │
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>│      • 平台差异 (iOS/Android 适配器)                                           │
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>│                                                                             │
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>│   3. 渐进式升级 (PROGRESSIVE UPGRADE)                                         │
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>│      ─────────────────────────────────────                                  │
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>│      Phase 1: MediaPipe adapter                                             │
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>│      Phase 2: RTMPose adapter (更高精度)                                      │
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>│      Phase 3: Custom model adapter                                          │
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>│      → 核心不变，只换适配器                                                     │
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>│                                                                             │
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>│   4. 2025 行业趋势验证                                                        │
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>│      ─────────────────────────────────────                                  │
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>│      Clean Architecture / Hexagonal 是 ML 系统的 2025 最佳实践                 │
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>│      Google, Meta, Uber 的 ML 平台都采用类似模式                                │
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>│                                                                             │
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<p><strong>现有设计对应关系</strong> (75% 已对齐):</p>
<table>
<thead>
<tr>
<th>LEGO Block 术语</th>
<th>六边形架构术语</th>
<th>对应位置</th>
</tr>
</thead>
<tbody>
<tr>
<td>Block Interface Contracts (§2.6)</td>
<td><strong>Ports</strong> (接口契约)</td>
<td>抽象接口定义</td>
</tr>
<tr>
<td>POSE/IMU/EMG Blocks</td>
<td><strong>Adapters</strong> (适配器)</td>
<td>可替换实现</td>
</tr>
<tr>
<td>FUSION Block</td>
<td><strong>Application Core</strong> (核心逻辑)</td>
<td>领域服务</td>
</tr>
<tr>
<td>Mock JSON data</td>
<td><strong>Test Adapters</strong> (测试适配器)</td>
<td>测试替身</td>
</tr>
</tbody>
</table>
<p><strong>结论</strong>: 现有 LEGO Block 设计<strong>本质上已是六边形架构</strong>，只是使用不同术语。无需重构，只需统一命名。</p>
<p><strong>推荐目录结构</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>movement-chain-ml/
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>├── src/movement_chain/
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>│   ├── core/                    # APPLICATION CORE (领域核心)
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>│   │   ├── entities/            # Pydantic 模型 (Port 数据契约)
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>│   │   │   ├── pose.py          # PoseResult, VideoFrame
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>│   │   │   ├── imu.py           # IMUFeatures, RawIMU
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>│   │   │   ├── emg.py           # EMGFeatures, RawEMG
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>│   │   │   └── fusion.py        # FusionResult, Anomaly
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>│   │   ├── ports/               # 抽象接口定义 (Port 接口)
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>│   │   │   ├── pose_port.py     # ABC: PoseEstimator
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>│   │   │   ├── imu_port.py      # ABC: IMUProcessor
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>│   │   │   └── emg_port.py      # ABC: EMGProcessor
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>│   │   └── services/            # 业务逻辑服务
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>│   │       ├── fusion_service.py    # 三模态融合
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>│   │       ├── phase_detector.py    # 阶段检测
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>│   │       └── rule_engine.py       # 诊断规则
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>│   └── adapters/                # ADAPTERS (可替换实现)
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>│       ├── vision/
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>│       │   ├── mediapipe_adapter.py  # MVP: MediaPipe
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>│       │   └── rtmpose_adapter.py    # Phase 2: RTMPose
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>│       ├── imu/
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>│       │   ├── mock_imu_adapter.py   # MVP: JSON 模拟
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>│       │   └── lsm6dsv_adapter.py    # Phase 2: 真实硬件
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>│       └── emg/
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>│           ├── mock_emg_adapter.py   # MVP: JSON 模拟
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>│           └── dfrobot_adapter.py    # Phase 2: 真实硬件
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>├── mock_data/                   # 测试用模拟数据
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>│   ├── correct_swing.json       # 正确挥杆数据
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>│   ├── arms_first.json          # 手臂先动错误
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>│   └── false_coil.json          # 假性蓄力错误
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>└── tests/
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>    ├── unit/                    # 核心逻辑单元测试
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    └── integration/             # 适配器集成测试
</span></code></pre></div>
<hr />
<h3 id="12-onnx-runtime-延迟引入">1.2 ONNX Runtime 延迟引入<a class="headerlink" href="#12-onnx-runtime-延迟引入" title="Permanent link">&para;</a></h3>
<p><strong>关键发现</strong>: MediaPipe 自带 <a href="../../../reference/ml-glossary/#2-tflite-tensorflow-lite">TFLite</a>推理引擎 ，ONNX Runtime 对于 MVP1 是<strong>冗余的</strong></p>
<p><strong>技术分析</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>│                    ONNX vs TFLite 分析              │
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>│                                                                             │
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>│   MediaPipe 内部架构:                                                        │
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>│   MediaPipe Pose                                                            │
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>│       └── BlazePose Model                                                   │
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>│           └── TFLite Runtime (内置)  ← 无需额外推理引擎!                        │
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>│                                                                             │
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>│   原计划 vs 新发现:                                                           │
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>│   原计划: MediaPipe → 转换 → ONNX Runtime → 推理                               │
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>│   新发现: MediaPipe → TFLite (内置) → 直接推理 ✅                              │
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>│                                                                             │
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>│   ONNX 仍然需要的场景:                                                        │
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>│   • RTMPose 部署 (PyTorch → ONNX)                                            │
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>│   • 自定义高尔夫模型 (训练后转换)                                               │
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>│   • 跨平台统一推理 (Web/iOS/Android)                                          │
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>│                                                                             │
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<p><strong>阶段性策略</strong>:</p>
<table>
<thead>
<tr>
<th>阶段</th>
<th>推理引擎</th>
<th>模型</th>
<th>原因</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MVP1</strong></td>
<td>TFLite (MediaPipe 内置)</td>
<td>BlazePose</td>
<td>开箱即用，零配置</td>
</tr>
<tr>
<td><strong>Phase 2</strong></td>
<td>ONNX Runtime</td>
<td>RTMPose</td>
<td>更高精度 (AP 75.8% vs 65%)</td>
</tr>
<tr>
<td><strong>Phase 3</strong></td>
<td>ONNX Runtime</td>
<td>自定义模型</td>
<td>高尔夫特化训练</td>
</tr>
</tbody>
</table>
<p><strong>依赖影响</strong>:</p>
<div class="language-diff highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a># MVP1 pyproject.toml
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="gd">- &quot;onnxruntime&gt;=1.19.0&quot;,    # 移除 - MediaPipe 自带 TFLite</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="gi">+ # ONNX 延迟到 Phase 2 引入</span>
</span></code></pre></div>
<hr />
<h3 id="13-caddieset-研究验证">1.3 CaddieSet 研究证明架构方向正确<a class="headerlink" href="#13-caddieset-研究验证" title="Permanent link">&para;</a></h3>
<p><strong>CaddieSet</strong> 是发表在 CVPR 2025（计算机视觉顶级会议）的高尔夫挥杆分析研究。研究者对比了两种技术路线：</p>
<table>
<thead>
<tr>
<th>技术路线</th>
<th>方法</th>
<th>代表模型</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>特征工程 + 传统 ML</strong></td>
<td>先用姿态估计提取关键点，再计算生物力学特征（转肩角、节奏比），最后用简单模型分类</td>
<td>Random Forest, XGBoost</td>
</tr>
<tr>
<td><strong>端到端深度学习</strong></td>
<td>直接把原始视频喂给神经网络，让模型自己学习</td>
<td>Vision Transformer, MobileNet</td>
</tr>
</tbody>
</table>
<h4 id="_1">研究结论<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h4>
<p><strong>出乎意料的发现：传统方法完胜深度学习！</strong></p>
<table>
<thead>
<tr>
<th>模型</th>
<th>技术路线</th>
<th>球速预测 MSE</th>
<th>评价</th>
</tr>
</thead>
<tbody>
<tr>
<td>Random Forest</td>
<td>特征工程 + ML</td>
<td><strong>8.80</strong></td>
<td>✅ 最佳</td>
</tr>
<tr>
<td>XGBoost</td>
<td>特征工程 + ML</td>
<td>10.15</td>
<td>✅ 优秀</td>
</tr>
<tr>
<td>Vision Transformer</td>
<td>端到端 DL</td>
<td>28.41</td>
<td>❌ 差 3 倍</td>
</tr>
<tr>
<td>MobileNet V3</td>
<td>端到端 DL</td>
<td>32.32</td>
<td>❌ 差 4 倍</td>
</tr>
</tbody>
</table>
<blockquote>
<p>📖 <strong>备注</strong>: <a href="../../../reference/ml-glossary/#4-mse-均方误差">MSE (Mean Squared Error)</a> — 预测误差的平方均值，越小越好。</p>
</blockquote>
<h4 id="_2">为什么会这样？<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<p>高尔夫挥杆是<strong>生物力学约束运动</strong>——动作受人体结构限制，有明确的物理规律：</p>
<ul>
<li><strong>转肩角度</strong>决定蓄力程度</li>
<li><strong>髋肩分离</strong>反映运动链效率</li>
<li><strong>节奏比 3:1</strong> 是职业球手的共同特征</li>
</ul>
<p>这些<strong>领域知识特征</strong>比让神经网络从像素中自己学习更有效。</p>
<h4 id="movement-chain-ai">对 Movement Chain AI 的意义<a class="headerlink" href="#movement-chain-ai" title="Permanent link">&para;</a></h4>
<p>这验证了我们的技术架构是<strong>科学正确的</strong>：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>Movement Chain AI 架构（与 CaddieSet 研究一致）：
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>视频 → MediaPipe 姿态估计 → 提取生物力学特征 → 规则引擎诊断
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>       (33 关键点)       (X-Factor, Tempo)  (可解释的反馈)
</span></code></pre></div>
<p><strong>好处：</strong></p>
<table>
<thead>
<tr>
<th>优势</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>开发简单</strong></td>
<td>不需要大量训练数据和 GPU 算力</td>
</tr>
<tr>
<td><strong>可解释性强</strong></td>
<td>用户能理解"你的转肩角度不足 15°"</td>
</tr>
<tr>
<td><strong>MVP 可行</strong></td>
<td>MediaPipe 开箱即用，规则引擎易于迭代</td>
</tr>
<tr>
<td><strong>学术背书</strong></td>
<td>CVPR 2025 论文证明这条路是对的</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2">2. 语言与工具链决策<a class="headerlink" href="#2" title="Permanent link">&para;</a></h2>
<h3 id="21-python-rust-混合策略">2.1 Python + Rust-backed SDKs 混合策略<a class="headerlink" href="#21-python-rust-混合策略" title="Permanent link">&para;</a></h3>
<p><strong>决策背景</strong>:</p>
<p>在 2025 最新实践调研中，<a href="../../../reference/software-glossary/#2-rust">Rust</a> 频繁出现在高性能 ML 系统讨论中。</p>
<p>需要回答的问题：当前 Python 开发，<strong>未来是否需要用 Rust 重写核心逻辑来提升性能</strong>？</p>
<p>答案：<strong>MVP 阶段不需要</strong>——我们使用的 SDK（MediaPipe、ONNX Runtime）底层已经是 C++/Rust 实现，性能瓶颈已被解决。只有当 Python 业务代码本身成为瓶颈时才需要考虑重写，这在 MVP 阶段不太可能发生。</p>
<p><strong>分析结论</strong>: <strong>Python + <a href="../../../reference/software-glossary/#3-rust-backed-sdks">Rust-backed SDKs</a></strong> 是最佳策略</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>│                    Python vs Rust                                           │
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>│                                                                             │
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>│   纯 Rust 方案:                                                              │
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>│   优点:                                                                      │
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>│   • 极致性能 (无 GC, 零成本抽象)                                               │
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>│   • 内存安全 (编译期检查)                                                      │
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>│   • 单二进制部署                                                              │
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>│   缺点:                                                                      │
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>│   • 学习曲线陡峭 (6-12 个月精通)                                               │
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>│   • ML 生态不成熟 (MediaPipe 无 Rust 绑定)                                     │
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>│   • 迭代速度慢 (编译时间 + 类型系统)                                            │
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>│   • LLM 集成困难 (Python SDK 为主)                                            │
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>│                                                                             │
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>│   纯 Python 方案:                                                            │
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>│   优点:                                                                      │
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>│   • 快速迭代 (动态类型, REPL)                                                  │
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>│   • ML 生态最成熟 (MediaPipe, TensorFlow, PyTorch)                            │
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>│   • LLM 集成简单 (所有主流 SDK)                                                │
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>│   缺点:                                                                      │
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>│   • 性能瓶颈 (GIL, 解释执行)                                                   │
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>│   • 内存效率差 (pandas DataFrame 尤其)                                         │
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>│                                                                             │
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>│   混合策略 (我们的选择):                                                       │
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>│   Python 层 (高层编排 + 快速迭代):                                             │
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>│   • MediaPipe API 调用                                                       │
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>│   • 传感器数据编排                                                            │
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>│   • 规则引擎逻辑                                                              │
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>│   • LLM 集成 (Phase 2)                                                       │
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>│   • 业务逻辑快速迭代                                                           │
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>│                                                                             │
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a>│   Rust-backed 层 (底层性能 + 零学习成本):                                       │
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>│   • polars      → 时序数据处理 (比 pandas 快 10-50x)                           │
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>│   • imufusion   → IMU 传感器融合算法 (C++ 核心)                                │
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>│   • pydantic v2 → 数据验证 (Rust 核心, 比 v1 快 5-50x)                         │
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>│   • UV          → 包管理 (比 pip 快 10-100x)                                  │
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a>│   • orjson      → JSON 序列化 (比 stdlib 快 10x)                              │
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>│                                                                             │
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a>│   ⚡ 结论: 获得 Rust 性能，保持 Python 生态和迭代速度                              │
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>│                                                                             │
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<p><strong>Rust-backed Python 库清单</strong>:</p>
<table>
<thead>
<tr>
<th>库</th>
<th>Rust 组件</th>
<th>性能提升</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>polars</strong></td>
<td>100% Rust 核心</td>
<td>10-50x vs pandas</td>
<td>时序数据处理</td>
</tr>
<tr>
<td><strong>pydantic v2</strong></td>
<td>Rust 验证核心</td>
<td>5-50x vs v1</td>
<td>数据契约验证</td>
</tr>
<tr>
<td><strong>UV</strong></td>
<td>100% Rust</td>
<td>10-100x vs pip</td>
<td>包管理</td>
</tr>
<tr>
<td><strong>orjson</strong></td>
<td>Rust JSON</td>
<td>10x vs json</td>
<td>JSON 序列化</td>
</tr>
<tr>
<td><strong>imufusion</strong></td>
<td>C++ 核心</td>
<td>Native</td>
<td>IMU 融合算法</td>
</tr>
</tbody>
</table>
<h4 id="211-rust">2.1.1 常见问题：需要自己写 Rust 吗？<a class="headerlink" href="#211-rust" title="Permanent link">&para;</a></h4>
<p><strong>答案: 不需要</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>│                    Python + Rust-backed 策略解释                             │
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>│                                                                             │
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>│   你写的代码 (Python):          底层实现 (你不需要碰):                           │
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>│   ───────────────────────────   ─────────────────────────────               │
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>│   from imufusion import Ahrs    → C++ 实现 (Sebastian Madgwick)              │
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>│   import polars as pl           → Rust 实现 (Ritchie Vink)                   │
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>│   from pydantic import ...      → Rust 核心 (Pydantic v2)                    │
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>│   uv sync                       → Rust 实现 (Astral)                         │
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>│                                                                             │
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>│   2025 行业最佳实践:                                                          │
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>│   &quot;Train in Python, Deploy with Rust-backed libraries&quot;                      │
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>│   • 原型/迭代: Python (快速开发)                                               │
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>│   • 生产性能: Rust 在底层 (10-100x 加速)                                       │
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>│   • 你只需写 Python，Rust 优化是库作者的事                                       │
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>│                                                                             │
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>│   唯一可能需要 Rust 的场景 (Phase 3+):                                         │
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>│   • 自定义超高性能 BLE 协议解析器                                               │
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>│   • 100万+ 用户的超大规模数据处理                                               │
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>│   → 即使那时也可以雇专人或继续用 Rust-backed 库                                  │
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>│                                                                             │
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<hr />
<h3 id="22-uv-替代-poetry">2.2 UV 替代 Poetry<a class="headerlink" href="#22-uv-替代-poetry" title="Permanent link">&para;</a></h3>
<p><strong>决策</strong>: 使用 UV 作为 Python <a href="../../../reference/software-glossary/#4-包管理器-package-manager">包管理器</a></p>
<p><strong>2025 趋势验证</strong>:</p>
<table>
<thead>
<tr>
<th>维度</th>
<th>UV</th>
<th>Poetry</th>
<th>pip</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>安装速度</strong></td>
<td>10-100x faster</td>
<td>基准</td>
<td>最慢</td>
</tr>
<tr>
<td><strong>锁文件</strong></td>
<td>✅ 兼容 pip/poetry</td>
<td>✅ 原生</td>
<td>❌ 需手动</td>
</tr>
<tr>
<td><strong>Rust 实现</strong></td>
<td>✅ 100% Rust</td>
<td>❌ Python</td>
<td>❌ Python</td>
</tr>
<tr>
<td><strong>2025 采用率</strong></td>
<td>⬆️ 快速增长</td>
<td>➡️ 稳定</td>
<td>⬇️ 逐渐被替代</td>
</tr>
<tr>
<td><strong>Astral 支持</strong></td>
<td>✅ Ruff 同公司</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p><strong>实际体验对比</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Poetry 安装依赖 (典型时间)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>poetry<span class="w"> </span>install<span class="w">  </span><span class="c1"># 45-120 秒</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1"># UV 安装依赖 (典型时间)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>uv<span class="w"> </span>sync<span class="w">         </span><span class="c1"># 2-5 秒  ← 20x+ 提升</span>
</span></code></pre></div>
<p><strong>项目初始化</strong>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># 安装 UV (一次性)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>curl<span class="w"> </span>-LsSf<span class="w"> </span>https://astral.sh/uv/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># 创建项目</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>uv<span class="w"> </span>init<span class="w"> </span>movement-chain-ml
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="nb">cd</span><span class="w"> </span>movement-chain-ml
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="c1"># 添加依赖 (自动解析、锁定、安装)</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>uv<span class="w"> </span>add<span class="w"> </span>mediapipe<span class="w"> </span>opencv-python<span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w"> </span>polars<span class="w"> </span>pydantic<span class="w"> </span>rerun-sdk<span class="w"> </span>imufusion<span class="w"> </span>neurokit2
</span></code></pre></div>
<hr />
<h3 id="23-polars-替代-pandas">2.3 Polars 替代 Pandas<a class="headerlink" href="#23-polars-替代-pandas" title="Permanent link">&para;</a></h3>
<p><strong>决策</strong>: 使用 <a href="../../../reference/software-glossary/#5-polars">Polars</a> 处理时序传感器数据</p>
<p><strong>为什么 Polars 更适合传感器数据</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>│                    Polars vs Pandas 传感器数据处理对比                         │
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>│                                                                             │
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>│   语法一致性 (Polars 优势):                                                    │
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>│   Pandas 混乱:                                                               │
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>│   df[&#39;col&#39;]           # 返回 Series                                          │
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>│   df[[&#39;col&#39;]]         # 返回 DataFrame                                       │
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>│   df.loc[0]           # 按标签                                               │
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>│   df.iloc[0]          # 按位置                                               │
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>│   df.col              # 属性访问 (不推荐)                                      │
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>│                                                                             │
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>│   Polars 一致:                                                               │
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>│   df.select(&quot;col&quot;)              # 始终链式                                   │
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>│   df.filter(pl.col(&quot;x&quot;) &gt; 0)    # 表达式 API                                 │
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>│   df.with_columns(...)          # 添加列                                     │
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>│   → 一种模式，减少心智负担                                                      │
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>│                                                                             │
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>│   时序处理 (传感器关键需求):                                                    │
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>│   • 滑动窗口: .rolling_mean(), .rolling_std()                                │
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>│   • 重采样: .group_by_dynamic()                                              │
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a>│   • 插值: .interpolate()                                                     │
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>│   → Polars 原生支持，无需额外扩展                                               │
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>│                                                                             │
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a>│   性能对比 (1M 行 IMU 数据):                                                   │
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a>│   操作                    Pandas      Polars      提升                       │
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a>│   读取 parquet            1.2s        0.08s       15x                        │
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a>│   滑动窗口均值             0.8s        0.05s       16x                        │
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a>│   分组聚合                0.5s        0.03s       17x                        │
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a>│   峰值检测                0.3s        0.02s       15x                         │
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a>│                                                                             │
</span><span id="__span-9-35"><a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<p><strong>传感器数据处理示例</strong>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="c1"># 读取 IMU 数据</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="n">imu_df</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="s2">&quot;imu_data.parquet&quot;</span><span class="p">)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="c1"># 时序处理管道 (链式、可读、高效)</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>    <span class="n">imu_df</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>    <span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s2">&quot;timestamp_ms&quot;</span><span class="p">)</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>    <span class="c1"># 滑动窗口平滑</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>    <span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>        <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;gyro_z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rolling_mean</span><span class="p">(</span><span class="n">window_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;gyro_z_smooth&quot;</span><span class="p">)</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>    <span class="p">)</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>    <span class="c1"># 找到峰值 (Impact 检测)</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>    <span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>        <span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;gyro_z_smooth&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;gyro_z_smooth&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">())</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;is_peak&quot;</span><span class="p">)</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>    <span class="p">)</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>    <span class="c1"># 按阶段分组统计</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>    <span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="s2">&quot;phase&quot;</span><span class="p">)</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>    <span class="o">.</span><span class="n">agg</span><span class="p">([</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>        <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;gyro_z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;peak_velocity&quot;</span><span class="p">),</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>        <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;timestamp_ms&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;start_ms&quot;</span><span class="p">),</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>        <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;timestamp_ms&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;end_ms&quot;</span><span class="p">),</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>    <span class="p">])</span>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="p">)</span>
</span></code></pre></div>
<hr />
<h2 id="3-sdk">3. SDK 依赖决策<a class="headerlink" href="#3-sdk" title="Permanent link">&para;</a></h2>
<h3 id="31-mvp1">3.1 MVP1 精简依赖列表<a class="headerlink" href="#31-mvp1" title="Permanent link">&para;</a></h3>
<p><strong>设计原则</strong>: 最小依赖集，每个依赖都有明确理由</p>
<p><strong>pyproject.toml</strong>:</p>
<div class="language-toml highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">[project]</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;movement-chain-ml&quot;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0.1.0&quot;</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">requires-python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&gt;=3.11&quot;</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="n">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="c1"># ═══════════════════════════════════════════════════════════════════════</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">    </span><span class="c1"># VISION (姿态估计)</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">    </span><span class="c1"># ═══════════════════════════════════════════════════════════════════════</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="s2">&quot;mediapipe&gt;=0.10.18&quot;</span><span class="p">,</span><span class="w">      </span><span class="c1"># 33 关键点姿态估计 (内置 TFLite)</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">    </span><span class="s2">&quot;opencv-python&gt;=4.10.0&quot;</span><span class="p">,</span><span class="w">   </span><span class="c1"># 视频读取、图像处理</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">    </span><span class="c1"># ═══════════════════════════════════════════════════════════════════════</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">    </span><span class="c1"># SIGNAL PROCESSING (信号处理)</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">    </span><span class="c1"># ═══════════════════════════════════════════════════════════════════════</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">    </span><span class="s2">&quot;numpy&gt;=2.1.0&quot;</span><span class="p">,</span><span class="w">            </span><span class="c1"># 数值计算基础</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">    </span><span class="s2">&quot;scipy&gt;=1.14.0&quot;</span><span class="p">,</span><span class="w">           </span><span class="c1"># 峰值检测、插值、滤波</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">    </span><span class="s2">&quot;neurokit2&gt;=0.2.10&quot;</span><span class="p">,</span><span class="w">       </span><span class="c1"># EMG 信号处理 (包络、onset 检测)</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">    </span><span class="s2">&quot;imufusion&gt;=2.3.0&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1"># IMU 传感器融合 (AHRS, 四元数)</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">    </span><span class="c1"># ═══════════════════════════════════════════════════════════════════════</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">    </span><span class="c1"># DATA HANDLING (数据处理) — Rust-backed</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">    </span><span class="c1"># ═══════════════════════════════════════════════════════════════════════</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">    </span><span class="s2">&quot;polars&gt;=1.17.0&quot;</span><span class="p">,</span><span class="w">          </span><span class="c1"># 时序数据 (替代 pandas, 10-50x 更快)</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">    </span><span class="s2">&quot;pydantic&gt;=2.10.0&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1"># 数据契约验证 (Rust 核心, Port 接口)</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">    </span><span class="c1"># ═══════════════════════════════════════════════════════════════════════</span>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="w">    </span><span class="c1"># VISUALIZATION (可视化调试)</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="w">    </span><span class="c1"># ═══════════════════════════════════════════════════════════════════════</span>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">    </span><span class="s2">&quot;rerun-sdk&gt;=0.21.0&quot;</span><span class="p">,</span><span class="w">       </span><span class="c1"># 多模态时间轴同步可视化</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="p">]</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="k">[build-system]</span>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="n">requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;hatchling&quot;</span><span class="p">]</span>
</span><span id="__span-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="n">build-backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hatchling.build&quot;</span>
</span></code></pre></div>
<h3 id="32">3.2 依赖用途详解<a class="headerlink" href="#32" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>类别</th>
<th>SDK</th>
<th>用途</th>
<th>关键函数</th>
<th>为什么需要</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>VISION</strong></td>
<td>mediapipe</td>
<td>姿态估计</td>
<td><code>solutions.pose.Pose()</code></td>
<td>33 关键点提取</td>
</tr>
<tr>
<td><strong>VISION</strong></td>
<td>opencv-python</td>
<td>视频处理</td>
<td><code>cv2.VideoCapture()</code></td>
<td>读取视频帧</td>
</tr>
<tr>
<td><strong>SIGNAL</strong></td>
<td>numpy</td>
<td>数值计算</td>
<td>向量/矩阵运算</td>
<td>所有计算基础</td>
</tr>
<tr>
<td><strong>SIGNAL</strong></td>
<td>scipy</td>
<td>信号处理</td>
<td><code>signal.find_peaks()</code></td>
<td>IMU 峰值/零交叉检测</td>
</tr>
<tr>
<td><strong>SIGNAL</strong></td>
<td>neurokit2</td>
<td>EMG 处理</td>
<td><code>emg_process()</code></td>
<td>肌电包络、onset 检测</td>
</tr>
<tr>
<td><strong>SIGNAL</strong></td>
<td>imufusion</td>
<td>IMU 融合</td>
<td><code>Ahrs()</code></td>
<td>四元数、姿态估计</td>
</tr>
<tr>
<td><strong>DATA</strong></td>
<td>polars</td>
<td>时序数据</td>
<td>DataFrame 操作</td>
<td>高性能数据处理</td>
</tr>
<tr>
<td><strong>DATA</strong></td>
<td>pydantic</td>
<td>数据验证</td>
<td><code>BaseModel</code></td>
<td>Port 接口契约</td>
</tr>
<tr>
<td><strong>DEBUG</strong></td>
<td>rerun-sdk</td>
<td>可视化</td>
<td><code>rr.log()</code></td>
<td>时间同步验证</td>
</tr>
</tbody>
</table>
<h3 id="33-phase-2">3.3 移除的依赖 (Phase 2+ 引入)<a class="headerlink" href="#33-phase-2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>依赖</th>
<th>移除原因</th>
<th>何时引入</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>onnxruntime</code></td>
<td>MediaPipe 内置 TFLite</td>
<td>RTMPose/自定义模型时</td>
</tr>
<tr>
<td><code>pandas</code></td>
<td>Polars 完全替代</td>
<td>不再需要</td>
</tr>
<tr>
<td><code>fastdtw</code></td>
<td>MVP1 用简单规则对齐</td>
<td>复杂时序对齐时</td>
</tr>
<tr>
<td><code>anthropic</code> / <code>openai</code></td>
<td>Phase 2 <a href="../../../reference/ml-glossary/#5-llm-大语言模型">LLM</a> 功能</td>
<td>自然语言反馈时</td>
</tr>
<tr>
<td><code>fastapi</code></td>
<td>MVP1 无 API 需求</td>
<td>云端部署时</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="4">4. 硬件与固件决策<a class="headerlink" href="#4" title="Permanent link">&para;</a></h2>
<h3 id="41-firmware-arduino">4.1 Firmware 和 Arduino<a class="headerlink" href="#41-firmware-arduino" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>│                                 概念澄清                                     │
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>│                                                                             │
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>│   Firmware (固件):                                                           │
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>│   定义: 运行在微控制器上的软件程序                                               │
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>│   位置: 烧录到 ESP32-S3 的 Flash 中                                           │
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>│   功能: 读取传感器、处理数据、BLE 传输                                           │
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>│                                                                             │
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>│   Arduino:                                                                  │
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>│   定义: 编写固件的开发框架 (不是硬件!)                                           │
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>│   包含:                                                                      │
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>│   • Arduino IDE (开发环境)                                                   │
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a>│   • Arduino Core (HAL 抽象层)                                                │
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>│   • Arduino 库生态 (BLE, I2C, SPI...)                                        │
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a>│                                                                             │
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a>│   关系:                                                                      │
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a>│   Arduino 框架 → 用于编写 → Firmware → 运行在 → ESP32-S3                       │ 
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<p>我们的选择:                                                             <br />
│   ─────────────────────────────────────                                   <br />
│   • 硬件: ESP32-S3 (ADR-0005)                                            <br />
│   • 框架: Arduino Core for ESP32                                         <br />
│   • IDE: PlatformIO (比 Arduino IDE 更专业)                              <br />
│   • 传感器: LSM6DSV16X (ADR-0002), DFRobot EMG   </p>
<h3 id="42-mock">4.2 Mock 数据策略 ✅ 已有完整文档<a class="headerlink" href="#42-mock" title="Permanent link">&para;</a></h3>
<p><strong>现状</strong>: <code>sensor-data-processing.md §8</code> 已包含完整的 Mock 数据生成代码</p>
<table>
<thead>
<tr>
<th>Mock 类型</th>
<th>函数</th>
<th>来源</th>
</tr>
</thead>
<tbody>
<tr>
<td>IMU from Pose</td>
<td><code>simulate_imu_from_pose()</code></td>
<td>MediaPipe 关键点导数</td>
</tr>
<tr>
<td>EMG from Phases</td>
<td><code>simulate_emg_from_phases()</code></td>
<td>阶段时间戳 + 生物力学模式</td>
</tr>
</tbody>
</table>
<p><strong>测试场景</strong>:</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>Mock 模式</th>
<th>预期规则触发</th>
</tr>
</thead>
<tbody>
<tr>
<td>正确挥杆</td>
<td><code>CORRECT</code></td>
<td>无异常</td>
</tr>
<tr>
<td>手臂先动</td>
<td><code>ARMS_FIRST</code></td>
<td><code>ARMS_BEFORE_CORE</code></td>
</tr>
<tr>
<td>假性蓄力</td>
<td><code>FALSE_COIL</code></td>
<td><code>FALSE_COIL</code></td>
</tr>
<tr>
<td>疲劳</td>
<td><code>FATIGUED</code></td>
<td><code>FATIGUE_WARNING</code></td>
</tr>
</tbody>
</table>
<hr />
<h3 id="43-硬件购买清单">4.3 硬件购买清单<a class="headerlink" href="#43-硬件购买清单" title="Permanent link">&para;</a></h3>
<blockquote>
<p><strong>验证方法</strong>: 多 AI 交叉验证 + SparkFun/Adafruit/DigiKey 官网确认 + 实际组装可行性分析
<strong>文档状态</strong>: 工程师评审版 (Engineer Review Ready)</p>
</blockquote>
<h4 id="sensor-hub">Sensor Hub 架构 (推荐)<a class="headerlink" href="#sensor-hub" title="Permanent link">&para;</a></h4>
<blockquote>
<p>📐 <strong>完整架构图与原理</strong>: 见 <a href="../../architecture/modular-architecture/#224-sensor-hub-architecture">模块化设计 §2.2.4</a> (单一权威来源)</p>
</blockquote>
<p><strong>架构要点</strong> (硬件购买需考虑):</p>
<ul>
<li>✅ 3 个 Sensor Hub: 手臂 (Arm)、核心 (Core)、腿部 (Leg)</li>
<li>✅ 每个单元: 1x ESP32 + 1x IMU (I2C) + 1x EMG (ADC)</li>
<li>✅ 同一部位传感器共享 ESP32 时钟 → 微秒级同步</li>
<li>✅ 每个单元都必须有 IMU → 可检测 Impact 事件做跨单元同步</li>
<li>✅ 不同部位用 Impact 瞬间对齐 → 消除 BLE 抖动 (±15-30ms)</li>
</ul>
<h4 id="definitive-wiring-map">🔌 确定性接线图 (Definitive Wiring Map)<a class="headerlink" href="#definitive-wiring-map" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>│                    单 Sensor Hub 接线图 (每个身体部位)                          │
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>│                                                                             │
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>│       [ 3.7V LiPo Battery ]                                                 │
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>│               │                                                             │
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>│               │ (红+ / 黑- 线)                                               │
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>│               v                                                             │
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>│    ┌─────────────────────────┐                                              │
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>│    │ Seeed XIAO ESP32S3      │                                              │
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>│    │ (背面电池焊盘 BAT+/BAT-)  │                                              │
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>│    └──────┬───────────┬──────┘                                              │
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>│           │           │                                                     │
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>│           │           │                                                     │
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>│   I2C Bus │           │ Analog Signal                                       │
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>│ (Data/Clk)│           │ (0 - 3.3V)                                          │
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>│           │           │                                                     │
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>│    ┌──────▼─────┐   ┌─▼──────────────┐                                      │
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>│    │ LSM6DSV16X │   │ MyoWare 2.0    │                                      │
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>│    │   (IMU)    │   │ + Link Shield  │ ← 必须有 Link Shield!                 │
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>│    └────────────┘   └────────────────┘                                      │
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>│                            │                                                │
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a>│                     [ Snap-on 电极 ]                                         │
</span><span id="__span-13-24"><a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a>│                     [   (贴皮肤)   ]                                         │
</span><span id="__span-13-25"><a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>│                                                                             │
</span><span id="__span-13-26"><a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a>│   ═══════════════════════════════════════════════════════════════════════   │
</span><span id="__span-13-27"><a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a>│   详细接线:                                                                  │
</span><span id="__span-13-28"><a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a>│   ═══════════════════════════════════════════════════════════════════════   │
</span><span id="__span-13-29"><a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a>│                                                                             │
</span><span id="__span-13-30"><a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a>│   1. 电源分配 (Power Distribution)                                           │
</span><span id="__span-13-31"><a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a>│      Battery (红 +)  → XIAO (背面 BAT+ 焊盘)                                  │
</span><span id="__span-13-32"><a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a>│      Battery (黑 -)  → XIAO (背面 BAT- 焊盘)                                  │
</span><span id="__span-13-33"><a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a>│                                                                             │
</span><span id="__span-13-34"><a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a>│   2. IMU 连接 (I2C)                                                          │
</span><span id="__span-13-35"><a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a>│      LSM6DSV16X (VIN) → XIAO (3V3 Pin)                                      │
</span><span id="__span-13-36"><a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a>│      LSM6DSV16X (GND) → XIAO (GND Pin)                                      │
</span><span id="__span-13-37"><a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a>│      LSM6DSV16X (SDA) → XIAO (D4 Pin / GPIO5)                               │
</span><span id="__span-13-38"><a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a>│      LSM6DSV16X (SCL) → XIAO (D5 Pin / GPIO6)                               │
</span><span id="__span-13-39"><a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a>│                                                                             │
</span><span id="__span-13-40"><a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a>│   3. EMG 连接 (Analog) - 通过 Link Shield                                    │
</span><span id="__span-13-41"><a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a>│      ⚠️ 先把 Link Shield 扣到 MyoWare 顶部的 Snap 连接器上                      │
</span><span id="__span-13-42"><a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a>│      Link Shield (+)   → XIAO (3V3 Pin)                                     │
</span><span id="__span-13-43"><a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a>│      Link Shield (-)   → XIAO (GND Pin)                                     │
</span><span id="__span-13-44"><a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a>│      Link Shield (SIG) → XIAO (A0 / D0 Pin / GPIO1)                         │
</span><span id="__span-13-45"><a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a>│                                                                             │
</span><span id="__span-13-46"><a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a>│   电压安全:                                                                  │
</span><span id="__span-13-47"><a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a>│   • XIAO 3.3V 输出 → MyoWare 3.3V 输入 ✅                                    │
</span><span id="__span-13-48"><a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a>│   • MyoWare 输出 0-3.3V → ESP32 ADC 限制 3.3V ✅                             │
</span><span id="__span-13-49"><a id="__codelineno-13-49" name="__codelineno-13-49" href="#__codelineno-13-49"></a>│   • 无需电压转换器!                                                           │
</span><span id="__span-13-50"><a id="__codelineno-13-50" name="__codelineno-13-50" href="#__codelineno-13-50"></a>│                                                                             │
</span><span id="__span-13-51"><a id="__codelineno-13-51" name="__codelineno-13-51" href="#__codelineno-13-51"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h4 id="critical-hardware-warnings">🚨 关键硬件警告 (Critical Hardware Warnings)<a class="headerlink" href="#critical-hardware-warnings" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>│  🔴 CRITICAL: Link Shield 是必需品，不是可选配件!                               │
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>│                                                                             │
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>│  问题: MyoWare 2.0 传感器没有焊孔，只有 Snap 扣 (像夹克纽扣)                      │
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>│                                                                             │
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>│       MyoWare 2.0 顶部:                    MyoWare 2.0 底部:                 │
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>│       ┌─────────────┐                      ┌─────────────┐                  │
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>│       │ ○    ○    ○ │ ← Snap 连接器         │ ○   ○   ○   │ ← 电极 Snap       │
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>│       │             │    (无焊孔!)          │             │                  │
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>│       │  [芯片区域]  │                      │   [皮肤接触]  │                  │
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>│       └─────────────┘                      └─────────────┘                  │
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>│                                                                             │
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>│  解决方案: Link Shield (DEV-18425) 是一个小&quot;帽子&quot;                              │
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>│       ┌─────────────┐                                                       │
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>│       │ ●    ●    ● │ ← Snap 扣到 MyoWare 顶部                               │
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>│       │ [+] [-] [S] │ ← 焊孔! 可以焊线!                                       │
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>│       └─────────────┘                                                       │
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>│                                                                             │
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>│  ❌ 没有 Link Shield: 必须直接焊到金属 Snap 上 → 极难 + 可能熔化塑料              │
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a>│  ✅ 有 Link Shield: 扣上 → 焊 3 根线 → 完成                                    │
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>│                                                                             │
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a>│  🟠 WARNING: DFRobot SEN0240 有线缆噪声问题                                   │
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a>│                                                                             │
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a>│  DFRobot SEN0240 结构:                                                       │
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a>│       ┌──────────┐                                                          │
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a>│       │ 主板      │───────[ 长电缆 ]───────[ 电极贴片 ]                         │
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a>│       └──────────┘                                                          │
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a>│                         ↑                                                   │
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a>│              100mph 挥杆时线缆甩动 → 电气噪声                                   │
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a>│                                                                             │
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a>│  MyoWare 2.0 结构:                                                          │
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a>│       ┌──────────────────┐                                                  │
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a>│       │ 主板 + 电极一体化  │ ← 直接贴在肌肉上，无线缆甩动                          │
</span><span id="__span-14-37"><a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a>│       └──────────────────┘                                                  │
</span><span id="__span-14-38"><a id="__codelineno-14-38" name="__codelineno-14-38" href="#__codelineno-14-38"></a>│                                                                             │
</span><span id="__span-14-39"><a id="__codelineno-14-39" name="__codelineno-14-39" href="#__codelineno-14-39"></a>│  结论:                                                                       │
</span><span id="__span-14-40"><a id="__codelineno-14-40" name="__codelineno-14-40" href="#__codelineno-14-40"></a>│  • 高速运动 (高尔夫、网球) → 优先 MyoWare 2.0 (无线缆)                           │
</span><span id="__span-14-41"><a id="__codelineno-14-41" name="__codelineno-14-41" href="#__codelineno-14-41"></a>│  • 静态测量 (健身房、康复) → DFRobot SEN0240 可接受                              │
</span><span id="__span-14-42"><a id="__codelineno-14-42" name="__codelineno-14-42" href="#__codelineno-14-42"></a>│                                                                             │
</span><span id="__span-14-43"><a id="__codelineno-14-43" name="__codelineno-14-43" href="#__codelineno-14-43"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-14-44"><a id="__codelineno-14-44" name="__codelineno-14-44" href="#__codelineno-14-44"></a>│  🟠 WARNING: WitMotion IMU 的 BLE 功能会破坏同步!                              │
</span><span id="__span-14-45"><a id="__codelineno-14-45" name="__codelineno-14-45" href="#__codelineno-14-45"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-14-46"><a id="__codelineno-14-46" name="__codelineno-14-46" href="#__codelineno-14-46"></a>│                                                                             │
</span><span id="__span-14-47"><a id="__codelineno-14-47" name="__codelineno-14-47" href="#__codelineno-14-47"></a>│  ❌ 错误用法: WitMotion BLE → 手机, ESP32 EMG → 手机                           │
</span><span id="__span-14-48"><a id="__codelineno-14-48" name="__codelineno-14-48" href="#__codelineno-14-48"></a>│              两个独立时钟源 → 无法精确同步!                                      │
</span><span id="__span-14-49"><a id="__codelineno-14-49" name="__codelineno-14-49" href="#__codelineno-14-49"></a>│                                                                             │
</span><span id="__span-14-50"><a id="__codelineno-14-50" name="__codelineno-14-50" href="#__codelineno-14-50"></a>│  ✅ 正确用法: WitMotion → I2C/UART → ESP32 → 手机                              │
</span><span id="__span-14-51"><a id="__codelineno-14-51" name="__codelineno-14-51" href="#__codelineno-14-51"></a>│              共享 ESP32 时钟 → 微秒级同步 ✅                                    │
</span><span id="__span-14-52"><a id="__codelineno-14-52" name="__codelineno-14-52" href="#__codelineno-14-52"></a>│                                                                              │
</span><span id="__span-14-53"><a id="__codelineno-14-53" name="__codelineno-14-53" href="#__codelineno-14-53"></a>│  如果选择 WitMotion WT901:                                                    │
</span><span id="__span-14-54"><a id="__codelineno-14-54" name="__codelineno-14-54" href="#__codelineno-14-54"></a>│  • 禁用其 BLE 功能                                                            │
</span><span id="__span-14-55"><a id="__codelineno-14-55" name="__codelineno-14-55" href="#__codelineno-14-55"></a>│  • 通过 UART (TX/RX) 或 I2C 连接到 ESP32                                      │
</span><span id="__span-14-56"><a id="__codelineno-14-56" name="__codelineno-14-56" href="#__codelineno-14-56"></a>│  • 让 ESP32 统一打时间戳                                                       │
</span><span id="__span-14-57"><a id="__codelineno-14-57" name="__codelineno-14-57" href="#__codelineno-14-57"></a>│                                                                             │
</span><span id="__span-14-58"><a id="__codelineno-14-58" name="__codelineno-14-58" href="#__codelineno-14-58"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h4 id="-full-us-shopping-list">🇺🇸 美国购买清单 - 完整版 (Full US Shopping List)<a class="headerlink" href="#-full-us-shopping-list" title="Permanent link">&para;</a></h4>
<h5 id="a-sparkfun">方案 A: SparkFun 生态 (更多配件选择)<a class="headerlink" href="#a-sparkfun" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>组件</th>
<th>型号</th>
<th>SKU</th>
<th>数量</th>
<th>单价</th>
<th>小计</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MCU</strong></td>
<td>XIAO ESP32S3</td>
<td>Seeed 113991114</td>
<td>2</td>
<td>$7.49</td>
<td>$14.98</td>
<td>DigiKey/Seeed</td>
</tr>
<tr>
<td><strong>EMG</strong></td>
<td>MyoWare 2.0 Muscle Sensor</td>
<td><strong>DEV-21265</strong> 或 <strong>DEV-27924</strong></td>
<td>2</td>
<td>~$40</td>
<td>~$80</td>
<td>⚠️ 确认非 retired</td>
</tr>
<tr>
<td><strong>🔴 Adapter</strong></td>
<td><strong>MyoWare 2.0 Link Shield</strong></td>
<td><strong>DEV-18425</strong></td>
<td>2</td>
<td>$4.50</td>
<td>$9.00</td>
<td><strong>必需品!</strong></td>
</tr>
<tr>
<td><strong>IMU</strong></td>
<td>SparkFun LSM6DSV16X Qwiic</td>
<td>SEN-21336</td>
<td>2</td>
<td>~$18</td>
<td>~$36</td>
<td>Qwiic 即插即用</td>
</tr>
<tr>
<td><strong>电极</strong></td>
<td>3M Ag/AgCl (50pk)</td>
<td>-</td>
<td>1</td>
<td>~$15</td>
<td>$15</td>
<td>Amazon</td>
</tr>
<tr>
<td><strong>电池</strong></td>
<td>LiPo 3.7V 400mAh</td>
<td>PRT-13851</td>
<td>2</td>
<td>~$8</td>
<td>$16</td>
<td>JST 连接器</td>
</tr>
<tr>
<td><strong>线材</strong></td>
<td>Silicone Wire 30AWG</td>
<td>-</td>
<td>1</td>
<td>~$10</td>
<td>$10</td>
<td>Amazon</td>
</tr>
<tr>
<td><strong>绑带</strong></td>
<td>Elastic Sport Band</td>
<td>-</td>
<td>2</td>
<td>~$8</td>
<td>$16</td>
<td>Amazon</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td><strong>总计</strong></td>
<td><strong>~$197</strong></td>
<td></td>
</tr>
</tbody>
</table>
<h5 id="b-adafruit">方案 B: Adafruit 生态 (更好的初学者库)<a class="headerlink" href="#b-adafruit" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>组件</th>
<th>型号</th>
<th>SKU</th>
<th>数量</th>
<th>单价</th>
<th>小计</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MCU</strong></td>
<td>XIAO ESP32S3</td>
<td>Seeed 113991114</td>
<td>2</td>
<td>$7.49</td>
<td>$14.98</td>
<td>同上</td>
</tr>
<tr>
<td><strong>EMG</strong></td>
<td>MyoWare 2.0 Muscle Sensor</td>
<td>DEV-21265</td>
<td>2</td>
<td>~$40</td>
<td>~$80</td>
<td>SparkFun</td>
</tr>
<tr>
<td><strong>🔴 Adapter</strong></td>
<td><strong>MyoWare 2.0 Link Shield</strong></td>
<td><strong>DEV-18425</strong></td>
<td>2</td>
<td>$4.50</td>
<td>$9.00</td>
<td><strong>必需品!</strong></td>
</tr>
<tr>
<td><strong>IMU</strong></td>
<td><strong>Adafruit LSM6DSV16X</strong></td>
<td><strong>ADA-5783</strong></td>
<td>2</td>
<td>~$15</td>
<td>~$30</td>
<td>⭐ 更好的 Arduino 库</td>
</tr>
<tr>
<td><strong>电池</strong></td>
<td>LiPo 3.7V 400mAh</td>
<td>ADA-3898</td>
<td>2</td>
<td>~$8</td>
<td>$16</td>
<td>Adafruit</td>
</tr>
<tr>
<td><strong>线材/电极/绑带</strong></td>
<td>(同上)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>~$41</td>
<td>Amazon</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td><strong>总计</strong></td>
<td><strong>~$191</strong></td>
<td></td>
</tr>
</tbody>
</table>
<h5 id="sparkfun-vs-adafruit-imu">🆚 SparkFun vs Adafruit IMU 对比 (工程师评审)<a class="headerlink" href="#sparkfun-vs-adafruit-imu" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>特性</th>
<th>SparkFun SEN-21336</th>
<th>Adafruit ADA-5783</th>
<th>推荐</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>芯片</strong></td>
<td>LSM6DSV16X</td>
<td>LSM6DSV16X</td>
<td>相同</td>
</tr>
<tr>
<td><strong>价格</strong></td>
<td>~$18</td>
<td>~$15</td>
<td>⭐ Adafruit</td>
</tr>
<tr>
<td><strong>连接器</strong></td>
<td>Qwiic (JST-SH)</td>
<td>STEMMA QT (兼容 Qwiic)</td>
<td>相同</td>
</tr>
<tr>
<td><strong>Arduino 库</strong></td>
<td>STM32duino</td>
<td>⭐ Adafruit_LSM6DS</td>
<td>⭐ Adafruit 更友好</td>
</tr>
<tr>
<td><strong>文档</strong></td>
<td>Good</td>
<td>⭐ Excellent (Learning System)</td>
<td>⭐ Adafruit</td>
</tr>
<tr>
<td><strong>PlatformIO</strong></td>
<td>需配置</td>
<td>开箱即用</td>
<td>⭐ Adafruit</td>
</tr>
<tr>
<td><strong>库存稳定性</strong></td>
<td>Good</td>
<td>Excellent</td>
<td>⭐ Adafruit</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>工程师建议</strong>: 初学者选 <strong>Adafruit</strong>，已有 SparkFun 生态经验选 <strong>SparkFun</strong>。</p>
</blockquote>
<h4 id="phased-purchase">🧪 分阶段购买建议 (Phased Purchase)<a class="headerlink" href="#phased-purchase" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>│                    分阶段购买策略 (降低风险)                                    │
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>│                                                                             │
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>│   Phase 1: &quot;桌面测试套件&quot; (~$30)                                              │
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>│   目的: 验证 IMU + ESP32 + BLE 数据管道                                        │
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>│                                                                             │
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>│   购买清单:                                                                  │
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>│   • 1x XIAO ESP32S3               $7.49                                     │
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>│   • 1x Adafruit LSM6DSV16X        $15.00                                    │
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>│   • 1x 面包板 (Breadboard)         $5.00                                     │
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>│   • 1x 杜邦线套装                   $3.00                                     │
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>│   ───────────────────────────────────────                                   │
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>│   总计: ~$30                                                                 │
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>│                                                                             │
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>│   验证目标:                                                                  │
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>│   ✅ ESP32 BLE 连接 iPhone                                                  │
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>│   ✅ 读取 IMU 加速度/陀螺仪数据                                                │
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>│   ✅ 100Hz 数据流稳定性                                                       │
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>│   ✅ 绑在手套上测试挥杆数据                                                     │
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a>│                                                                             │
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>│   Phase 2: 完整 Sensor Hub (~$170 增量)                                      │
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>│   前提: Phase 1 数据管道验证成功                                                │
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>│                                                                             │
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>│   购买清单:                                                                  │
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a>│   • 2x MyoWare 2.0                 $80.00                                   │
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>│   • 2x Link Shield (必需!)         $9.00                                     │
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a>│   • 1x 额外 XIAO ESP32S3          $7.49                                      │
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a>│   • 1x 额外 LSM6DSV16X            $15.00                                     │
</span><span id="__span-15-32"><a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a>│   • 2x LiPo 电池                   $16.00                                    │
</span><span id="__span-15-33"><a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a>│   • 线材/绑带/电极                  $41.00                                    │
</span><span id="__span-15-34"><a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a>│   ───────────────────────────────────────                                   │
</span><span id="__span-15-35"><a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a>│   总计: ~$170                                                                │
</span><span id="__span-15-36"><a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a>│                                                                             │
</span><span id="__span-15-37"><a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a>│   验证目标:                                                                   │
</span><span id="__span-15-38"><a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a>│   ✅ IMU + EMG 同步采集                                                       │
</span><span id="__span-15-39"><a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a>│   ✅ 双 Sensor Hub 同时工作                                                   │
</span><span id="__span-15-40"><a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a>│   ✅ Impact 对齐算法验证                                                      │
</span><span id="__span-15-41"><a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a>│   ✅ 肌肉激活序列检测                                                          │
</span><span id="__span-15-42"><a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a>│                                                                             │
</span><span id="__span-15-43"><a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h4 id="cny-">🇨🇳 中国购买清单 (CNY) - 更新版<a class="headerlink" href="#cny-" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>组件</th>
<th>型号</th>
<th>数量</th>
<th>单价</th>
<th>小计</th>
<th>购买渠道</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MCU</strong></td>
<td>XIAO ESP32S3</td>
<td>2</td>
<td>¥60</td>
<td>¥120</td>
<td>淘宝 Seeed 官方店</td>
<td></td>
</tr>
<tr>
<td><strong>EMG</strong></td>
<td>DFRobot SEN0240</td>
<td>2</td>
<td>¥319</td>
<td>¥638</td>
<td>dfrobot.com.cn</td>
<td>⚠️ 见下方警告</td>
</tr>
<tr>
<td><strong>IMU</strong></td>
<td>DFRobot SEN0386</td>
<td>2</td>
<td>¥89</td>
<td>¥178</td>
<td>dfrobot.com.cn</td>
<td>LSM6DSV16X</td>
</tr>
<tr>
<td><strong>电极</strong></td>
<td>Ag/AgCl (100片)</td>
<td>1</td>
<td>¥50</td>
<td>¥50</td>
<td>淘宝</td>
<td></td>
</tr>
<tr>
<td><strong>电池</strong></td>
<td>3.7V 500mAh LiPo</td>
<td>2</td>
<td>¥15</td>
<td>¥30</td>
<td>淘宝</td>
<td></td>
</tr>
<tr>
<td><strong>线材</strong></td>
<td>硅胶线 30AWG</td>
<td>1</td>
<td>¥15</td>
<td>¥15</td>
<td>淘宝</td>
<td></td>
</tr>
<tr>
<td><strong>绑带</strong></td>
<td>弹性运动绑带</td>
<td>2</td>
<td>¥15</td>
<td>¥30</td>
<td>淘宝</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td><strong>总计</strong></td>
<td><strong>¥1,061</strong> (~$147)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p>⚠️ <strong>DFRobot SEN0240 线缆警告</strong>:</p>
<ul>
<li>该传感器使用长电缆连接电极，高速挥杆时线缆甩动会产生电气噪声</li>
<li><strong>适用</strong>: 健身房、康复训练等低速场景</li>
<li><strong>不适用</strong>: 高尔夫、网球等高速挥杆场景</li>
<li><strong>高速场景替代</strong>: 考虑海淘 MyoWare 2.0 或使用 AD8232 + 自制贴片
✅ <strong>国产优势</strong>: DFRobot 有完整中文 Wiki 文档 + QQ 技术支持群 (适合原型验证)</li>
</ul>
</blockquote>
<h4 id="_3">🆚 完整替代方案对比 (工程师评审)<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>组件</th>
<th>首选</th>
<th>备选</th>
<th>预算方案</th>
<th>警告</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MCU</strong></td>
<td>XIAO ESP32S3 ($7.49)</td>
<td>ESP32-S3-DevKitC (¥50)</td>
<td>ESP32-C3 (¥8)</td>
<td>C3 无 PSRAM</td>
</tr>
<tr>
<td><strong>EMG</strong></td>
<td>MyoWare 2.0 + Link Shield ($45)</td>
<td>uMyo (~$50, 开源 BLE)</td>
<td>AD8232 (¥15)</td>
<td>⚠️ AD8232 噪声大</td>
</tr>
<tr>
<td><strong>EMG (CN)</strong></td>
<td>MyoWare 海淘</td>
<td>DFRobot SEN0240 (¥319)</td>
<td>AD8232</td>
<td>⚠️ SEN0240 有线缆噪声</td>
</tr>
<tr>
<td><strong>IMU</strong></td>
<td>Adafruit LSM6DSV16X ($15)</td>
<td>SparkFun LSM6DSV16X ($18)</td>
<td>MPU6050 (¥12)</td>
<td>⚠️ MPU6050 漂移大</td>
</tr>
<tr>
<td><strong>IMU (CN)</strong></td>
<td>DFRobot SEN0386 (¥89)</td>
<td>WitMotion WT901 (¥158)</td>
<td>MPU6050</td>
<td>⚠️ WT901 禁用 BLE!</td>
</tr>
</tbody>
</table>
<h4 id="spec-verification">规格验证表 (Spec Verification)<a class="headerlink" href="#spec-verification" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>组件</th>
<th>规格声明</th>
<th>实际验证</th>
<th>数据来源</th>
<th>状态</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>XIAO ESP32S3</strong></td>
<td>21×17.5mm</td>
<td>✅ 正确</td>
<td>Seeed 官网</td>
<td>✅</td>
</tr>
<tr>
<td><strong>LSM6DSV16X ODR</strong></td>
<td>1000Hz+</td>
<td><strong>7.68 kHz</strong></td>
<td>ST 数据手册</td>
<td>✅ 更好</td>
</tr>
<tr>
<td><strong>LSM6DSV16X 同步</strong></td>
<td>-</td>
<td><strong>6.25 μs</strong> 内部同步</td>
<td>ST 数据手册</td>
<td>✅</td>
</tr>
<tr>
<td><strong>MyoWare 供电</strong></td>
<td>3.3V</td>
<td>✅ 3.3-5V</td>
<td>SparkFun 产品页</td>
<td>✅</td>
</tr>
<tr>
<td><strong>MyoWare 输出</strong></td>
<td>0-Vcc</td>
<td>✅ 自动缩放</td>
<td>SparkFun 文档</td>
<td>✅</td>
</tr>
<tr>
<td><strong>XIAO 电池充电</strong></td>
<td>有</td>
<td>✅ 内置 LiPo 充电</td>
<td>Seeed Wiki</td>
<td>✅</td>
</tr>
<tr>
<td><strong>Link Shield</strong></td>
<td>必需</td>
<td>✅ 无焊孔必需</td>
<td>SparkFun 产品页</td>
<td>✅ 关键</td>
</tr>
</tbody>
</table>
<h3 id="44">4.4 数据传输流程<a class="headerlink" href="#44" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>│                    数据传输流程 DATA FLOW                                     │
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>│                                                                             │
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>│   [LSM6DSV16X IMU] ──I2C/SPI──→ [ESP32-S3] ──BLE 5.0──→ [Swift iOS App]     │
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>│        │                              │                       │             │
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>│        │ 100Hz 采样                    │ 打包+缓冲              │ 接收+解析    │
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>│        ↓                              ↓                       ↓             │
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>│   加速度计+陀螺仪数据            protocol.h 定义格式        BLEService.swift    │
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>│                                                                             │
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>│   BLE 数据包格式 (20 bytes/sample):                                           │
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>│   [type:1B][timestamp_ms:4B][gyro_xyz:6B][accel_xyz:6B][emg:2B][crc:1B]     │
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>│   → 100Hz × 20B = 2KB/s (BLE 5.0 支持 800+ kbps, 有 40x 余量)                 │
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>│                                                                             │
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="45-视频与传感器同步方案">4.5 视频与传感器同步方案<a class="headerlink" href="#45-视频与传感器同步方案" title="Permanent link">&para;</a></h3>
<blockquote>
<p><strong>权威来源</strong>: <a href="../../architecture/data-flow/">data-flow.md §1.2</a> 定义了时间同步的完整规格。
本节仅做决策确认，详细实现请参考权威文档。</p>
</blockquote>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>│                    时间同步决策 TIME SYNCHRONIZATION DECISION                 │
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>│                                                                             │
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>│   ⚠️ 采样率澄清:                                                              │
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>│   • IMU 内部采样: 最高 7680Hz (LSM6DSV16X 支持 7.68kHz ODR)                    │
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>│   • 实际使用: 1666Hz (低功耗平衡)                                              │
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>│   • BLE 传输频率: 100Hz (降采样后发送)                                         │
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>│   → 三个数字都正确，只是描述不同层级                                             │
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>│                                                                             │
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>│   核心决策: IMU 作为 Master Clock                                             │
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>│   • Vision 30fps  → 线性插值到 IMU 时间轴                                      │
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>│   • EMG 1000Hz    → 三次样条插值到 IMU 时间轴                                   │
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>│   • IMU 1666Hz    → 参考轴 (不变)                                             │
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>│   → 理由: IMU 采样率最高，作为时间基准最稳定                                      │
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>│                                                                             │
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h4 id="ble-2025-12">⚠️ <a href="../../../reference/engineering-glossary/#11-ble-抖动-ble-jitter">BLE 时间抖动问题</a> (2025-12 研究验证)<a class="headerlink" href="#ble-2025-12" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>│              BLE CONNECTION INTERVAL JITTER - 关键风险                       │
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>│                                                                             │
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>│   ❌ 错误方法: 用 iPhone 接收时间作为传感器时间戳                                 │
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>│   问题: BLE 连接间隔抖动 ±15-30ms                                              │
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>│                                                                             │
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>│   ESP32 发送时刻        iPhone 接收时刻        抖动误差                         │
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>│   ────────────────      ────────────────      ────────────                  │
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>│   T = 0ms               T = 17ms              +17ms                         │
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>│   T = 10ms              T = 38ms              +28ms                         │
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>│   T = 20ms              T = 45ms              +25ms                         │
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>│   T = 30ms              T = 52ms              +22ms                         │
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>│                                                                             │
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>│   → 这个 15-30ms 随机抖动会「掩盖」真实的 20-50ms 肌肉激活差异!                    │
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>│   → Dowswing 阶段仅 200-400ms，30ms 误差 = 7.5-15% 相位错误                    │
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>│                                                                             │
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>│   研究来源:                                                                  │
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>│   • PMC 2023: BLE 连接间隔 7.5-4000ms，实测抖动 ±15ms                          │
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>│   • arXiv 2025: 多设备 BLE 同步误差可达 30ms+                                  │
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a>│                                                                             │
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h4 id="esp32-impact">✅ 正确同步方法: ESP32 源端时间戳 + Impact 对齐<a class="headerlink" href="#esp32-impact" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>│                    正确的时间同步方案 (2025-12 验证)                            │
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>│                                                                             │
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>│   方案 1: ESP32 源端微秒时间戳 (Sensor Hub 架构)                                │
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>│   核心: 同一身体部位的 IMU + EMG 共享同一个 ESP32 时钟                           │
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>│                                                                             │
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>│   ESP32 #1 (Arm)        ESP32 #2 (Core)       ESP32 #3 (Leg)                │
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>│   ┌───────────────┐     ┌───────────────┐     ┌───────────────┐             │
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>│   │ LSM6DSV16X    │     │ LSM6DSV16X    │     │ LSM6DSV16X    │             │
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>│   │ MyoWare 2.0   │     │ MyoWare 2.0   │     │ MyoWare 2.0   │             │
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>│   │     │         │     │     │         │     │     │         │             │
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>│   │ 同一时钟源      │     │ 同一时钟源     │     │   同一时钟源    │             │
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>│   │ esp_timer()   │     │ esp_timer()   │     │ esp_timer()   │             │
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>│   └───────┬───────┘     └───────┬───────┘     └───────┬───────┘             │
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>│           │                     │                     │                     │
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>│           └──────────── BLE ────┴─────────── BLE ─────┘                     │
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>│                    (抖动无影响，时间戳在源端已打好)                              │
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>│                                                                             │
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>│   代码示例 (firmware):                                                       │
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>│   uint64_t sample_time_us = esp_timer_get_time();  // 微秒精度               │
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>│   imu_data.timestamp_us = sample_time_us;                                   │
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>│   emg_data.timestamp_us = sample_time_us;                                   │
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a>│   // BLE 传输后，时间戳仍然准确，不受抖动影响                                     │
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a>│                                                                             │
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a>│   方案 2: Impact 对齐 (跨设备校正)                                             │
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-19-30"><a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a>│   原理: 使用挥杆击球瞬间 (Impact) 作为 T=0 参考点                                │
</span><span id="__span-19-31"><a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>│                                                                             │
</span><span id="__span-19-32"><a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a>│   录制后处理:                                                                 │
</span><span id="__span-19-33"><a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a>│   1. 找 IMU gyro_z 峰值时刻 → impact_imu_us                                   │
</span><span id="__span-19-34"><a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a>│   2. 找 Vision 击球帧 → impact_vision_frame                                  │
</span><span id="__span-19-35"><a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a>│   3. 找 EMG 峰值时刻 → impact_emg_us                                          │
</span><span id="__span-19-36"><a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a>│   4. 所有时间轴对齐到 T=0                                                      │
</span><span id="__span-19-37"><a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a>│                                                                             │
</span><span id="__span-19-38"><a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a>│   优势:                                                                      │
</span><span id="__span-19-39"><a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a>│   • 完全消除 BLE 传输抖动                                                      │
</span><span id="__span-19-40"><a id="__codelineno-19-40" name="__codelineno-19-40" href="#__codelineno-19-40"></a>│   • 不依赖 NTP 预同步                                                         │
</span><span id="__span-19-41"><a id="__codelineno-19-41" name="__codelineno-19-41" href="#__codelineno-19-41"></a>│   • 适用于多设备场景                                                           │
</span><span id="__span-19-42"><a id="__codelineno-19-42" name="__codelineno-19-42" href="#__codelineno-19-42"></a>│                                                                             │
</span><span id="__span-19-43"><a id="__codelineno-19-43" name="__codelineno-19-43" href="#__codelineno-19-43"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h4 id="_4">精度分析<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>│                    同步精度分析 (理论 vs 实测)                                 │
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>│                                                                             │
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>│   LSM6DSV16X 内部同步精度:                                                    │
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>│   • 加速度计/陀螺仪同步: 6.25 μs (来自 ST 数据手册)                              │
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>│   • FIFO 批处理延迟: 可预测，可补偿                                             │
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>│                                                                             │
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>│   ESP32 源端时间戳精度:                                                       │
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>│   • esp_timer_get_time() 精度: ~1 μs                                        │
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>│   • 同一 ESP32 上 IMU+EMG 同步: &lt;10 μs                                        │
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>│                                                                             │
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a>│   跨设备同步 (ESP32 #1 ↔ ESP32 #2):                                           │
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a>│   • Impact 对齐后: 69-477 μs (取决于 IMU ODR)                                 │
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>│   • 计算: 1/(2×ODR) = 1/(2×7680) = 65 μs (最佳情况)                           │
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a>│                                                                             │
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a>│   精度目标更新:                                                               │
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a>│   ─────────────────────────────────────                                     │
</span><span id="__span-20-22"><a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a>│   │ 场景                    │ 目标精度    │ 实际可达   │ 状态  │                │
</span><span id="__span-20-23"><a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a>│   │─────────────────────────│─────────────│───────────│───────│             │
</span><span id="__span-20-24"><a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a>│   │ 同一 ESP32 (IMU+EMG)    │ &lt;100 μs    │ &lt;10 μs    │ ✅    │               │
</span><span id="__span-20-25"><a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a>│   │ 跨 ESP32 (Arm↔Core↔Leg) │ &lt;1 ms      │ 69-477 μs │ ✅    │              │
</span><span id="__span-20-26"><a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a>│   │ 跨设备 (ESP32↔iPhone)   │ &lt;10 ms     │ &lt;5 ms     │ ✅    │               │
</span><span id="__span-20-27"><a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a>│                                                                             │
</span><span id="__span-20-28"><a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a>│   结论: 通过 Sensor Hub + Impact 对齐，精度远超 &lt;10ms 目标                       │
</span><span id="__span-20-29"><a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a>│                                                                             │
</span><span id="__span-20-30"><a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h4 id="multi-unit-sync-topology-2025-12-23">多单元时间同步拓扑 (Multi-Unit Sync Topology) ✅ 2025-12-23<a class="headerlink" href="#multi-unit-sync-topology-2025-12-23" title="Permanent link">&para;</a></h4>
<blockquote>
<p>📐 <strong>完整架构图与 "为什么每个单元需要 IMU" 解释</strong>: 见 <a href="../../architecture/modular-architecture/#224-sensor-hub-architecture">模块化设计 §2.2.4</a> (单一权威来源)</p>
</blockquote>
<p><strong>决策要点</strong>:</p>
<ul>
<li>🔑 <strong>关键洞察</strong>: 每个单元都必须有 IMU — Impact 振动传遍全身，每个 IMU 都能检测到同一事件作为 T=0 参考点</li>
<li>❌ 如果某个单元只有 EMG 没有 IMU → 无法检测 Impact → 无法与其他单元对齐时间</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>│                         多单元时间同步方法                                     │
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>│   同步方法 1: Impact 对齐 (推荐，后处理)                                        │
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>│                                                                             │
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>│   原理: 录制完成后，找到每个 IMU 的 Impact 峰值时刻                               │
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>│                                                                             │
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>│   ESP32 #1 时间轴:  ──────────[峰值A]──────────                               │
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>│   ESP32 #2 时间轴:  ────────────[峰值B]────────                               │
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>│   ESP32 #3 时间轴:  ──────[峰值C]──────────────                               │
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>│                                                                             │
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>│   对齐后 (所有峰值 = T=0):                                                    │
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>│                                                                             │
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>│   ESP32 #1 时间轴:  ──────────[T=0]──────────                                │
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>│   ESP32 #2 时间轴:  ──────────[T=0]──────────                                │
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>│   ESP32 #3 时间轴:  ──────────[T=0]──────────                                │
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a>│                                                                             │
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a>│   精度: 取决于 IMU ODR，7.68kHz 时约 65-130μs                                  │
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a>│                                                                             │
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a>│   同步方法 2: Flash 方法 (可选，实时预同步)                                      │
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a>│                                                                             │
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a>│   原理: BLE 时钟偏移估算 (ping-pong 方法)                                       │
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a>│                                                                             │
</span><span id="__span-21-27"><a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a>│   iPhone              ESP32                                                 │
</span><span id="__span-21-28"><a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a>│     │                   │                                                   │
</span><span id="__span-21-29"><a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a>│     │──── ping (t1) ───→│                                                   │
</span><span id="__span-21-30"><a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a>│     │                   │ 处理                                               │
</span><span id="__span-21-31"><a id="__codelineno-21-31" name="__codelineno-21-31" href="#__codelineno-21-31"></a>│     │←─── pong (t2) ────│                                                   │
</span><span id="__span-21-32"><a id="__codelineno-21-32" name="__codelineno-21-32" href="#__codelineno-21-32"></a>│     │                   │                                                   │
</span><span id="__span-21-33"><a id="__codelineno-21-33" name="__codelineno-21-33" href="#__codelineno-21-33"></a>│                                                                             │
</span><span id="__span-21-34"><a id="__codelineno-21-34" name="__codelineno-21-34" href="#__codelineno-21-34"></a>│   RTT = t2 - t1                                                             │
</span><span id="__span-21-35"><a id="__codelineno-21-35" name="__codelineno-21-35" href="#__codelineno-21-35"></a>│   估算单向延迟 = RTT / 2                                                      │
</span><span id="__span-21-36"><a id="__codelineno-21-36" name="__codelineno-21-36" href="#__codelineno-21-36"></a>│                                                                             │
</span><span id="__span-21-37"><a id="__codelineno-21-37" name="__codelineno-21-37" href="#__codelineno-21-37"></a>│   局限性:                                                                    │
</span><span id="__span-21-38"><a id="__codelineno-21-38" name="__codelineno-21-38" href="#__codelineno-21-38"></a>│   • BLE 抖动 ±15-30ms 影响精度                                                │
</span><span id="__span-21-39"><a id="__codelineno-21-39" name="__codelineno-21-39" href="#__codelineno-21-39"></a>│   • 需要多次采样求平均                                                         │
</span><span id="__span-21-40"><a id="__codelineno-21-40" name="__codelineno-21-40" href="#__codelineno-21-40"></a>│   • 不如 Impact 对齐准确                                                      │
</span><span id="__span-21-41"><a id="__codelineno-21-41" name="__codelineno-21-41" href="#__codelineno-21-41"></a>│                                                                             │
</span><span id="__span-21-42"><a id="__codelineno-21-42" name="__codelineno-21-42" href="#__codelineno-21-42"></a>│   适用场景: 需要实时预览时的粗同步                                               │
</span><span id="__span-21-43"><a id="__codelineno-21-43" name="__codelineno-21-43" href="#__codelineno-21-43"></a>│                                                                             │
</span><span id="__span-21-44"><a id="__codelineno-21-44" name="__codelineno-21-44" href="#__codelineno-21-44"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">硬件设计约束</p>
<p><strong>每个 Sensor Hub 必须配备 IMU</strong>，即使该部位的主要目的是测量 EMG。
没有 IMU 就无法检测 Impact 事件，导致该单元无法与系统对齐时间。</p>
</div>
<blockquote>
<p><strong>研究来源</strong>:</p>
<ul>
<li><a href="https://www.ncbi.nlm.nih.gov/pmc/">PMC 2023: BLE Time Synchronization</a> - 连接间隔抖动测量</li>
<li><a href="https://arxiv.org/">arXiv 2025: Multi-device BLE Sync</a> - 多设备同步误差分析</li>
<li><a href="https://www.st.com/resource/en/datasheet/lsm6dsv16x.pdf">ST LSM6DSV16X Datasheet</a> - 7.68kHz ODR 规格</li>
</ul>
</blockquote>
<hr />
<h2 id="deployment-strategy">5. 部署策略决策<a class="headerlink" href="#deployment-strategy" title="Permanent link">&para;</a></h2>
<h3 id="51-aws">5.1 本地优先 → AWS 云端<a class="headerlink" href="#51-aws" title="Permanent link">&para;</a></h3>
<p><strong>决策</strong>: MVP 完全本地运行，Phase 2+ 考虑 AWS 后端</p>
<p><strong>阶段规划</strong>:</p>
<table>
<thead>
<tr>
<th>阶段</th>
<th>部署模式</th>
<th>技术栈</th>
<th>原因</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>MVP1</strong></td>
<td>完全本地</td>
<td>Python + Rerun</td>
<td>无网络延迟，调试方便</td>
</tr>
<tr>
<td><strong>Phase 2</strong></td>
<td>本地 + 云同步</td>
<td>+ S3/DynamoDB</td>
<td>数据持久化，用户画像</td>
</tr>
<tr>
<td><strong>Phase 3</strong></td>
<td>混合推理</td>
<td>+ Lambda/SageMaker</td>
<td>复杂模型云端推理</td>
</tr>
</tbody>
</table>
<h3 id="52-aws-vs-cloudflare-workers">5.2 AWS vs Cloudflare Workers 对比<a class="headerlink" href="#52-aws-vs-cloudflare-workers" title="Permanent link">&para;</a></h3>
<p><strong>结论</strong>: ML 推理选 AWS，<a href="../../../reference/software-glossary/#6-边缘计算-edge-computing">边缘</a> API 可选 Cloudflare</p>
<table>
<thead>
<tr>
<th>维度</th>
<th>Cloudflare Workers</th>
<th>AWS Lambda</th>
<th>我们的选择</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>内存限制</strong></td>
<td>128MB</td>
<td>10GB</td>
<td>AWS ✅ (ML 模型大)</td>
</tr>
<tr>
<td><strong>CPU 时间</strong></td>
<td>30s (免费) / 15min (付费)</td>
<td>15 分钟</td>
<td>AWS ✅ (视频处理)</td>
</tr>
<tr>
<td><strong>Python 支持</strong></td>
<td>⚠️ WASM 限制</td>
<td>✅ 原生</td>
<td>AWS ✅</td>
</tr>
<tr>
<td><strong>ML 框架</strong></td>
<td>❌ 受限</td>
<td>✅ TensorFlow/PyTorch/ONNX</td>
<td>AWS ✅</td>
</tr>
<tr>
<td><strong><a href="../../../reference/software-glossary/#6-边缘计算-edge-computing">全球边缘</a></strong></td>
<td>✅ 最强</td>
<td>⚠️ 区域性</td>
<td>CF ✅ (API 网关)</td>
</tr>
<tr>
<td><strong>冷启动</strong></td>
<td>✅ 极快</td>
<td>⚠️ 较慢</td>
<td>CF ✅</td>
</tr>
</tbody>
</table>
<p><strong>推荐架构</strong> (Phase 3):</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>用户 → Cloudflare Workers (API 网关/缓存) → AWS Lambda (ML 推理)
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>                ↓
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>        Cloudflare R2 (视频存储) ←→ S3 (数据湖)
</span></code></pre></div>
<hr />
<h2 id="6-mvp1">6. MVP1 成功标准<a class="headerlink" href="#6-mvp1" title="Permanent link">&para;</a></h2>
<h3 id="61">6.1 核心验证点<a class="headerlink" href="#61" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>验证点</th>
<th>标准</th>
<th>验证方法</th>
<th>优先级</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>时间同步</strong></td>
<td>Vision/IMU/EMG &lt; 10ms 对齐</td>
<td>Rerun 时间轴验证</td>
<td>P0</td>
</tr>
<tr>
<td><strong>Top 检测</strong></td>
<td>IMU gyro_z 零交叉正确</td>
<td>与视频帧对比</td>
<td>P0</td>
</tr>
<tr>
<td><strong>Impact 检测</strong></td>
<td>IMU gyro_z 峰值正确</td>
<td>与视频帧对比</td>
<td>P0</td>
</tr>
<tr>
<td><strong>X-Factor 计算</strong></td>
<td>与视频骨架角度一致</td>
<td>Rerun 骨架叠加</td>
<td>P0</td>
</tr>
<tr>
<td><strong>ARMS<em>BEFORE</em>CORE</strong></td>
<td>Mock 错误数据正确触发</td>
<td>单元测试</td>
<td>P1</td>
</tr>
<tr>
<td><strong>FALSE_COIL</strong></td>
<td>Mock 错误数据正确触发</td>
<td>单元测试</td>
<td>P1</td>
</tr>
</tbody>
</table>
<h3 id="62-mvp1">6.2 不在 MVP1 范围<a class="headerlink" href="#62-mvp1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>功能</th>
<th>原因</th>
<th>计划阶段</th>
</tr>
</thead>
<tbody>
<tr>
<td>3D 重建</td>
<td>IMU 提供运动数据，暂不需要</td>
<td>Phase 3</td>
</tr>
<tr>
<td><a href="../../../reference/ml-glossary/#5-llm-大语言模型">LLM 反馈</a></td>
<td>规则引擎足够 MVP</td>
<td>Phase 2</td>
</tr>
<tr>
<td>云端部署</td>
<td>本地优先验证</td>
<td>Phase 2</td>
</tr>
<tr>
<td>RTMPose</td>
<td>MediaPipe 足够 MVP</td>
<td>Phase 2</td>
</tr>
<tr>
<td>真实硬件</td>
<td>Mock 数据验证管道</td>
<td>Phase 2</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="7">7. 多仓库详细职责<a class="headerlink" href="#7" title="Permanent link">&para;</a></h2>
<h3 id="71-movement-chain-ml-python">7.1 movement-chain-ml (Python)<a class="headerlink" href="#71-movement-chain-ml-python" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>│   movement-chain-ml — ML 管道与融合引擎                                       │
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>│                                                                             │
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>│   你用的现成库 (pip install):                                                 │
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>│   ──────────────────────────────                                            │
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>│   • MediaPipe (Google) — 姿态估计，33 关键点                                   │
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>│   • imufusion (Sebastian Madgwick) — IMU 传感器融合算法                        │
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>│   • neurokit2 — EMG 信号处理                                                  │
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>│   • polars — 时序数据处理 (Rust-backed)                                       │
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>│   • pydantic — 数据验证 (Rust-backed)                                         │
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>│   • rerun-sdk — 多模态可视化                                                  │
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a>│                                                                             │
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a>│   你需要写的代码:                                                              │
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>│   ──────────────────────────────                                            │
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a>│   • 六边形架构的 core/services/ — 融合逻辑、规则引擎                             │
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a>│   • 适配器 adapters/ — 连接 MediaPipe、Mock 数据、真实 BLE                      │
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a>│   • Mock 数据生成 — 测试用假数据                                                │
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a>│   • 分析脚本 scripts/ — analyze_video.py 等命令行工具                           │
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a>│                                                                             │
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a>│   目录结构:                                                                  │
</span><span id="__span-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a>│   ──────────────────────────────                                            │
</span><span id="__span-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a>│   src/movement_chain/                                                       │
</span><span id="__span-23-24"><a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a>│   ├── core/                    # APPLICATION CORE (六边形中心)                │
</span><span id="__span-23-25"><a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a>│   │   ├── entities/            # Pydantic models (Port 数据契约)             │
</span><span id="__span-23-26"><a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a>│   │   │   ├── pose.py          # PoseResult, Keypoint, VideoFrame           │
</span><span id="__span-23-27"><a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a>│   │   │   ├── imu.py           # IMUFeatures, RawIMU, Quaternion            │
</span><span id="__span-23-28"><a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a>│   │   │   ├── emg.py           # EMGFeatures, MuscleActivation              │
</span><span id="__span-23-29"><a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a>│   │   │   └── fusion.py        # FusionResult, Anomaly, Feedback            │
</span><span id="__span-23-30"><a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a>│   │   ├── ports/               # 抽象接口 (ABC)                              │
</span><span id="__span-23-31"><a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a>│   │   │   ├── pose_port.py     # class PoseEstimator(ABC)                   │
</span><span id="__span-23-32"><a id="__codelineno-23-32" name="__codelineno-23-32" href="#__codelineno-23-32"></a>│   │   │   ├── imu_port.py      # class IMUProcessor(ABC)                    │
</span><span id="__span-23-33"><a id="__codelineno-23-33" name="__codelineno-23-33" href="#__codelineno-23-33"></a>│   │   │   └── emg_port.py      # class EMGProcessor(ABC)                    │
</span><span id="__span-23-34"><a id="__codelineno-23-34" name="__codelineno-23-34" href="#__codelineno-23-34"></a>│   │   └── services/            # 业务逻辑 (不依赖具体适配器)                    │
</span><span id="__span-23-35"><a id="__codelineno-23-35" name="__codelineno-23-35" href="#__codelineno-23-35"></a>│   │       ├── fusion_service.py    # 三模态融合                               │
</span><span id="__span-23-36"><a id="__codelineno-23-36" name="__codelineno-23-36" href="#__codelineno-23-36"></a>│   │       ├── phase_detector.py    # Top/Impact 检测                         │
</span><span id="__span-23-37"><a id="__codelineno-23-37" name="__codelineno-23-37" href="#__codelineno-23-37"></a>│   │       └── rule_engine.py       # ARMS_BEFORE_CORE 等规则                 │
</span><span id="__span-23-38"><a id="__codelineno-23-38" name="__codelineno-23-38" href="#__codelineno-23-38"></a>│   └── adapters/                # ADAPTERS (可替换实现)                        │
</span><span id="__span-23-39"><a id="__codelineno-23-39" name="__codelineno-23-39" href="#__codelineno-23-39"></a>│       ├── vision/                                                           │
</span><span id="__span-23-40"><a id="__codelineno-23-40" name="__codelineno-23-40" href="#__codelineno-23-40"></a>│       │   ├── mediapipe_adapter.py  # MVP: implements PoseEstimator         │
</span><span id="__span-23-41"><a id="__codelineno-23-41" name="__codelineno-23-41" href="#__codelineno-23-41"></a>│       │   └── rtmpose_adapter.py    # Phase 2: 更高精度                      │
</span><span id="__span-23-42"><a id="__codelineno-23-42" name="__codelineno-23-42" href="#__codelineno-23-42"></a>│       ├── imu/                                                              │
</span><span id="__span-23-43"><a id="__codelineno-23-43" name="__codelineno-23-43" href="#__codelineno-23-43"></a>│       │   ├── mock_imu_adapter.py   # MVP: JSON 文件模拟                     │
</span><span id="__span-23-44"><a id="__codelineno-23-44" name="__codelineno-23-44" href="#__codelineno-23-44"></a>│       │   └── ble_imu_adapter.py    # Phase 2: 真实 BLE 数据                 │
</span><span id="__span-23-45"><a id="__codelineno-23-45" name="__codelineno-23-45" href="#__codelineno-23-45"></a>│       └── emg/                                                              │
</span><span id="__span-23-46"><a id="__codelineno-23-46" name="__codelineno-23-46" href="#__codelineno-23-46"></a>│           ├── mock_emg_adapter.py   # MVP: JSON 文件模拟                     │
</span><span id="__span-23-47"><a id="__codelineno-23-47" name="__codelineno-23-47" href="#__codelineno-23-47"></a>│           └── ble_emg_adapter.py    # Phase 2: 真实 BLE 数据                 │
</span><span id="__span-23-48"><a id="__codelineno-23-48" name="__codelineno-23-48" href="#__codelineno-23-48"></a>│   mock_data/                   # 测试用 JSON 文件                            │
</span><span id="__span-23-49"><a id="__codelineno-23-49" name="__codelineno-23-49" href="#__codelineno-23-49"></a>│   │   ├── correct_swing.json   # 正确挥杆                                    │
</span><span id="__span-23-50"><a id="__codelineno-23-50" name="__codelineno-23-50" href="#__codelineno-23-50"></a>│   │   ├── arms_first.json      # 手臂先动错误                                 │
</span><span id="__span-23-51"><a id="__codelineno-23-51" name="__codelineno-23-51" href="#__codelineno-23-51"></a>│   │   └── false_coil.json      # 假性蓄力错误                                 │
</span><span id="__span-23-52"><a id="__codelineno-23-52" name="__codelineno-23-52" href="#__codelineno-23-52"></a>│   scripts/                     # 命令行工具                                  │
</span><span id="__span-23-53"><a id="__codelineno-23-53" name="__codelineno-23-53" href="#__codelineno-23-53"></a>│   │   └── analyze_video.py     # python -m scripts.analyze_video video.mp4  │
</span><span id="__span-23-54"><a id="__codelineno-23-54" name="__codelineno-23-54" href="#__codelineno-23-54"></a>│   tests/                       # pytest 测试                                │
</span><span id="__span-23-55"><a id="__codelineno-23-55" name="__codelineno-23-55" href="#__codelineno-23-55"></a>│                                                                             │
</span><span id="__span-23-56"><a id="__codelineno-23-56" name="__codelineno-23-56" href="#__codelineno-23-56"></a>│   MVP1 状态: ✅ 核心仓库，从这里开始                                            │
</span><span id="__span-23-57"><a id="__codelineno-23-57" name="__codelineno-23-57" href="#__codelineno-23-57"></a>│   关键产出: 融合管道 + Mock 数据验证 + Rerun 可视化                              │
</span><span id="__span-23-58"><a id="__codelineno-23-58" name="__codelineno-23-58" href="#__codelineno-23-58"></a>│                                                                             │
</span><span id="__span-23-59"><a id="__codelineno-23-59" name="__codelineno-23-59" href="#__codelineno-23-59"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="72-movement-chain-firmware-cplatformio">7.2 movement-chain-firmware (C++/PlatformIO)<a class="headerlink" href="#72-movement-chain-firmware-cplatformio" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>│   movement-chain-firmware — ESP32 嵌入式固件                                  │
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>│                                                                             │
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>│   你用的现成库 (PlatformIO lib_deps):                                         │
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>│   ──────────────────────────────                                            │
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>│   • Arduino Core for ESP32 — 开发框架                                        │
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>│   • STM32duino LSM6DSV16X — IMU 驱动库                                       │
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>│   • NimBLE-Arduino — 轻量 BLE 协议栈                                          │
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>│   • ArduinoJson — JSON 序列化                                                │
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>│                                                                             │
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>│   你需要写的代码:                                                             │
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>│   ──────────────────────────────                                            │
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>│   • main.cpp — 初始化、主循环                                                 │
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a>│   • 传感器读取 — I2C/SPI 配置、采样率设置                                       │
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a>│   • BLE 服务 — GATT 特征定义、数据打包                                          │
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>│   • protocol.h — BLE 消息格式 (与 mobile 共享契约!)                            │
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>│                                                                             │
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>│   目录结构:                                                                  │
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a>│   ──────────────────────────────                                            │
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a>│   src/                                                                      │
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a>│   ├── main.cpp                 # 入口: setup() + loop()                      │
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a>│   ├── sensors/                                                              │
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a>│   │   ├── lsm6dsv16x.cpp       # IMU 驱动: 初始化、读取、FIFO                  │
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a>│   │   └── dfrobot_emg.cpp      # EMG 驱动: ADC 读取、滤波                      │
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a>│   ├── ble/                                                                  │
</span><span id="__span-24-27"><a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a>│   │   ├── ble_service.cpp      # BLE GATT 服务: 特征、通知                    │
</span><span id="__span-24-28"><a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a>│   │   └── protocol.h           # ⚠️ 共享契约: 消息格式定义                     │
</span><span id="__span-24-29"><a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a>│   └── fusion/                                                               │
</span><span id="__span-24-30"><a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a>│       └── onboard_filter.cpp   # (可选) 板上滤波、降采样                       │
</span><span id="__span-24-31"><a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a>│   lib/                         # PlatformIO 库依赖                           │
</span><span id="__span-24-32"><a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a>│   platformio.ini               # 构建配置: board, framework, lib_deps        │
</span><span id="__span-24-33"><a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a>│                                                                             │
</span><span id="__span-24-34"><a id="__codelineno-24-34" name="__codelineno-24-34" href="#__codelineno-24-34"></a>│   核心功能:                                                                  │
</span><span id="__span-24-35"><a id="__codelineno-24-35" name="__codelineno-24-35" href="#__codelineno-24-35"></a>│   ──────────────────────────────                                            │
</span><span id="__span-24-36"><a id="__codelineno-24-36" name="__codelineno-24-36" href="#__codelineno-24-36"></a>│   1. 100Hz 读取 IMU (加速度计 + 陀螺仪)                                        │
</span><span id="__span-24-37"><a id="__codelineno-24-37" name="__codelineno-24-37" href="#__codelineno-24-37"></a>│   2. 1000Hz 读取 EMG → 降采样到 100Hz                                         │
</span><span id="__span-24-38"><a id="__codelineno-24-38" name="__codelineno-24-38" href="#__codelineno-24-38"></a>│   3. 打包成 BLE 数据包 (20 bytes/sample)                                      │
</span><span id="__span-24-39"><a id="__codelineno-24-39" name="__codelineno-24-39" href="#__codelineno-24-39"></a>│   4. BLE 5.0 发送到手机 (~2KB/s)                                              │
</span><span id="__span-24-40"><a id="__codelineno-24-40" name="__codelineno-24-40" href="#__codelineno-24-40"></a>│                                                                             │
</span><span id="__span-24-41"><a id="__codelineno-24-41" name="__codelineno-24-41" href="#__codelineno-24-41"></a>│   MVP1 状态: ⏳ Phase 2 才需要 (MVP1 用 Mock 数据)                             │
</span><span id="__span-24-42"><a id="__codelineno-24-42" name="__codelineno-24-42" href="#__codelineno-24-42"></a>│   关键产出: 稳定的 100Hz BLE 数据流                                             │
</span><span id="__span-24-43"><a id="__codelineno-24-43" name="__codelineno-24-43" href="#__codelineno-24-43"></a>│                                                                             │
</span><span id="__span-24-44"><a id="__codelineno-24-44" name="__codelineno-24-44" href="#__codelineno-24-44"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="73-movement-chain-mobile-ios-swift">7.3 movement-chain-mobile-ios (Swift)<a class="headerlink" href="#73-movement-chain-mobile-ios-swift" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>│   movement-chain-mobile-ios — Swift iOS 原生应用                              │
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>│                                                                             │
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>│   你用的现成库 (Podfile / SPM):                                               │
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>│   ──────────────────────────────                                            │
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>│   • CoreBluetooth — BLE 连接 (系统框架)                                       │
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>│   • AVFoundation — 摄像头控制 (系统框架)                                       │
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>│   • MediaPipeTasksVision — 姿态估计 (官方 iOS SDK)                            │
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>│   • Charts — 数据可视化 (或 Swift Charts iOS 16+)                             │
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>│                                                                             │
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>│   你需要写的代码:                                                             │
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>│   ──────────────────────────────                                            │
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>│   • UI 页面 — 录制、分析、历史 (SwiftUI)                                       │
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>│   • BLE 服务 — 连接 ESP32、解析数据包                                          │
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a>│   • 摄像头服务 — 录制视频、提取帧                                               │
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>│   • ML 服务 — 调用 MediaPipe、同步时间戳                                       │
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a>│   • 数据模型 — Swift struct (与 ML repo entities 对应)                        │
</span><span id="__span-25-19"><a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a>│                                                                             │
</span><span id="__span-25-20"><a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a>│   目录结构:                                                                  │
</span><span id="__span-25-21"><a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a>│   ──────────────────────────────                                            │
</span><span id="__span-25-22"><a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a>│   MovementChain/                                                            │
</span><span id="__span-25-23"><a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a>│   ├── MovementChainApp.swift   # SwiftUI 入口                                │
</span><span id="__span-25-24"><a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a>│   ├── Views/                   # SwiftUI 视图                                │
</span><span id="__span-25-25"><a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a>│   │   ├── HomeView.swift       # 首页: 开始录制                               │
</span><span id="__span-25-26"><a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a>│   │   ├── RecordView.swift     # 录制: 摄像头 + BLE 同时采集                   │
</span><span id="__span-25-27"><a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a>│   │   ├── AnalysisView.swift   # 分析: 显示反馈结果                            │
</span><span id="__span-25-28"><a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a>│   │   └── HistoryView.swift    # 历史: 过去的挥杆记录                          │
</span><span id="__span-25-29"><a id="__codelineno-25-29" name="__codelineno-25-29" href="#__codelineno-25-29"></a>│   ├── Services/                                                             │
</span><span id="__span-25-30"><a id="__codelineno-25-30" name="__codelineno-25-30" href="#__codelineno-25-30"></a>│   │   ├── CameraService.swift  # 摄像头: AVFoundation 封装                    │
</span><span id="__span-25-31"><a id="__codelineno-25-31" name="__codelineno-25-31" href="#__codelineno-25-31"></a>│   │   ├── BLEService.swift     # BLE: CoreBluetooth 封装                     │
</span><span id="__span-25-32"><a id="__codelineno-25-32" name="__codelineno-25-32" href="#__codelineno-25-32"></a>│   │   └── PoseService.swift    # ML: MediaPipe 推理、结果处理                 │
</span><span id="__span-25-33"><a id="__codelineno-25-33" name="__codelineno-25-33" href="#__codelineno-25-33"></a>│   ├── Models/                  # ⚠️ 共享契约: 与 ML entities 对应             │
</span><span id="__span-25-34"><a id="__codelineno-25-34" name="__codelineno-25-34" href="#__codelineno-25-34"></a>│   │   ├── PoseResult.swift     # 对应 ml/entities/pose.py                   │
</span><span id="__span-25-35"><a id="__codelineno-25-35" name="__codelineno-25-35" href="#__codelineno-25-35"></a>│   │   ├── IMUData.swift        # 对应 ml/entities/imu.py                    │
</span><span id="__span-25-36"><a id="__codelineno-25-36" name="__codelineno-25-36" href="#__codelineno-25-36"></a>│   │   └── BLEMessages.swift    # 对应 firmware/protocol.h                   │
</span><span id="__span-25-37"><a id="__codelineno-25-37" name="__codelineno-25-37" href="#__codelineno-25-37"></a>│   └── Components/              # 可复用 UI 组件                              │
</span><span id="__span-25-38"><a id="__codelineno-25-38" name="__codelineno-25-38" href="#__codelineno-25-38"></a>│       ├── PoseOverlayView.swift # 骨架叠加显示                                │
</span><span id="__span-25-39"><a id="__codelineno-25-39" name="__codelineno-25-39" href="#__codelineno-25-39"></a>│       └── MetricCard.swift     # 指标卡片                                    │
</span><span id="__span-25-40"><a id="__codelineno-25-40" name="__codelineno-25-40" href="#__codelineno-25-40"></a>│   Resources/                   # 静态资源                                    │
</span><span id="__span-25-41"><a id="__codelineno-25-41" name="__codelineno-25-41" href="#__codelineno-25-41"></a>│   └── pose_landmarker.task     # MediaPipe 模型文件                          │
</span><span id="__span-25-42"><a id="__codelineno-25-42" name="__codelineno-25-42" href="#__codelineno-25-42"></a>│                                                                             │
</span><span id="__span-25-43"><a id="__codelineno-25-43" name="__codelineno-25-43" href="#__codelineno-25-43"></a>│   MVP1 状态: ⏳ Phase 1.5 开始 (先完成 ML 管道)                                │
</span><span id="__span-25-44"><a id="__codelineno-25-44" name="__codelineno-25-44" href="#__codelineno-25-44"></a>│   关键产出: 用户可用的 iOS 应用                                                │
</span><span id="__span-25-45"><a id="__codelineno-25-45" name="__codelineno-25-45" href="#__codelineno-25-45"></a>│                                                                             │
</span><span id="__span-25-46"><a id="__codelineno-25-46" name="__codelineno-25-46" href="#__codelineno-25-46"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="74-movement-chain-hardware-kicad">7.4 movement-chain-hardware (KiCad)<a class="headerlink" href="#74-movement-chain-hardware-kicad" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>│   movement-chain-hardware — PCB 载板设计                                     │
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>│                                                                             │
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>│   ⚠️ 重要澄清: 不是设计芯片，是设计「载板」把现成芯片连在一起                        │
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>│                                                                             │
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>│   你买的成品 (现成芯片/模块):                                                   │
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>│   ──────────────────────────────                                            │
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>│   • LSM6DSV16X 芯片 (ST 生产, ~$6-8) — IMU 传感器                             │
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>│   • ESP32-S3-WROOM 模块 (Espressif, ~$3-5) — MCU + WiFi + BLE                │
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>│   • DFRobot EMG 传感器 (~$15) — 肌电传感器                                     │
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>│   • LDO 稳压器 (TPS73633, ~$0.5) — 3.3V 电源                                  │
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>│   • 电池充电芯片 (TP4056, ~$0.3) — 锂电池充电                                   │
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>│   • 各种电阻、电容、连接器 (~$2) — 被动元件                                      │
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>│                                                                             │
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>│   你需要设计的 (这个仓库存的):                                                  │
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>│   ──────────────────────────────                                            │
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>│   • Carrier Board (载板) — 把上述芯片连接在一起的 PCB                           │
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>│   • 电源电路 — 电池 → LDO → 3.3V 给各芯片供电                                   │
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a>│   • I2C/SPI 总线布线 — ESP32 ↔ LSM6DSV16X 连接                                │
</span><span id="__span-26-21"><a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a>│   • 天线禁区 — BLE/WiFi 天线周围不能有铜                                        │
</span><span id="__span-26-22"><a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a>│   • 外壳设计 — 3D 打印或注塑模具                                                │
</span><span id="__span-26-23"><a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a>│                                                                             │
</span><span id="__span-26-24"><a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a>│   目录结构:                                                                  │
</span><span id="__span-26-25"><a id="__codelineno-26-25" name="__codelineno-26-25" href="#__codelineno-26-25"></a>│   ──────────────────────────────                                            │
</span><span id="__span-26-26"><a id="__codelineno-26-26" name="__codelineno-26-26" href="#__codelineno-26-26"></a>│   pcb/                         # KiCad 项目文件                              │
</span><span id="__span-26-27"><a id="__codelineno-26-27" name="__codelineno-26-27" href="#__codelineno-26-27"></a>│   │   ├── movement-chain.kicad_pro   # 项目配置                              │
</span><span id="__span-26-28"><a id="__codelineno-26-28" name="__codelineno-26-28" href="#__codelineno-26-28"></a>│   │   ├── movement-chain.kicad_sch   # 原理图                                │
</span><span id="__span-26-29"><a id="__codelineno-26-29" name="__codelineno-26-29" href="#__codelineno-26-29"></a>│   │   └── movement-chain.kicad_pcb   # PCB 布局                              │
</span><span id="__span-26-30"><a id="__codelineno-26-30" name="__codelineno-26-30" href="#__codelineno-26-30"></a>│   schematic/                   # 原理图 PDF 导出 (方便查看)                    │
</span><span id="__span-26-31"><a id="__codelineno-26-31" name="__codelineno-26-31" href="#__codelineno-26-31"></a>│   bom/                         # Bill of Materials                          │
</span><span id="__span-26-32"><a id="__codelineno-26-32" name="__codelineno-26-32" href="#__codelineno-26-32"></a>│   │   └── bom.csv              # 要买什么、从哪买、多少钱                       │
</span><span id="__span-26-33"><a id="__codelineno-26-33" name="__codelineno-26-33" href="#__codelineno-26-33"></a>│   gerber/                      # 发给 PCB 厂的生产文件                         │
</span><span id="__span-26-34"><a id="__codelineno-26-34" name="__codelineno-26-34" href="#__codelineno-26-34"></a>│   │   └── *.gbr, *.drl         # JLCPCB/PCBWay 可直接下单                     │
</span><span id="__span-26-35"><a id="__codelineno-26-35" name="__codelineno-26-35" href="#__codelineno-26-35"></a>│   enclosure/                   # 外壳 3D 模型                                │
</span><span id="__span-26-36"><a id="__codelineno-26-36" name="__codelineno-26-36" href="#__codelineno-26-36"></a>│       └── case.stl             # 3D 打印文件                                 │
</span><span id="__span-26-37"><a id="__codelineno-26-37" name="__codelineno-26-37" href="#__codelineno-26-37"></a>│                                                                             │
</span><span id="__span-26-38"><a id="__codelineno-26-38" name="__codelineno-26-38" href="#__codelineno-26-38"></a>│   简单比喻:                                                                  │
</span><span id="__span-26-39"><a id="__codelineno-26-39" name="__codelineno-26-39" href="#__codelineno-26-39"></a>│   ──────────────────────────────                                            │
</span><span id="__span-26-40"><a id="__codelineno-26-40" name="__codelineno-26-40" href="#__codelineno-26-40"></a>│   • 你买的是「乐高积木」(现成芯片)                                               │
</span><span id="__span-26-41"><a id="__codelineno-26-41" name="__codelineno-26-41" href="#__codelineno-26-41"></a>│   • 这个仓库是「乐高说明书」(怎么组装)                                            │
</span><span id="__span-26-42"><a id="__codelineno-26-42" name="__codelineno-26-42" href="#__codelineno-26-42"></a>│                                                                             │
</span><span id="__span-26-43"><a id="__codelineno-26-43" name="__codelineno-26-43" href="#__codelineno-26-43"></a>│   MVP1 状态: ❌ 跳过 (用开发板代替)                                            │
</span><span id="__span-26-44"><a id="__codelineno-26-44" name="__codelineno-26-44" href="#__codelineno-26-44"></a>│   Phase 2: 设计自定义 PCB，小批量生产                                           │
</span><span id="__span-26-45"><a id="__codelineno-26-45" name="__codelineno-26-45" href="#__codelineno-26-45"></a>│   关键产出: 可量产的硬件设计                                                    │
</span><span id="__span-26-46"><a id="__codelineno-26-46" name="__codelineno-26-46" href="#__codelineno-26-46"></a>│                                                                             │
</span><span id="__span-26-47"><a id="__codelineno-26-47" name="__codelineno-26-47" href="#__codelineno-26-47"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="75-movement-chain-ai-docs">7.5 movement-chain-ai-docs (这个仓库)<a class="headerlink" href="#75-movement-chain-ai-docs" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>│   movement-chain-ai-docs — 项目文档                                          │
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>│                                                                             │
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>│   你用的现成工具:                                                             │
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>│   ──────────────────────────────                                            │
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>│   • Zensical (Material for MkDocs 团队) — 静态站点生成器                       │
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>│   • Mermaid — 流程图、时序图                                                  │
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>│   • markdownlint — Markdown 格式检查                                         │
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>│                                                                             │
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>│   你需要写的内容:                                                              │
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>│   ──────────────────────────────                                            │
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>│   • 商业计划 — MVP 定义、竞品分析、市场策略                                       │
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>│   • 技术设计 — 架构设计、ADR、算法规格                                           │
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>│   • 硬件规格 — 传感器选型、供应商信息                                            │
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a>│   • 开发指南 — 如何贡献、如何部署                                               │
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a>│                                                                             │
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a>│   目录结构:                                                                  │
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a>│   ──────────────────────────────                                            │
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>│   docs/zh/                                                                  │
</span><span id="__span-27-21"><a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a>│   ├── business-plan/           # WHY: 商业价值                               │
</span><span id="__span-27-22"><a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a>│   │   ├── mvp-specifications.md    # MVP 定义                                │
</span><span id="__span-27-23"><a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a>│   │   ├── market-insights/         # 市场分析、竞品                            │
</span><span id="__span-27-24"><a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>│   │   └── go-to-market/            # 上市策略                                 │
</span><span id="__span-27-25"><a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a>│   ├── design/                  # WHAT: 技术架构                               │
</span><span id="__span-27-26"><a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a>│   │   ├── foundations/         # 高尔夫生物力学基础 (先读这个)                   │
</span><span id="__span-27-27"><a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a>│   │   ├── architecture/        # 系统设计 (4 个核心文档)                        │
</span><span id="__span-27-28"><a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a>│   │   ├── specs/               # 详细规格                                     │
</span><span id="__span-27-29"><a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a>│   │   └── decisions/           # ADR 架构决策记录                              │
</span><span id="__span-27-30"><a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a>│   ├── components/              # 硬件规格                                     │
</span><span id="__span-27-31"><a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a>│   │   ├── imu/                 # IMU 传感器                                   │
</span><span id="__span-27-32"><a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a>│   │   └── emg/                 # EMG 传感器                                   │
</span><span id="__span-27-33"><a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a>│   ├── development/             # HOW: 开发指南                                │
</span><span id="__span-27-34"><a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a>│   │   ├── mobile/              # Swift iOS 开发                              │
</span><span id="__span-27-35"><a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a>│   │   └── ml-training/         # ML 训练                                     │
</span><span id="__span-27-36"><a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a>│   └── reference/               # 外部链接 (只放 URL，不放内容)                  │
</span><span id="__span-27-37"><a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a>│                                                                             │
</span><span id="__span-27-38"><a id="__codelineno-27-38" name="__codelineno-27-38" href="#__codelineno-27-38"></a>│   MVP1 状态: ✅ 持续更新                                                      │
</span><span id="__span-27-39"><a id="__codelineno-27-39" name="__codelineno-27-39" href="#__codelineno-27-39"></a>│   关键产出: 所有设计决策的单一来源 (Single Source of Truth)                      │
</span><span id="__span-27-40"><a id="__codelineno-27-40" name="__codelineno-27-40" href="#__codelineno-27-40"></a>│                                                                             │
</span><span id="__span-27-41"><a id="__codelineno-27-41" name="__codelineno-27-41" href="#__codelineno-27-41"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<h3 id="76">7.6 仓库优先级总结<a class="headerlink" href="#76" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>仓库</th>
<th>MVP1 状态</th>
<th>开始时间</th>
<th>关键产出</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>movement-chain-ml</strong></td>
<td>✅ 核心</td>
<td>现在</td>
<td>融合管道 + Mock 验证</td>
</tr>
<tr>
<td><strong>movement-chain-ai-docs</strong></td>
<td>✅ 持续</td>
<td>现在</td>
<td>设计文档</td>
</tr>
<tr>
<td><strong>movement-chain-mobile</strong></td>
<td>⏳ Phase 1.5</td>
<td>ML 完成后</td>
<td>iOS/Android 应用</td>
</tr>
<tr>
<td><strong>movement-chain-firmware</strong></td>
<td>⏳ Phase 2</td>
<td>硬件到货后</td>
<td>BLE 数据流</td>
</tr>
<tr>
<td><strong>movement-chain-hardware</strong></td>
<td>❌ 跳过</td>
<td>Phase 2</td>
<td>量产 PCB</td>
</tr>
</tbody>
</table>
<h3 id="77-shared-contracts">7.7 共享契约 (Shared Contracts)<a class="headerlink" href="#77-shared-contracts" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>┌─────────────────────────────────────────────────────────────────────────────┐
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>│                    共享契约 SHARED CONTRACTS                                 │
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>├─────────────────────────────────────────────────────────────────────────────┤
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>│                                                                             │
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>│   定义: 两个仓库之间约定的数据格式，改一边必须同步改另一边                           │
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>│                                                                             │
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>│   ═══════════════════════════════════════════════════════════════════════   │
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>│   契约 1: BLE 消息格式 (firmware ↔ mobile)                                    │
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>│   ═══════════════════════════════════════════════════════════════════════   │
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>│   firmware/protocol.h:                  mobile/ble_messages.dart:           │
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>│   struct ImuPacket { ... }              class ImuPacket { ... }             │
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>│   → 字节顺序、字段定义必须完全一致                                               │
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>│                                                                             │
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>│   ═══════════════════════════════════════════════════════════════════════   │
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>│   契约 2: 数据模型 (ml ↔ mobile)                                              │
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a>│   ═══════════════════════════════════════════════════════════════════════   │
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a>│   同步方式:                                                                  │
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>│   1. ML repo 定义 Pydantic model                                             │
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>│   2. 导出 JSON Schema: model.model_json_schema()                             │
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>│   3. Mobile repo 用 quicktype 生成 Dart class                                │
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a>│                                                                             │
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a>│   ═══════════════════════════════════════════════════════════════════════   │
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a>│   契约 3: TFLite 模型 (ml → mobile)                                          │
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a>│   ═══════════════════════════════════════════════════════════════════════   │
</span><span id="__span-28-25"><a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a>│   ML repo 导出 model_v1.2.0.tflite → Mobile assets/ 引用                     │
</span><span id="__span-28-26"><a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a>│   → 版本号必须匹配，输入/输出 tensor shape 必须一致                              │
</span><span id="__span-28-27"><a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a>│                                                                             │
</span><span id="__span-28-28"><a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a>└─────────────────────────────────────────────────────────────────────────────┘
</span></code></pre></div>
<hr />
<h2 id="8-action-items">8. 行动项目 (Action Items)<a class="headerlink" href="#8-action-items" title="Permanent link">&para;</a></h2>
<h3 id="_5">🔴 高优先级<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>项目</th>
<th>状态</th>
<th>说明</th>
<th>截止日期</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>确认 MyoWare 2.0 供货</strong></td>
<td>⏳ 待确认</td>
<td>SparkFun DEV-18977 已退役，需确认 DEV-21265 可用性</td>
<td>采购前</td>
</tr>
<tr>
<td><strong>评估 EMG 替代方案</strong></td>
<td>⏳ 待评估</td>
<td>Muscle BioAmp (<span class="arithmatex">\(20) / uMyo (~\)</span>50) 作为备选</td>
<td>采购前</td>
</tr>
</tbody>
</table>
<h3 id="_6">🟡 中优先级<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>项目</th>
<th>状态</th>
<th>说明</th>
<th>截止日期</th>
</tr>
</thead>
<tbody>
<tr>
<td>更新 data-flow.md</td>
<td>⏳ 待更新</td>
<td>同步 BLE 抖动研究到权威文档</td>
<td>下周</td>
</tr>
<tr>
<td>更新 components/emg/hardware.md</td>
<td>⏳ 待更新</td>
<td>添加 MyoWare 2.0 停产警告</td>
<td>下周</td>
</tr>
<tr>
<td>ESP32 源端时间戳固件原型</td>
<td>⏳ 待开发</td>
<td>实现 <code>esp_timer_get_time()</code> 打包</td>
<td>Phase 2</td>
</tr>
</tbody>
</table>
<h3 id="_7">🟢 备注<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>⚠️ MyoWare 2.0 供货风险:
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>   • 原版 DEV-18977 已在 SparkFun 标记为 &quot;Retired&quot;
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>   • 新版 DEV-21265 可能存在供货延迟
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>   • 建议: 采购前联系 SparkFun 确认库存，或考虑批量预订
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>   • 替代方案:
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>     - Muscle BioAmp (~$20) - 开源，DIY 友好
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>     - uMyo (~$50) - 多通道，研究级
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>     - DFRobot SEN0240 (¥319) - 中国本土，供货稳定
</span></code></pre></div>
<hr />
<h2 id="10">10. 相关文档<a class="headerlink" href="#10" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>文档</th>
<th>内容</th>
<th>关系</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><a href="../../architecture/system-design/">system-design.md</a></strong></td>
<td><strong>MVP 系统架构总览</strong></td>
<td><strong>⭐ Hub 文档</strong></td>
</tr>
<tr>
<td><strong><a href="../../architecture/data-flow/">data-flow.md</a></strong></td>
<td><strong>数据流与时间同步</strong></td>
<td><strong>⭐ 权威来源</strong></td>
</tr>
<tr>
<td><a href="../../architecture/modular-architecture/">modular-architecture.md</a></td>
<td>LEGO 积木设计</td>
<td>六边形对应</td>
</tr>
<tr>
<td><a href="../../architecture/sensor-data-processing/">sensor-data-processing.md</a></td>
<td>算法实现代码</td>
<td>Mock 数据生成</td>
</tr>
<tr>
<td><a href="../0005-esp32-s3-microcontroller/">ADR-0005</a></td>
<td>ESP32-S3 选型</td>
<td>硬件决策</td>
</tr>
<tr>
<td><a href="../0007-swift-ios-native/">ADR-0007</a></td>
<td>Swift iOS 开发</td>
<td>移动端决策</td>
</tr>
<tr>
<td><a href="../../../business-plan/market-insights/competitors/vision-based/">vision-based.md</a></td>
<td>竞品分析</td>
<td>2025 更新</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>文档优先级</strong>: <code>data-flow.md</code> 是数据流和时间同步的<strong>单一权威来源</strong>。
本决策文档只做高层确认，与 data-pipeline 冲突时以后者为准。</p>
</blockquote>
<hr />
<p><strong>最后更新</strong>: 2025-12-23
<strong>维护者</strong>: Movement Chain AI Team</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/movement-chain-ai" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/movement-chain-ai" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.tracking", "search.suggest", "search.highlight", "content.code.copy", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>